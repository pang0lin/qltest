/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: JspC/ApacheTomcat8
 * Generated at: 2023-01-06 09:42:35 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.box;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import com.js.oa.online.service.*;
import com.js.oa.box.po.BoxPO;

public final class addBox_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_packages.add("com.js.oa.online.service");
    _jspx_imports_classes = new java.util.HashSet<>();
    _jspx_imports_classes.add("com.js.oa.box.po.BoxPO");
  }

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    final java.lang.String _jspx_method = request.getMethod();
    if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method) && !javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET, POST or HEAD. Jasper also permits OPTIONS");
      return;
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=GBK");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n\r\n\r\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\r\n<!--\r\n *  注释:百宝箱  \r\n * <p>Description:百宝箱增加页面</p>\r\n * <p>Company: Beijing JS  C0. Ltd.</p>\r\n * \r\n * @version jsoa 1.0\r\n */\r\n-->\r\n<html>\r\n<head>\r\n<title>设置百宝箱</title>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=GBK\">\r\n<link href=\"/jsoa/skin/blue/style.css\" rel=\"stylesheet\" type=\"text/css\" />\r\n<script language=\"JavaScript\" src=\"/jsoa/js/resource/zh_cn/CommonResource.js\" type=\"text/javascript\"></script>\r\n<script src=\"/jsoa/js/js.js\" language=\"javascript\"></script>\r\n<script src=\"/jsoa/js/resource/zh_cn/PersonalworkResource.js\" language=\"javascript\"></script>\r\n</head>\r\n<body leftmargin=\"0\" topmargin=\"0\"   class=\"MainFrameBox Pupwin\" onfocus=\"javascript:showIMG();\" onLoad=\"javascript:MyImage(document.all.ImgShow);\" onresize=\"javascript:MyImage(document.all.ImgShow);\">\r\n\r\n<table width=\"100%\" height=\"100%\" border=\"0\" cellpadding=\"10\" cellspacing=\"0\" class=\"docBoxNoPanel\">\r\n  <tr>\r\n    <td valign=\"top\">\r\n\t<div id=\"docinfo0\" style=\"display:;\">\r\n");
      out.write("\t   <table width=\"100%\" border=\"0\" cellpadding=\"2\" cellspacing=\"1\">\r\n\t\t\t    <form name=\"AddressActionForm\" method=\"post\" action=\"handleBox.jsp?action=add\" >\r\n\t\t\t\t<input type=\"hidden\" name=\"con\" value=\" \">\r\n\t\t\t\t<input type=\"hidden\" name=\"done\" value=\" \">\r\n\t\t\t\t<input type=\"hidden\" name=\"refreshType\" value=\"1\"/>\r\n\t\t\t\t<tr>\r\n\t\t\t\t  <td width=\"80\" nowrap>设置名称&nbsp;<label class=\"MustFillColor\">*</label>：</td>\r\n\t\t\t\t  <td><input type=\"text\" name=\"netAddressName\" maxlength=\"10\" size=\"50\"  class=\"inputText\"></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t  <td nowrap>设置网址&nbsp;<label class=\"MustFillColor\">*</label>：</td>\r\n\t\t\t\t  <td><input type=\"text\" name=\"netAddressUrl\" maxlength=\"50\" size=\"50\"  class=\"inputText\"></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td></td>\r\n\t\t\t\t\t<td><label class=\"MustFillColor\">[请输入网址!如:http://www.sina.com.cn]</label></td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t  <td nowrap>设置简介&nbsp;<label class=\"MustFillColor\">*</label>：</td>\r\n\t\t\t\t  <td><input type=\"text\" name=\"synopsis\" maxlength=\"16\" size=\"50\"  class=\"inputText\"></td>\r\n\t\t\t\t</tr>\r\n");
      out.write("\t\t\t   <tr>\r\n\t\t\t\t  <td nowrap>图片&nbsp;<label class=\"MustFillColor\">*</label>：<input type=\"hidden\" name=\"empLivingPhoto\" value=\"\"></td>\r\n\t\t\t\t  <td><button class=\"btnButton4font\" onClick=\"javascript:selectImg();\">上传照片</button>\r\n\t\t\t\t  </td>\r\n\t\t\t\t</tr>\r\n\t     </table>\r\n   </div>\r\n                 \r\n                        \r\n<table width=\"100%\" border=\"0\" >   \r\n    <tr>\r\n    <td  nowrap>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>\r\n    <td>\t\r\n\t\t<div style=\"width:expression(document.body.clientWidth/2-100);float:left;height:100px;margin:5px;\">\r\n\t\t\t<table border=\"0\" cellpadding=\"4\" cellspacing=\"0\" align=\"center\" style=\"border:1px solid #dddddd;\">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td valign=\"middle\" align=\"center\" width=\"50\" height=\"50\">\r\n\t\t\t\t\t\t<div style=\"width:expression(document.body.clientWidth/2-120);height:100px;overflow:hidden;\">\r\n\t\t\t\t\t\t\t<table width=\"100%\" height=\"100%\" border=\"0\" align=\"center\" cellpadding=\"0\" cellspacing=\"0\">\r\n\t\t\t\t\t\t\t\t<tr><td align=center value=\"middle\">\r\n                                    <img id=\"ImgShow\" onLoad=\"MyImage(this);\"  src=\"/jsoa/images/menublank.gif\" onresize=\"MyImage(this);\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t</div>\r\n                    </td>\r\n                </tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</td>\r\n  </tr>\r\n  <tr>  \r\n  <td colspan=\"2\">\r\n    <input type=\"button\" class=\"btnButton4font\" style=\"cursor:pointer\" onclick=\"saveClose()\" value=\"保存\"/>\r\n\r\n\t<input type=\"button\" class=\"btnButton2font\" style=\"cursor:pointer\" onclick=\"javascript:window.close();\" value=\"退出\"/>\r\n  </td>\r\n  </tr>\r\n  \r\n </table>\r\n\r\n\r\n\r\n</body>\r\n</html>\r\n<script language=\"javascript\">\r\nfunction MyImage(Img){\r\nvar image=new Image();\r\nimage.src=Img.src;\r\nwidth=document.body.clientWidth/2-120;//预先设置的所期望的宽的值\r\nheight=100;//预先设置的所期望的高的值\r\nif(image.width>width||image.height>height){//现有图片只有宽或高超了预设值就进行js控制\r\nw=image.width/width;\r\nh=image.height/height;\r\nif(w>h){//比值比较大==>宽比高大\r\n//定下宽度为width的宽度\r\nImg.width=width;\r\n//以下为计算高度\r\nImg.height=image.height/w;\r\n}else{//高比宽大\r\n//定下宽度为height高度\r\nImg.height=height;\r\n//以下为计算高度\r\nImg.width=image.width/h;\r\n}\r\n}else{\r\n Img.height = image.height;\r\n Img.width = image.width;\r\n}\r\n}\r\nfunction selectImg(){\r\n");
      out.write("    window.open(((window.location.href).substring(0,(window.location.href).indexOf(\"/jsoa\")))+\"/jsoa/public/jsp/livephotoupload.jsp?path=box&visualName=empLivingPhoto&hiddenName=empLivingPhoto&del=yes\",'上传','menubar=0,scrollbars=0,locations=0,width=400,height=200,resizable=yes');\r\n}\r\n\r\nfunction showIMG(){\r\n\tif(document.all.empLivingPhoto.value != \"\"){\r\n\t\tvar signatureImg=document.all.empLivingPhoto.value;\t\r\n\t\tif(signatureImg!=null && signatureImg.length>6 && signatureImg.substring(4,5)==\"_\"){\r\n\t\t\tdocument.all.ImgShow.src=\"/jsoa/upload/\"+signatureImg.substring(0,4)+\"/box/\"+signatureImg;\r\n\t\t}else{\r\n\t\t\tdocument.all.ImgShow.src=\"/jsoa/upload/0000/box/\"+signatureImg;\r\n\t\t}\r\n\t}\r\n    else\r\n    {\r\n    \tdocument.all.ImgShow.src=\"/jsoa/images/menublank.gif\";\r\n    }\r\n\t//SetImgAutoSize(480,360);\r\n}\r\n\r\n//页面有效性检查\r\nfunction initPara() {\r\n  \r\n    return (checkText(AddressActionForm.netAddressName,10,Personalwork.website_name)&&\r\n            checkText(AddressActionForm.netAddressUrl,50,Personalwork.website_website)&&\r\n            checkURL(AddressActionForm.netAddressUrl,\"1\")\r\n");
      out.write("       \r\n    )\r\n   \r\n}\r\n//检查网址格式\r\nfunction checkURL(val,mode){\r\n\tif((mode==0) && (val.value==\"\")){\r\n\t\treturn true;\r\n\t}\r\n\r\n\tvar val2 = val.value;\r\n\tif ( val2.indexOf('://')>0 ){\r\n\t\tvar isNot=\" !@$^*()'`~|]}[{;>,<\";\r\n\t\tif (val2.indexOf('\\\"')>0||val2.indexOf('\\\\')>0){\r\n\t\t\talert(Personalwork.website_websiteformatewrong);\r\n\t\t\tval.focus();\r\n\t\t\tval.select();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tfor (var i = 0;i < val2.length;i++){\r\n\t\t\t\tfor (var x = 1 ;x < isNot.length;x++){\r\n\t\t\t\t\tif (val2.charAt(i)==isNot.charAt(x)){\r\n\t\t\t\t\t\talert(Personalwork.website_websiteformatewrong);\r\n\t\t\t\t\t\tval.focus();\r\n\t\t\t\t\t\tval.select();\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\telse{\r\n\t\talert(Personalwork.website_websiteformatewrong);\r\n\t\tval.focus();\r\n\t\tval.select();\r\n\t\treturn false;\r\n\t}\r\n\treturn true;\r\n}\r\n\r\n\r\n//保存退出\r\nfunction saveClose() {\r\n        if(initPara()==false) return  ;\r\n        //验证简介内容\r\n        if(document.AddressActionForm.synopsis.value==\"\"){\r\n        alert(\"简介不能为空\");\r\n        document.AddressActionForm.synopsis.focus();\r\n");
      out.write("        return false;\r\n        }\r\n    \tAddressActionForm.done.value = \"done\";\r\n    \tAddressActionForm.submit();\r\n}\r\n\r\n</script>\r\n<script  src=\"/jsoa/js/checkText.js\"  language=\"javascript\" ></script>\r\n<SCRIPT language=\"javascript\" src=\"/jsoa/js/openEndow.js\"></SCRIPT>\r\n<script src=\"/jsoa/js/util.js\"></script>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
