/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: JspC/ApacheTomcat8
 * Generated at: 2023-01-06 10:04:51 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.doc.doc;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import org.apache.commons.lang.StringUtils;
import com.js.oa.tjgzw.bean.TjgzwBean;
import com.js.util.config.SystemCommon;
import com.js.doc.doc.bean.DocWordMust;
import java.util.*;
import java.util.Set;
import java.util.Map;
import com.js.lang.Resource;
import com.js.util.util.BrowserJudge;

public final class receivefile_005fadd_005ftemp_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(7);
    _jspx_dependants.put("/WEB-INF/tag-lib/struts-nested.tld", Long.valueOf(1499751390000L));
    _jspx_dependants.put("/WEB-INF/tag-lib/struts-tiles.tld", Long.valueOf(1499751390000L));
    _jspx_dependants.put("/WEB-INF/tag-lib/struts-logic.tld", Long.valueOf(1499751390000L));
    _jspx_dependants.put("/WEB-INF/tag-lib/struts-html.tld", Long.valueOf(1499751390000L));
    _jspx_dependants.put("/jsflow/workflow_include_firstHidden.jsp", Long.valueOf(1499751422000L));
    _jspx_dependants.put("/WEB-INF/tag-lib/struts-template.tld", Long.valueOf(1499751390000L));
    _jspx_dependants.put("/WEB-INF/tag-lib/struts-bean.tld", Long.valueOf(1499751390000L));
  }

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("java.util");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = new java.util.HashSet<>();
    _jspx_imports_classes.add("com.js.doc.doc.bean.DocWordMust");
    _jspx_imports_classes.add("org.apache.commons.lang.StringUtils");
    _jspx_imports_classes.add("com.js.lang.Resource");
    _jspx_imports_classes.add("com.js.util.config.SystemCommon");
    _jspx_imports_classes.add("java.util.Map");
    _jspx_imports_classes.add("com.js.oa.tjgzw.bean.TjgzwBean");
    _jspx_imports_classes.add("java.util.Set");
    _jspx_imports_classes.add("com.js.util.util.BrowserJudge");
  }

  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fhtml_005fhtml;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fhtml_005fform_0026_005fmethod_005faction;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fhtml_005fhidden_0026_005fproperty_005fnobody;

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
    _005fjspx_005ftagPool_005fhtml_005fhtml = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fhtml_005fform_0026_005fmethod_005faction = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fhtml_005fhidden_0026_005fproperty_005fnobody = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
  }

  public void _jspDestroy() {
    _005fjspx_005ftagPool_005fhtml_005fhtml.release();
    _005fjspx_005ftagPool_005fhtml_005fform_0026_005fmethod_005faction.release();
    _005fjspx_005ftagPool_005fhtml_005fhidden_0026_005fproperty_005fnobody.release();
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    final java.lang.String _jspx_method = request.getMethod();
    if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method) && !javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET, POST or HEAD. Jasper also permits OPTIONS");
      return;
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=GBK");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<!DOCTYPE HTML>\r\n");

		String tableid=request.getParameter("tableId")+"";
		DocWordMust dm=new DocWordMust();
		Map map=dm.getMustWord(tableid);
		//必填字段
		String mustword=map.get("mustword")==null?"":map.get("mustword")+"";
		//表中被选中的字段
		String govcheckfield=map.get("govcheckfield")==null?"":map.get("govcheckfield")+"";
		
		String read_processId=request.getParameter("processId");
	
		Map mapinfo = (Map)request.getAttribute("mapinfo");
		Object[] receiveFileType_Arr = (Object[])mapinfo.get("receiveFileType");//文件归类
		Object[] pigeonholeTypeObj = (Object[])mapinfo.get("pigeonholeType");//归档类型
		Object[] zjkyType_Arr= (Object[])mapinfo.get("decumentKind");//文种
		Object[] receiveFileSafetyGrade_Arr = (Object[])mapinfo.get("receiveSecretLevel");//秘密级别
		Object[] field4_Arr = (Object[])mapinfo.get("urgencyLevel");//紧急程度
		Object[] zjkykeepTerm_Arr = (Object[])mapinfo.get("keepTerm");//
		Object[] receiveDropDownSelect1_Arr = (Object[])mapinfo.get("receiveDropDownSelect1");//
		Object[] receiveDropDownSelect2_Arr = (Object[])mapinfo.get("receiveDropDownSelect2");//
		String noWriteField = new com.js.oa.jsflow.service.WorkFlowCommonBD().getNoWriteField(request.getParameter("processId"));
		String noDisplayFields=new com.js.oa.jsflow.util.NewWorkflowUtil().getFirstActivityNoDisplayField(request.getParameter("processId"));





		 java.util.Date serverDate = new java.util.Date() ;
         String serverY = serverDate.getYear() + 1900 +"";
         String serverM = serverDate.getMonth() + 1 +"";
         String serverD = serverDate.getDate() +"";
		 String field3_value=""+serverDate.getTime();

		String fileServer ="";
		if(session.getAttribute("fileServer")!=null)
		fileServer=session.getAttribute("fileServer").toString();
		java.util.Map sysMap = com.js.system.util.SysSetupReader.getInstance().getSysSetupMap(session.getAttribute("domainId").toString());

		String  accessoryName1=request.getParameter("accessoryName1")==null?"":request.getParameter("accessoryName1").toString();
        String  accessorySaveName1=request.getParameter("accessorySaveName1")==null?"":request.getParameter("accessorySaveName1").toString();

        if(accessorySaveName1==null||"".equals(accessorySaveName1)){ 
        accessoryName1=request.getAttribute("accessory1")==null?"":request.getAttribute("accessory1").toString(); 
        accessorySaveName1=request.getAttribute("accessorySave1")==null?"":request.getAttribute("accessorySave1").toString();
        }

	    String sendFileId=request.getParameter("sendFileId")==null?"":request.getParameter("sendFileId").toString();//发文转收文id
        String sendFileLink=request.getParameter("sendFileLink")==null?"":request.getParameter("sendFileLink").toString();
	    String sendFileTitle1=request.getParameter("sendFileTitle")==null?"":request.getParameter("sendFileTitle").toString();
      
	    String fromFileSendCheckLink=request.getParameter("fromFileSendCheckLink")==null?"":request.getParameter("fromFileSendCheckLink").toString();
	    String  fromFileSendCheckId=request.getParameter("fromFileSendCheckId")==null?"":request.getParameter("fromFileSendCheckId").toString();
        String accessoryName2=request.getParameter("accessoryName")==null?"":request.getParameter("accessoryName").toString();
     
	    String accessorySaveName2=request.getParameter("accessorySaveName")==null?"":request.getParameter("accessorySaveName").toString();
        
	    if(accessoryName2==null||"".equals(accessoryName2)){
	    	accessoryName2=request.getAttribute("accessory2")==null?"":request.getAttribute("accessory2").toString(); 
			accessorySaveName2=request.getAttribute("accessorySave2")==null?"":request.getAttribute("accessorySave2").toString();
			if(accessoryName2==null||"".equals(accessoryName2)){
		    	String[] fileName_1=request.getParameterValues("fileName")==null?new String[0]:request.getParameterValues("fileName");
		        String[] saveName_1 = request.getParameterValues("saveName")==null?new String[0]:request.getParameterValues("saveName");
	   
		        int k = 0;
	            for (int i = 0; fileName_1 != null && i < fileName_1.length;i++) {
	                 if (fileName_1[i] != null && !"".equals(fileName_1[i])) {
	                    k++;
	                    if (k != 1) { //第一个元素的前面不加"|"
	                        accessoryName2="|"+accessoryName2;
	                         accessorySaveName2="|"+accessorySaveName2;
	                     }
	                  accessoryName2=accessoryName2+fileName_1[i];
	                  accessorySaveName2=accessorySaveName2+saveName_1[i];
	                 }
	            }
			}
	        
        }

		String seqNum = request.getParameter("seqNum")==null?"":request.getParameter("seqNum");

		String  oseqId=request.getAttribute("seqId")==null?"":request.getAttribute("seqId").toString();

	   boolean canModify = true;
	   String buttonName="上传";
	   String[] realFileArray ;
	   String[] saveFileArray ;
	   Object accName;
	   Object accSName;
	   String path = "govdocumentmanager" ;
	   String tableName="";
	   String fileName = "" ;
	   String saveName = "";
	   int fileMaxSize = 0;
	   int fileMaxNum  = 20 ;
	   int fileMaxWidth = 0 ;
	   int fileMaxHeight = 0;
	   int fileMinWidth = 0;
	   int fileMinHeight = 0;
	   String fileType = "" ;



	   String receiveFileSendFileUnitId=request.getParameter("receiveFileSendFileUnitId")==null?"":request.getParameter("receiveFileSendFileUnitId");
	   if(StringUtils.isEmpty(receiveFileSendFileUnitId)){
		   receiveFileSendFileUnitId = (String)request.getAttribute("receiveFileSendFileUnitId");
		   receiveFileSendFileUnitId = receiveFileSendFileUnitId==null?"":receiveFileSendFileUnitId;
	   }
	   String receiveFileSendFileUnit=request.getParameter("receiveFileSendFileUnit")==null?"":request.getParameter("receiveFileSendFileUnit");

	   String read_tableId=request.getParameter("tableId")==null?"":request.getParameter("tableId").toString();

  
      out.write("\r\n\r\n<script language=\"javascript\">\r\nfunction openPupWin(url,w,h){\r\n    JSMainWinOpen4(url,\"_blank\",\"width=\"+w+\",height=\"+h+\",location=no,resizable=no,status=no\",500,250);\r\n}\r\n\r\nfunction MM_openBrWindow(theURL,winName,features) { \r\n  JSMainWinOpen(theURL,winName,features);\r\n}\r\n//初始化页面\r\nfunction init() {\r\n\t\r\n  var tmpDate=new Date();\r\n  var year =tmpDate.getYear();\r\n   var done = \"");
      out.print(request.getParameter("done"));
      out.write("\" ;\r\n   if(done==\"done\") {\r\n        if( opener.window.document.all.queryItem1){\r\n        \topener.window.location.reload();\r\n        }\r\n        window.close();\r\n    }else{\r\n    \t//alert(\"请勿处理涉密件！\");\r\n    }\r\n    try{\r\n        document.all.receiveFileSendFileUnit.focus();\r\n    }catch(e){}\r\n    //增加登记人姓名逻辑\r\n    if(document.all.receiveAuthorName){\r\n    \tdocument.all.receiveAuthorName.value=\"");
      out.print(request.getSession().getAttribute("userName").toString());
      out.write("\";\r\n    \tdocument.all.receiveAuthorName.readOnly=\"true\";\r\n    }\r\n    \r\n}\r\n\r\n\r\n//选择流水号\r\nfunction changeSeqNum(){\t  \r\nopenPupWin(\"/jsoa/GovReceiveFileAction.do?action=iniSeqNum&processId=");
      out.print(read_processId);
      out.write("\",400,200);\r\n}\r\n\r\n//选择来文单位\r\nfunction  choosePerson(type,field,fieldId,title){\r\n\t//JSMainWinOpen(\"/jsoa/SenddocumentBaseAction.do?action=unitlist_choose&type=\"+type+\"&field=\"+field+\"&fieldId=\"+fieldId,title,'menubar=0,scrollbars=yes,locations=0,width=800,height=600,resizable=yes');\r\n\tJSMainWinOpen4(\"/jsoa/SenddocumentBaseAction.do?action=unitlist_choose&type=\"+type+\"&field=\"+field+\"&fieldId=\"+fieldId,\"_blank\",'menubar=0,scrollbars=yes,locations=0,width=800,height=600,resizable=yes','1200','500');\r\n}\r\n\r\n//检查页面参数有效性\r\nfunction initPara(){\r\n\r\n    if(GovReceiveFileActionForm.field1.value==\"\"||GovReceiveFileActionForm.field2.value==\"\"||GovReceiveFileActionForm.field3.value==\"\" || isNaN(GovReceiveFileActionForm.field3.value)){\r\n        alert(\"请正确设置收文编号！\");\r\n        return false;\r\n    }\r\n    if(GovReceiveFileActionForm.receiveFileFileNoCount.value==-1){\r\n        alert(\"来文编号计算有错误！\") ;\r\n        return false ;\r\n    }\r\n    var receiveFileNo=GovReceiveFileActionForm.field1.value+\"\"+GovReceiveFileActionForm.field2.value+\"\"+GovReceiveFileActionForm.field3.value;\r\n");
      out.write("    if(receiveFileNo.length>35){\r\n        alert(\"编号最多字数为25!\");\r\n\t return false;\r\n    }\r\n\r\n\tdocument.all.sendContinueUrl.value += \"&sendContinue=1&seqId=\"+document.all.seqId.value;\t\r\n\tif(!checkFieldLength()){\t \r\n\t\treturn false;\r\n\t}\r\n\t");

	String projectType = session.getServletContext().getInitParameter("projectType");
	if(projectType!=null&&"tjgzw".equals(projectType)){//是天津国资委项目 判断流水号（登记文号）是否重复
	
      out.write("\t\r\n\t    var editId = document.all.editId.value;\r\n\t    if(editId==''||editId==null){//不是更新\r\n\r\n\t\t    var tagc=1;\r\n\t\t\txmlHttp.open(\"GET\", \"/jsoa/tjgzw/check_gzw_liushui.jsp?code=\"+document.all.zjkySeq.value, false);\r\n\t\t\txmlHttp.onreadystatechange = function(){\r\n\t\t\t\tif (xmlHttp.readyState == 4) {\r\n\t\t\t\t\tvar response = xmlHttp.responseText;\r\n\t\t\t\t\tif(response.indexOf(\"OK\")<0){\r\n\t\t\t\t\t\talert(\"登记文号重复，请修改！\");\r\n\t\t\t\t\t\ttagc=0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\txmlHttp.send(null);\r\n\t\t\tif(tagc==0){\r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\t    \t\r\n\t    }\r\n\t\r\n\t");

	}
	
      out.write('\r');
      out.write('\n');
      out.write('	');
 if("shandongguotou".equals(com.js.util.config.SystemCommon.getCustomerName())){
      out.write("\r\n\treturn (checkText(GovReceiveFileActionForm.receiveFileSendFileUnit,35,\"来文单位\")&&checkText(GovReceiveFileActionForm.receiveFileTitle,95,\"收文标题\")\r\n    \t\t&&checkText(GovReceiveFileActionForm.zjkyType,10,\"公文类别\")&&checkAttachment(GovReceiveFileActionForm.accessoryName1) && wordMustCheck());\r\n\t\r\n\t");
} else{
      out.write("\r\n    return (checkText(GovReceiveFileActionForm.receiveFileSendFileUnit,35,\"来文单位\")&&checkText(GovReceiveFileActionForm.receiveFileTitle,95,\"收文标题\") && wordMustCheck());\r\n    ");
}
      out.write("\r\n}\r\n\r\n\r\n<govCheckLength>\r\n\r\nvar xmlHttp = false;\r\n\ttry {\r\n\t\txmlHttp = new ActiveXObject(\"Msxml2.XMLHTTP\");\r\n\t} catch (e) {\r\n\t\ttry {\r\n\t\t\txmlHttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n\t\t} catch (e2) {\r\n\t\t\txmlHttp = false;\r\n\t\t}\r\n\t}\r\n\tif (!xmlHttp && typeof XMLHttpRequest != 'undefined') {\r\n\t\txmlHttp = new XMLHttpRequest();\r\n\t}\r\n//2。发送验证信息到服务器\r\nfunction checkreceiveFileCode(){\r\n\txmlHttp.open(\"GET\", \"/jsoa/doc/doc/doc_checkrecievefilecode.jsp?code=\"+document.all.field1.value+\"[\"+document.all.field2.value+\"]\"+document.all.field3.value, true);\r\n\txmlHttp.onreadystatechange = showResult;\r\n\txmlHttp.send(null);\r\n}\r\n//3。将验证结过输出\r\nfunction showResult(){\r\n\tif (xmlHttp.readyState == 4) {\r\n\t\tvar response = xmlHttp.responseText;\r\n\t\tif(response.indexOf(\"OK\")<0){\r\n\t\t\tdocument.all.field3.value=\"\";\r\n\t\t\talert(\"收文编号重复，请修改！\");\r\n\t\t}\r\n\t}\r\n}\r\n//增加收文文号验证\r\n//选择\r\nfunction changeNumber(val){\r\n    if(val!=\"-1\"){\r\n        var receiveFileType=GovReceiveFileActionForm.receiveFileType.value;\r\n        var year =GovReceiveFileActionForm.field2.value;\r\n");
      out.write("        var obj = document.all.createdDate ;\r\n        document.all.ifrm.src = \"/jsoa/GovReceiveFileAction.do?action=initNumber&receiveFileType=\"+receiveFileType+\"&year=\"+year;\r\n    }else{\r\n        document.all.field1.value=\"\";\r\n        document.all.field2.value=\"\";\r\n        document.all.field3.value=\"\";\r\n    }\r\n}\r\n\r\nfunction getUnit(val) {\r\n    if(val == \"-1\")\r\n        GovReceiveFileActionForm.receiveFileSendFileUnit.value = \"\" ;\r\n    else\r\n        GovReceiveFileActionForm.receiveFileSendFileUnit.value = val ;\r\n}\r\n//公文类别与文号加载方法\r\nfunction loadType(){\r\n\tvar biaoqian=document.getElementsByName(\"zjkyType\");\r\n\tvar currentYear=new Date().getFullYear();\r\n\tif(biaoqian){\r\n\t\tbiaoqian[0].onchange=function(){\r\n\t\t\t\r\n\t\t\tif(biaoqian[0].value==\"阅办\"||biaoqian[0].value==\"批办\"){\r\n\t\t\t\tdocument.getElementById(\"receiveFileFileNumber\").value=\"（\"+currentYear+\"）号\";\r\n\t\t\t}else{\r\n\t\t\t\tdocument.getElementById(\"receiveFileFileNumber\").value=\"\";\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n//扫描正文\r\nfunction scanZW(){\r\n  openPupWin(\"/jsoa/public/jsp/pup.jsp?path=govdocumentmanager&fileName=accessoryName1&saveName=accessorySaveName1&canModify=1\",550,250);\r\n");
      out.write("}\r\n\r\n//扫描公共方法\r\nfunction  scanPublicMethod(path,fileName,saveName,tableName){\r\n JSMainWinOpen(\"/jsoa/public/jsp/scan.jsp?path=\"+path+\"&fileName=\"+fileName+\"&saveName=\"+saveName+\"&tableName=\"+tableName+\"&fileMaxSize=0&fileMaxNum=0&fileType=&fileMinHeight=0&fileMinWidth=0&fileMaxHeight=0&fileMaxWidth=0\",'扫描','menubar=0,scrollbars=0,locations=0,width=400,height=150,resizable=yes');\r\n}\r\n\r\nfunction scanFJ(){\r\n\tJSMainWinOpen(\"/jsoa/public/jsp/scan.jsp?path=govdocumentmanager&fileName=accessoryName2&saveName=accessorySaveName2&tableName=govdocumenttable2&fileMaxSize=0&fileMaxNum=0&fileType=&fileMinHeight=0&fileMinWidth=0&fileMaxHeight=0&fileMaxWidth=0\",'扫描','menubar=0,scrollbars=0,locations=0,width=400,height=200,resizable=yes');\r\n}\r\n\r\n//附件管理\r\nfunction showAcc(canM){\r\n openPupWin(\"/jsoa/public/jsp/pup.jsp?path=govdocumentmanager&fileName=accessoryName2&saveName=accessorySaveName2&canModify=\"+canM,550,400);\r\n}\r\n</script>\r\n<script  src=\"/jsoa/js/checkText.js\"  language=\"javascript\" ></script>\r\n<SCRIPT language=\"javascript\" src=\"/jsoa/js/openEndow.js\"></SCRIPT>\r\n");
      //  html:html
      org.apache.struts.taglib.html.HtmlTag _jspx_th_html_005fhtml_005f0 = (org.apache.struts.taglib.html.HtmlTag) _005fjspx_005ftagPool_005fhtml_005fhtml.get(org.apache.struts.taglib.html.HtmlTag.class);
      boolean _jspx_th_html_005fhtml_005f0_reused = false;
      try {
        _jspx_th_html_005fhtml_005f0.setPageContext(_jspx_page_context);
        _jspx_th_html_005fhtml_005f0.setParent(null);
        int _jspx_eval_html_005fhtml_005f0 = _jspx_th_html_005fhtml_005f0.doStartTag();
        if (_jspx_eval_html_005fhtml_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
          do {
            out.write("\r\n<head>\r\n<title>新建收文</title>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=gb2312\">\r\n<link href=\"/jsoa/style/cssmain.css\" rel=\"stylesheet\" type=\"text/css\">\r\n<link href=\"/jsoa/skin/");
            out.print(session.getAttribute("skin"));
            out.write("/style-");
            out.print(session.getAttribute("browserVersion"));
            out.write(".css\" rel=\"stylesheet\" type=\"text/css\" />\r\n<link rel=stylesheet type=\"text/css\" href=\"/jsoa/public/date_picker/DateObject2.css\">\r\n<SCRIPT language=javascript src=\"/jsoa/public/date_picker/DateObject.js\"></SCRIPT>\r\n<SCRIPT language=javascript src=\"/jsoa/public/date_picker/DatePicker.js\"></SCRIPT>\r\n<SCRIPT language=javascript src=\"/jsoa/public/date_picker/editlib.js\"></SCRIPT>\r\n<SCRIPT language=javascript src=\"/jsoa/public/date_picker/tree.js\"></SCRIPT>\r\n<script src=\"/jsoa/js/toolbar/standardAdd.js\" language=\"javascript\"></script>\r\n<script src=\"/jsoa/js/toolbar/govsendfileAdd.js\" language=\"javascript\"></script>\r\n<script src=\"/jsoa/js/clsPullXMenu.js\" language=\"javascript\"></script>\r\n");

String projectTypec = session.getServletContext().getInitParameter("projectType");
if(projectTypec!=null&&"tjgzw".equals(projectTypec)){//是天津国资委项目 收文可保存草稿

            out.write("\t\r\n\r\n<script src=\"/jsoa/public/jsp/cmdbutton.jsp?button=Close,Send,SaveToDraft,Print\">\r\n\r\n");

}else{

            out.write("\r\n<script src=\"/jsoa/public/jsp/cmdbutton.jsp?button=Close,Send,SaveToDraft\">\r\n\r\n");
}
            out.write("\r\n\r\n<script type=\"text/javascript\" src=\"/jsoa/eform/js/form.js\"></script>\r\n<script type=\"text/javascript\" src=\"/jsoa/js/weixin/jquery-1.7.2.min.js\"></script>\r\n<script>\r\nfunction openPupWin(url,w,h){\r\n    JSMainWinOpen4(url,\"_blank\",\"width=\"+w+\",height=\"+h+\",location=no,resizable=no,status=no\",500,250);\r\n}\r\n\r\nfunction MM_openBrWindow(theURL,winName,features) { \r\n  JSMainWinOpen(theURL,winName,features);\r\n}\r\nfunction changePanle(flag){\r\n    if(flag == 0) {\r\n        Panle0.style.color = \"red\";\r\n        Panle1.style.color = \"black\";\r\n        Panle2.style.color = \"black\";\r\n        docinfo0.style.display = \"\";\r\n        docinfo1.style.display = \"none\";\r\n    }else if(flag == 1) {\r\n        Panle0.style.color = \"black\";\r\n        Panle1.style.color = \"red\";\r\n        Panle2.style.color = \"black\";\r\n        docinfo0.style.display = \"none\";\r\n        docinfo1.style.display = \"\";\r\n        document.all.flowviewFrame.src=\"/jsoa/jsflow/jsflow_view.jsp?processId=");
            out.print(request.getParameter("processId"));
            out.write("\";\r\n    }else if(flag==2){\r\n   \t\tPanle0.style.color = \"black\";\r\n        Panle1.style.color = \"black\";\r\n        Panle2.style.color = \"red\";\r\n        docinfo0.style.display = \"none\";\r\n        docinfo1.style.display = \"\";\r\n    \tdocument.all.flowviewFrame.src=\"/jsoa/jsflow/workflow_description.jsp?liuzhuan=1&processId=");
            out.print(request.getParameter("processId"));
            out.write("&ndate=\"+new Date();\r\n    }\r\n}\r\nvar curId, oId, fileType;\r\nfunction initValue(){\r\n\tcurId = window.opener.document.getElementById(\"curId\").value;\r\n\toId = window.opener.document.getElementById(\"oId\").value;\r\n\tvar fields = window.opener.document.getElementById(\"fields\").value;\r\n\tvar sql = window.opener.document.getElementById(\"sql\").value;\r\n\tfileType = window.opener.document.getElementById(\"fileType\").value;\r\n\t$(\"#field19\").val(oId);\r\n\t$(\"#field20\").val(fileType);\r\n\tif(\"information\" == fileType){\r\n\t\t$(\"#information\").show();\r\n\t} else if(\"inspector\" == fileType){\r\n\t\t$(\"#inspector\").show();\r\n\t} else if(\"meeting\" == fileType){\r\n\t\t$(\"#meeting\").show();\r\n\t}\r\n\t//alert(fileType);\r\n\t//alert(curId);\r\n\t//alert(fields);\r\n\t//alert(sql);\r\n\tif(curId!=\"\" && fields!=\"\" && sql!=\"\"){\r\n\t\tsetUFormFieldValue(sql+curId, fields, \"\", \"\");\r\n\t\t$.ajax({\r\n\t\t\turl : \"/jsoa/businessShowAction.do?action=copyFile&curId=\" + curId + \"&fileType=\" + fileType + \"&r=\" + new Date(),\r\n\t\t\tasync : false,\r\n\t\t\tdataType : \"text\",\r\n\t\t\tsuccess : function(data, textStatus, jqXHR){\r\n");
            out.write("\t\t\t\t$(\"#govdocumenttable1_td\").html(data);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n//保存到草稿箱\r\nfunction draft(){\r\n    if(!initPara()) return;\r\n    var editId = document.getElementById(\"editId\").value;\r\n    GovReceiveFileActionForm.action = \"GovReceiveFileAction.do?action=draft&editId=\"+editId;\r\n    GovReceiveFileActionForm.target=\"myIframe\";\r\n    GovReceiveFileActionForm.submit();\r\n}\r\nfunction wordMustCheck(){\r\n\t");

	if(!"".equals(mustword) && !"null".equals(mustword) && mustword!=null){
		String[] must=mustword.split(",");
		for(int i=0;i<must.length;i++){
			if(noWriteField.indexOf(must[i])<0){
				if(govcheckfield.indexOf(must[i])>=0){
					
            out.write("\r\n\t\t\t\t\tvar val=document.getElementById(\"");
            out.print(must[i]);
            out.write("\").value;\r\n\t\t\t\t\tif(val==\"\" || val==null){\r\n\t\t\t\t\t\talert(\"必填项不能为空！\");\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t");

				}
			}
		}
	}
	
            out.write("\r\n\treturn true;\r\n}\r\n</script>\r\n<style type=\"text/css\">\r\n* { margin: 0; padding: 0;}\r\n</style>\r\n</head>\r\n<body leftmargin=\"0\" topmargin=\"0\"  onload=\"init();loadToolbar('commandBar');");
if("shandongguotou".equals(com.js.util.config.SystemCommon.getCustomerName())){
            out.write("loadType();");
} 
            out.write("\" onResize=\"loadToolbar('commandBar');\"  class=\"MainFrameBox Pupwin\">\r\n\r\n<div id=\"popToolbar\" style=\"height: 23px; width: 100%;\"><div id=\"commandBar\" style=\"width: 100%;\"></div></div>\r\n\r\n<div id=\"mainContent\" style=\"width:100%; overflow:auto; width:100%; overflow:auto;\">\r\n\t<input type=\"hidden\" id=\"dcq_curId\">\r\n\t<input type=\"hidden\" id=\"dcq_docType\">\r\n\t<table width=\"100%\" border=\"0\" cellpadding=\"1\" cellspacing=\"0\" class=\"docBoxNo\">\r\n\t\t<tr>\r\n\t\t\t<td align=\"right\" valign=\"middle\" style=\"padding-top:5px;\">\r\n\t\t\t\t<table width=\"95%\" border=\"0\" align=\"center\" cellpadding=\"1\" cellspacing=\"1\">\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td width=\"100%\">\r\n\t\t\t\t\t\t\t<div id=\"panleAll\" style=\"text-align:left\">\r\n\t\t\t\t\t\t\t\t<span id=\"Panle0\" onClick=\"changePanle(0);\" style=\"color:red;cursor:pointer\">文单信息</span>\r\n\t\t\t\t\t\t\t\t| \r\n\t\t\t\t\t\t\t\t<span id=\"Panle1\" onClick=\"changePanle(1);\" style=\"color:black;cursor:pointer;\">流程图</span>\r\n\t\t\t\t\t\t\t\t| <span id=\"Panle2\" onClick=\"changePanle(2);\" style=\"color:black;cursor:pointer\">流程描述</span>\r\n\t\t\t\t\t\t\t</div>\t\r\n                \t  \t</td>\r\n");
            out.write("           \t\t\t</tr>\r\n         \t\t</table>\r\n     \t\t</td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td height=\"312\" valign=\"top\">\r\n\t\t\t\t<div id=\"docinfo0\">\r\n\t\t\t\t\t");
            //  html:form
            org.apache.struts.taglib.html.FormTag _jspx_th_html_005fform_005f0 = (org.apache.struts.taglib.html.FormTag) _005fjspx_005ftagPool_005fhtml_005fform_0026_005fmethod_005faction.get(org.apache.struts.taglib.html.FormTag.class);
            boolean _jspx_th_html_005fform_005f0_reused = false;
            try {
              _jspx_th_html_005fform_005f0.setPageContext(_jspx_page_context);
              _jspx_th_html_005fform_005f0.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_html_005fhtml_005f0);
              // /doc/doc/receivefile_add_temp.jsp(476,5) name = action type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_html_005fform_005f0.setAction("/GovReceiveFileAction.do?action=add");
              // /doc/doc/receivefile_add_temp.jsp(476,5) name = method type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_html_005fform_005f0.setMethod("post");
              int _jspx_eval_html_005fform_005f0 = _jspx_th_html_005fform_005f0.doStartTag();
              if (_jspx_eval_html_005fform_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                do {
                  out.write("\r\n\t\t\t\t\t\t<table width=\"90%\" border=\"0\" align=\"center\" cellpadding=\"1\" cellspacing=\"1\">\r\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"thisDocProcess\" id=\"thisDocProcess\" value=\"2\" />\r\n\t\t\t\t\t\t\t<govHiddenField>\r\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"tableNameOrId\" value=\"");
                  out.print(read_tableId);
                  out.write("\">\r\n\t                      \t<input type=\"hidden\" name=\"isChangeSeq\" value=\"0\">\r\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"receiveAccType\" value=\"1\"><!-- 标明在 收文-->\r\n\t\t                  \t<input type=\"hidden\" name=\"sendFileId\"  value=\"");
                  out.print(sendFileId);
                  out.write("\">\r\n\t\t                  \t<input type=\"hidden\" name=\"sendFileLink\"  value=\"");
                  out.print(sendFileLink);
                  out.write("\">\r\n\t\t                  \t<input type=\"hidden\" name=\"sendFileTitle\"  value=\"");
                  out.print(sendFileTitle1);
                  out.write("\">\r\n\t\t                 \t<input type=\"hidden\" name=\"fromFileSendCheckLink\" value=\"");
                  out.print(fromFileSendCheckLink);
                  out.write("\">\r\n\t\t                  \t<input type=\"hidden\" name=\"fromFileSendCheckId\" value=\"");
                  out.print(fromFileSendCheckId);
                  out.write("\">\r\n\t                    \t<input type=\"hidden\" name=\"done\"/>\r\n\t                      \t<input type=\"hidden\" name=\"createdDate1\">\r\n\t                     \t<input type=\"hidden\" name=\"winHref\" value=\"/jsoa/GovReceiveFileAction.do?action=see&processId=");
                  out.print(request.getParameter("processId"));
                  out.write("&processName=");
                  out.print(request.getParameter("processName"));
                  out.write("&processType=");
                  out.print(request.getParameter("processType"));
                  out.write("&tableId=");
                  out.print(request.getParameter("tableId"));
                  out.write("&remindField=\">\r\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"field1\" value=\"-1\">\r\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"field2\" value=\"");
                  out.print(serverY);
                  out.write("\">\r\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"field3\" value=\"");
                  out.print(field3_value);
                  out.write("\">\r\n\t\t\t\t\t\t\t");
                  if (_jspx_meth_html_005fhidden_005f0(_jspx_th_html_005fform_005f0, _jspx_page_context))
                    return;
                  out.write("\r\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"seqId\" value=\"");
                  out.print(oseqId);
                  out.write("\">\r\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"receiveFileSendFileUnitId\" value=\"");
                  out.print(receiveFileSendFileUnitId);
                  out.write("\">\r\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"sendSMS\" id=\"sendSMS\" value=\"0\" /><!-- 是否发送短信标识 -->\r\n\t\t\t\t\t\t\t");

							if("1".equals(SystemCommon.getShowDocumentProcessTitle())){
								
                  out.write("\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t                      \t\t\t<td width=\"100%\" align=\"center\"  nowrap=\"nowrap\" class=big0 >\r\n\t                      \t\t\t\t<font color=\"#000000\" style=\"font-size:35\"><b>");
                  out.print(request.getParameter("processName"));
                  out.write("</b></font>\r\n\t                      \t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t");

							}
							
							
                  out.write("\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td height=\"2\" valign=\"top\">&nbsp;</td>\r\n\t                    \t</tr>\r\n\t                    \t<tr>\r\n\t\t                      \t<td align=\"right\"  valign=\"top\">\r\n\t\t\t                      \t<div align=\"left\">\t\r\n\t\t\t\t\t\t\t\t \t\t");

								 		if(sendFileLink!=null&&!sendFileLink.equals("")&&!sendFileLink.equals("null")){
									 		
                  out.write("\r\n\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td height=\"35\" nowrap=\"nowrap\">发文链接：\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span style=\"cursor:pointer;color:blue\" onClick=\"JSMainWinOpen('");
                  out.print(sendFileLink);
                  out.write("','','TOP=0,LEFT=0,scrollbars=yes,resizable=yes,width=800,height=580');\" >");
                  out.print(sendFileTitle1);
                  out.write("</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- 区分 收文是来自发文转过来的   还是在收文中 新建的       标志 -->\r\n\t\t\t\t\t\t\t\t            <input type=\"hidden\" name=\"fromSendFile\" value=\"1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t");

										}
										//公文交换转收文
										if(request.getParameter("exchangeFileLink") != null){
											
                  out.write("\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"exchangeFileId\" value=\"");
                  out.print(request.getParameter("id"));
                  out.write("\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"exchangeFileLink\" value=\"");
                  out.print(request.getParameter("exchangeFileLink"));
                  out.write("\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"exchangeFileTitle\" value=\"");
                  out.print(request.getParameter("title"));
                  out.write("\">\r\n\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td height=\"35\">链接：\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span style=\"cursor:pointer;color:blue\" onclick=\"JSMainWinOpen('");
                  out.print(request.getParameter("exchangeFileLink"));
                  out.write("&fromExchangeFile=1','','TOP=0,LEFT=0,scrollbars=yes,resizable=yes,width=800,height=580');\" >");
                  out.print(request.getParameter("title"));
                  out.write("</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t");

										}
										
                  out.write("\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<govContent>");
                  out.write("\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t");

				                  		String formName="GovReceiveFileActionForm";//表单FORM名称
				                    	String saveCheckFn = "initPara()";//保存时校验表单的javascript函数名称
				                     	String mainLinkFile = "/jsoa/GovReceiveFileLoadAction.do?action=load";//文件办理时打开的页面链接
				                    	String titleFieldName = "receiveFileTitle";//作为显示标题的表单中的元素的名称,如果为""则按工作流程的标题
				                      	String[][] button = null;//包含页面中的附加按钮的名称和触发的javascript函数名称
				                     	String msgFrom = "收文管理";//短信提醒模块名称
				                      	String cancelHref = "JSMainWinOpen('/jsoa/doc/doc/workflow_cancelReason.jsp?workStatus=1&workId=workIdValue&search=searchValue&workTitle=workTitleValue&tableId=tableIdValue&processName=processName&processId=processIdValue&recordId=recordIdValue&fileType=GRF&fileTitle=fileTitleValue','','TOP=0,LEFT=0,scrollbars=no,resizable=no,width=480,height=250')";
				                    	
                  out.write("\r\n\t\t\t\t                      \t<tr>\r\n\t\t\t\t                     \t\t<td height=\"22\"  nowrap>");
                  out.write("\r\n\r\n \r\n\r\n\r\n");

String localhi = session.getAttribute("org.apache.struts.action.LOCALE").toString();

                  out.write("\r\n<script type='text/javascript' src='/jsoa/workflow/dwr/interface/workflowSync.js'></script>\r\n<script type='text/javascript' src='/jsoa/workflow/dwr/engine.js'></script> \r\n<script src=\"/jsoa/js/util.js\"></script>\r\n\r\n<input type=\"hidden\" name=\"tableId\" id=\"tableId\" value=\"");
                  out.print((request.getAttribute("tableId")==null || request.getAttribute("tableId").toString().toUpperCase().equals("NULL"))?request.getParameter("tableId"):request.getAttribute("tableId").toString());
                  out.write("\">\r\n<input type=\"hidden\" name=\"recordId\" id=\"recordId\" value=\"");
                  out.print((request.getAttribute("recordId")==null || request.getAttribute("recordId").toString().toUpperCase().equals("NULL"))?request.getParameter("recordId"):request.getAttribute("recordId").toString());
                  out.write("\">\r\n<input type=\"hidden\" name=\"editId\" id=\"editId\" value=\"");
                  out.print(request.getParameter("editId") != null ? request.getParameter("editId").toString() : "");
                  out.write("\">\r\n\r\n<input type=\"hidden\" name=\"processType\" id=\"processType\" value=\"");
                  out.print((request.getAttribute("processType")==null || request.getAttribute("processType").toString().toUpperCase().equals("NULL"))?request.getParameter("processType"):request.getAttribute("processType").toString());
                  out.write("\">\r\n<input type=\"hidden\" name=\"processName\" id=\"processName\" value=\"");
                  out.print((request.getAttribute("processName")==null || request.getAttribute("processName").toString().toUpperCase().equals("NULL"))?request.getParameter("processName"):request.getAttribute("processName").toString());
                  out.write("\">\r\n<input type=\"hidden\" name=\"processId\" id=\"processId\" value=\"");
                  out.print((request.getAttribute("processId")==null || request.getAttribute("processId").toString().toUpperCase().equals("NULL"))?request.getParameter("processId"):request.getAttribute("processId").toString());
                  out.write("\">\r\n<input type=\"hidden\" name=\"remindField\" id=\"remindField\" value=\"");
                  out.print((request.getAttribute("remindField")==null || request.getAttribute("remindField").toString().toUpperCase().equals("NULL"))?request.getParameter("remindField"):request.getAttribute("remindField").toString());
                  out.write("\">\r\n<input type=\"hidden\" name=\"moduleId\" id=\"moduleId\" value=\"");
                  out.print((request.getAttribute("moduleId")==null || request.getAttribute("moduleId").toString().toUpperCase().equals("NULL"))?request.getParameter("moduleId"):request.getAttribute("moduleId").toString());
                  out.write("\">\r\n\r\n<input type=\"hidden\" name=\"mainLinkFile\" id=\"mainLinkFile\" value=\"");
                  out.print(mainLinkFile);
                  out.write("\">\r\n<input type=\"hidden\" name=\"titleFieldName\" id=\"titleFieldName\" value=\"");
                  out.print(titleFieldName);
                  out.write("\">\r\n<input type=\"hidden\" name=\"msgFrom\" id=\"msgFrom\" value=\"");
                  out.print(msgFrom);
                  out.write("\">\r\n<input type=\"hidden\" name=\"cancelHref\" id=\"cancelHref\" value=\"");
                  out.print(cancelHref);
                  out.write("\">\r\n");
if(request.getParameter("isSubProcWork") != null){
                  out.write("\r\n<input type=\"hidden\" name=\"isSubProcWork\" id=\"isSubProcWork\" value=\"1\">\r\n<input type=\"hidden\" name=\"pareProcActiId\" id=\"pareProcActiId\" value=\"");
                  out.print(request.getParameter("pareProcActiId"));
                  out.write("\">\r\n<input type=\"hidden\" name=\"pareStepCount\" id=\"pareStepCount\" value=\"");
                  out.print(request.getParameter("pareStepCount"));
                  out.write("\">\r\n<input type=\"hidden\" name=\"pareTableId\" id=\"pareTableId\" value=\"");
                  out.print(request.getParameter("pareTableId"));
                  out.write("\">\r\n<input type=\"hidden\" name=\"pareRecordId\" id=\"pareRecordId\" value=\"");
                  out.print(request.getParameter("pareRecordId"));
                  out.write("\">\r\n");
}
                  out.write("\r\n\r\n<!-- 新增表单域 -->\r\n");



String markField="1";//标记此方法可用：1,不可用：0
//Map map=new  com.js.oa.jsflow.util.InitWorkFlowData().getClassMethod(markField,request);

com.js.oa.jsflow.vo.ActivityVO activityVO = new com.js.oa.jsflow.util.WorkflowCommon().getFirstActivityInfo(request);
if(false){

                  out.write("\r\n<SCRIPT LANGUAGE=\"JavaScript\">\r\n<!--\r\nalert(\"");
                  out.print(Resource.getValue(localhi,"workflow","workflow.includenosetupstartactivity"));
                  out.write("\");\r\n//-->\r\n</SCRIPT>\r\n<script src=\"/jsoa/public/jsp/cmdbutton.jsp?button=Close\"></script>\r\n");
}else{
                  out.write("\r\n<input type=hidden name=userType id=\"userType\" value=100>\r\n<INPUT TYPE=\"hidden\" name=\"operName\" id=\"operName\" value=\"");
                  out.print(session.getAttribute("userName").toString());
                  out.write("\">\r\n<INPUT TYPE=\"hidden\" name=\"operId\" id=\"operId\" value=\"$");
                  out.print(session.getAttribute("userId").toString());
                  out.write("$\">\r\n<input type=hidden name=allowStandFor id=\"allowStandFor\" value=\"0\">\r\n<input type=hidden name=allowCancel id=\"allowCancel\" value=\"0\">\r\n<input type=hidden name=activityId id=\"activityId\" value=\"");
                  out.print(activityVO==null? 0:activityVO.getId());
                  out.write("\">\r\n<input type=hidden name=activityName id=\"activityName\" value=\"");
                  out.print(activityVO==null?"":activityVO.getName());
                  out.write("\">\r\n<input type=\"hidden\" id=\"branchActInfo\" name=\"branchActInfo\" value=\"\">\r\n\r\n<input type=hidden name=pressType id=\"pressType\" value=\"0\">\r\n<input type=hidden name=deadLineTime id=\"deadLineTime\" value=\"-1\">\r\n<input type=hidden name=pressMotionTime id=\"pressMotionTime\" value=\"-1\">\r\n<input type=hidden name=\"emergence\" id=\"emergence\" value=0><!--缓急程度-->\r\n<input type=hidden name=\"needSendMsg\" id=\"needSendMsg\"><!--短信-->\r\n<input type=hidden name=\"smsContent\" id=\"smsContent\"><!--短信内容-->\r\n<input type=hidden name=\"dealTips\" id=\"dealTips\"><!--tips内容-->\r\n<input type=hidden name=\"processDeadlineDate\" id=\"processDeadlineDate\" value=\"0\"><!--流程办理期限-->\r\n<input type=hidden name=approveMode id=\"approveMode\" value=\"2\"><!--当前节点办理方式--><!--默认为2：单人-->\r\n<input type=hidden name=saveCheckFn id=\"saveCheckFn\" value=\"");
                  out.print(saveCheckFn);
                  out.write("\">\r\n<input type=hidden name=formName id=\"formName\" value=\"");
                  out.print(formName);
                  out.write("\">\r\n\r\n<input type=\"hidden\" name=\"sendMsgToInitiator\" id=\"sendMsgToInitiator\" value=\"0\"> <!-- 是否给发起人发送提醒 -->\r\n<input type=\"hidden\" name=\"sendMsgToDealDone\" id=\"sendMsgToDealDone\" value=\"0\"> <!-- 是否给已办人员发送提醒 -->\r\n\r\n<input type=hidden name=sendContinue id=\"sendContinue\" value=\"0\"><!-- 是否发送继续，默认否 -->\r\n<input type=hidden name=sendContinueUrl id=\"sendContinueUrl\" >\r\n<SCRIPT LANGUAGE=\"JavaScript\">\r\n<!--\r\ndocument.all.sendContinueUrl.value=window.location;\r\n//-->\r\n</SCRIPT>\r\n<input type=\"hidden\" name=\"subProcess\" id=\"subProcess\" value=\"");
                  out.print("1".equals(request.getParameter("subProcess"))?"1":"0");
                  out.write("\"><!-- 是否是子流程发起页面 -->\r\n\r\n<input type=\"hidden\" name=\"changeDeadLineTime\" id=\"changeDeadLineTime\" value=\"-1\">\r\n");
                  out.write("\r\n<!--阅件参数-->\r\n<input type=hidden name=\"mainNeedPassRound\" id=\"mainNeedPassRound\" value=\"1\">\r\n<input type=hidden name=\"mainPassRoundUserType\" id=\"mainPassRoundUserType\" value=100>\r\n<input type=hidden name=\"passRoundId\" id=\"passRoundId\">\r\n<input type=hidden name=\"passRoundName\" id=\"passRoundName\">\r\n\r\n  <table align=\"center\" width=\"100%\" style=\"display:none\">\r\n        <tr>\r\n            <td height=\"40\" colspan=\"2\" id=\"include_td1\">\r\n                <table border=\"0\" align=\"center\" cellpadding=\"1\" cellspacing=\"1\">\r\n                    <tr>\r\n                        <td>\r\n                            <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\r\n                                <tr>\r\n                                    <td>\r\n                                    <button class=\"btnButton4font\" onclick=\"javascript:");
                  out.print("1".equals(request.getParameter("moduleId"))?"if(beforeSubmit()){":"");
                  out.write("include_nextStep();");
                  out.print("1".equals(request.getParameter("moduleId"))?"}":"");
                  out.write("\">下一步骤</button>\r\n                                    </td>\r\n                                </tr>\r\n                            </table>\r\n                        </td>\r\n                        ");

                        if(button != null && button.length > 0){
                            for(int i = 0; i < button.length; i++){
                            //String btnStyle = "btnButton4font";
                            //if (button[i][0].toString().length <= 4)
                            //btnStyle = "btnButton2font";
                                
                  out.write("\r\n                                <td>\r\n                                    <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\r\n                                        <tr>\r\n                                            <td><button class=\"btnButton4font\" onclick=\"javascript:");
                  out.print(button[i][1]);
                  out.write(';');
                  out.write('"');
                  out.write('>');
                  out.print(button[i][0]);
                  out.write("</button></td>\r\n                                        </tr>\r\n                                    </table>\r\n                                </td>\r\n                                ");

                            }
                        }
                  out.write("\r\n                        <td>\r\n                            <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\r\n                                <tr>\r\n                                    <td>\r\n                                        <button class=\"btnButton2font\" onclick=\"javascript:window.location.reload();\">重置</button>\r\n                                    </td>\r\n                                </tr>\r\n                            </table>\r\n                        </td>\r\n                        <td>\r\n                            <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\r\n                                <tr>\r\n                                    <td>\r\n                                    <button class=\"btnButton2font\" onclick =\"javascript:window.close();\">退出</button>\r\n                                    </td>\r\n                                </tr>\r\n                            </table>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </td>\r\n        </tr>\r\n        ");
//if(com.js.system.util.SysSetupReader.getInstance().hasEzWorkFlow(session.getAttribute("domainId").toString())){
                  out.write("\r\n        <!--\r\n        <tr>\r\n            <td colspan=\"2\" align=\"center\">\r\n                <iframe height=\"500\" width=\"90%\" src=\"/jsoa/jsflow/jsflow_view.jsp?processId=");
                  out.print(request.getParameter("processId"));
                  out.write("&table=");
                  out.print(request.getParameter("table"));
                  out.write("&record=");
                  out.print(request.getParameter("record"));
                  out.write("&CurActivityID=&ActivityIDStr=\"></iframe>\r\n            </td>\r\n        </tr>-->\r\n        ");
//}
                  out.write("\r\n    </table>\r\n\r\n<iframe width=\"0\" height=\"0\" id=\"include_iframe\" name=\"include_iframe\" style=\"display:none\"></iframe>\r\n<script language=\"javascript\">\r\n<!--\r\n");
if(!"0".equals(request.getParameter("processType"))){
                  out.write("\r\nvar include_td1HTML = document.all.include_td1.innerHTML;\r\n");
}
                  out.write("\r\n\r\n//取消显示退回信息\r\nfunction include_backCacnel(){\r\n    document.all.include_td1.innerHTML = include_td1HTML;\r\n}\r\n//国资委 收文保存草稿功能  专用\r\nfunction include_save_receivefile_gzw(){\r\n\tif(");
                  out.print(saveCheckFn);
                  out.write("){\r\n\t\tvar editId = document.getElementById(\"editId\");\r\n\t\tvar frm=document.getElementsByName(\"");
                  out.print(formName);
                  out.write("\")[0];\r\n\t\t//frm.target = \"myIframe\";\r\n\t\tfrm.action = \"/jsoa/TjgzwAction.do?type=save_gzw_receivfile&editId=\"+editId.value+\"");
                  out.print(request.getParameter("subProc")==null?"":"&subProc=1");
                  out.write("\";\r\n\t\t//alert(frm.action);\r\n\t    //setTimeout(\"window.close();\",2000);\r\n\t\tfrm.submit();\r\n\r\n\t}\r\n\t\r\n}\r\n\r\n//保存\r\nfunction include_save(){\r\n//alert(\"firstHidden:\"+\"include_save\");\r\n    if(include_checkUser()){\r\n        if(");
                  out.print(saveCheckFn);
                  out.write("){\r\n        \tvar _userType=document.all.userType.value;\r\n        \t//alert(_userType);\r\n        \tif(_userType==\"10\"){\r\n        \t\t//选择方式是部门领导的，已经将领导empId,empName 取出，按照用户处理\r\n        \t\t_userType=\"100\";\r\n        \t}\r\n        \t\r\n            switch (parseInt(_userType)) {\r\n\t\t\t\tcase 100:\r\n                    //新节点\r\n                    var empId = \"\";\r\n                    var orgId = \"\";\r\n                    var groupId = \"\";\r\n                    var idstr = document.all.operId.value;\r\n                    //alert(idstr);\r\n                    if(idstr != \"\"){\r\n                        for( var i = 0; i < idstr.length; i ++ ){\r\n                            flagCode = idstr.charAt(i);\r\n                            nextPos = idstr.indexOf(flagCode,i + 1);\r\n                            str = idstr.substring(i,nextPos+1);\r\n                            if(flagCode == \"$\"){\r\n                                empId = empId + str;\r\n                            }else if(flagCode == \"*\"){\r\n                                orgId = orgId + str;\r\n");
                  out.write("                            }else{\r\n                                groupId = groupId + str;\r\n                            }\r\n                            i = nextPos;\r\n                        }\r\n                    }\r\n\t\t\t\t\t//alert(empId+ \"\\n\" +orgId+ \"\\n\" +groupId);\r\n\t\t\t\t\t//alert(include_checkUserStatus);\r\n                    workflowSync.getUserStatusByEmpOrgGrp(empId, orgId, groupId, include_checkUserStatus);\r\n                    break;\r\n                case 0:\r\n                    //流程发起人的上级领导\r\n                    var userIds = \"\";\r\n                    if(document.all.candidateUser.length){\r\n                        for(i = 0; i < document.all.candidateUser.length; i ++ ){\r\n                            if(document.all.candidateUser[i].checked){\r\n                                userIds += document.all.candidateUser[i].value + \",\";\r\n                            }\r\n                        }\r\n                    }else{\r\n                        userIds = document.all.candidateUser.value;\r\n                    }\r\n                    workflowSync.getUserStatusByEmpIdStr(userIds, include_checkUserStatus);\r\n");
                  out.write("                    break;\r\n                case 1:\r\n                    //由上一节点参与者从所有用户中选择\r\n                    var empId = \"\";\r\n                    var orgId = \"\";\r\n                    var groupId = \"\";\r\n                    var idstr = document.all.operProcUser.value;\r\n                    if(idstr != \"\"){\r\n                        for( var i = 0; i < idstr.length; i ++ ){\r\n                            flagCode = idstr.charAt(i);\r\n                            nextPos = idstr.indexOf(flagCode,i + 1);\r\n                            str = idstr.substring(i,nextPos+1);\r\n                            if(flagCode == \"$\"){\r\n                                empId = empId + str;\r\n                            }else if(flagCode == \"*\"){\r\n                                orgId = orgId + str;\r\n                            }else{\r\n                                groupId = groupId + str;\r\n                            }\r\n                            i = nextPos;\r\n                        }\r\n                    }\r\n                    workflowSync.getUserStatusByEmpOrgGrp(empId, orgId, groupId, include_checkUserStatus);\r\n");
                  out.write("                    break;\r\n                case 2:\r\n                    //从候选人员中指定candidateUser\r\n                    var userIds = \"\";\r\n                    if(document.all.candidateUser.length){\r\n                        for(i = 0; i < document.all.candidateUser.length; i ++ ){\r\n                            if(document.all.candidateUser[i].checked){\r\n                                userIds += document.all.candidateUser[i].value + \",\";\r\n                            }\r\n                        }\r\n                    }else{\r\n                        userIds = document.all.candidateUser.value;\r\n                    }\r\n                    workflowSync.getUserStatusByEmpIdStr(userIds, include_checkUserStatus);\r\n                    break;\r\n                case 3:\r\n                    //指定全部办理人\r\n                    var userIds = \"\";\r\n                    if(document.all.allUser.length){\r\n                        for(i = 0; i < document.all.allUser.length; i ++ ){\r\n                            userIds += document.all.allUser[i].value + \",\";\r\n");
                  out.write("                        }\r\n                    }else{\r\n                        userIds = document.all.allUser.value;\r\n                    }\r\n                    workflowSync.getUserStatusByEmpIdStr(userIds, include_checkUserStatus);\r\n                    break;\r\n                case 5:\r\n                    //流程发起人\r\n                    workflowSync.getUserStatus(\"");
                  out.print(session.getAttribute("userId"));
                  out.write("\", include_checkUserStatus);\r\n                    break;\r\n                case 6:\r\n                    //角色用户\r\n                    workflowSync.getUserStatusByRole(document.all.partRole.value, \"");
                  out.print(session.getAttribute("userId"));
                  out.write("\", include_checkUserStatus);\r\n                    break;\r\n\t\t\t\t\r\n\t\t\t\tcase 10:\r\n                    //组织领导\r\n                    var orgId = \"\";\r\n                    var idstr = document.all.operId.value;\r\n                    if(idstr != \"\"){\r\n                        for( var i = 0; i < idstr.length; i ++ ){\r\n                            flagCode = idstr.charAt(i);\r\n                            nextPos = idstr.indexOf(flagCode,i + 1);\r\n                            str = idstr.substring(i+1,nextPos);\r\n                            if(flagCode == \"*\"){\r\n                                orgId = orgId + str + \",\";\r\n                            }\r\n                            i = nextPos;\r\n                        }\r\n                    }\r\n\t\t\t\t\torgId = orgId.substring(0,orgId.length-1);\r\n\t\t\t\t\tdocument.all.operId.value = orgId;\r\n                    workflowSync.getLeaderByOrgId(orgId, include_checkUserStatus);\r\n                    break;\r\n\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n}\r\n");
                  out.write("\r\nfunction include_branch_save(){    \r\n    if(");
                  out.print(saveCheckFn);
                  out.write("){\r\n    \tif(confirm(\"您确定提交吗？\")){\r\n    \t\tvar editId =document.getElementById(\"editId\").value;\r\n\t\t\t");
                  out.print(formName);
                  out.write(".target = \"myIframe\";\r\n\t\t\t");
                  out.print(formName);
                  out.write(".action = \"/jsoa/WorkflowButtonAction.do?flag=save");
                  out.print(request.getParameter("subProc")==null?"":"&subProc=1");
                  out.write("&resubmitWorkId=\"+editId;\r\n\t\t\t\r\n\t\t\t");
                  out.print(formName);
                  out.write(".submit();\r\n\t\t\t");
if(BrowserJudge.isFirefox(request)){
                  out.write("\r\n\t\t\tsetTimeout(\"window.close()\",1200);\r\n\t\t\t");
}
                  out.write("\r\n\t\t\tpullXMenuDisabledAllMenu();\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t}\r\n    }\r\n    \r\n}\r\n//保存至草稿\r\nfunction include_saveToDraft(){\r\n\tif(include_checkUser()){\r\n        //");
                  out.print(saveCheckFn);
                  out.write(";\r\n        \t");
                  out.print(formName);
                  out.write(".target = \"myIframe\";\r\n\t\t\t");
                  out.print(formName);
                  out.write(".action = \"/jsoa/WorkflowButtonAction.do?flag=saveToDraft&savefirst=1");
                  out.print(request.getParameter("subProc")==null?"":"&subProc=1");
                  out.write("\";\r\n\t\t\t");
                  out.print(formName);
                  out.write(".submit();\r\n\t\t\tpullXMenuDisabledAllMenu();\r\n\t\t\r\n\t}\r\n}\r\n\r\n//保存至草稿\r\nfunction include_saveFirstComp(){\r\n\tif(include_checkUser()){\r\n        ");
                  out.print(saveCheckFn);
                  out.write(";\r\n        \t");
                  out.print(formName);
                  out.write(".target = \"myIframe\";\r\n\t\t\t");
                  out.print(formName);
                  out.write(".action = \"/jsoa/WorkflowButtonAction.do?flag=saveFirstComp&savefirst=1");
                  out.print(request.getParameter("subProc")==null?"":"&subProc=1");
                  out.write("\";\r\n\t\t\t");
                  out.print(formName);
                  out.write(".submit();\r\n\t\t\tpullXMenuDisabledAllMenu();\r\n\t\t\r\n\t}\r\n}\r\n//保存第一步\r\nfunction include_saveFirst(){\r\n    if(include_checkUser()){\r\n        if(");
                  out.print(saveCheckFn);
                  out.write("){\r\n            switch (parseInt(document.all.userType.value)) {\r\n\t\t\t\tcase 100:\r\n                    //新节点\r\n                    var empId = \"\";\r\n                    var orgId = \"\";\r\n                    var groupId = \"\";\r\n                    var idstr = document.all.operId.value;\r\n                    if(idstr != \"\"){\r\n                        for( var i = 0; i < idstr.length; i ++ ){\r\n                            flagCode = idstr.charAt(i);\r\n                            nextPos = idstr.indexOf(flagCode,i + 1);\r\n                            str = idstr.substring(i,nextPos+1);\r\n                            if(flagCode == \"$\"){\r\n                                empId = empId + str;\r\n                            }else if(flagCode == \"*\"){\r\n                                orgId = orgId + str;\r\n                            }else{\r\n                                groupId = groupId + str;\r\n                            }\r\n                            i = nextPos;\r\n                        }\r\n                    }\r\n\t\t\t\t\t//alert(empId+ \"\\n\" +orgId+ \"\\n\" +groupId);\r\n");
                  out.write("                    ");
                  out.print(formName);
                  out.write(".target = \"_self\";\r\n\t\t\t\t\t");
                  out.print(formName);
                  out.write(".action = \"/jsoa/WorkflowButtonAction.do?flag=save&savefirst=1");
                  out.print(request.getParameter("subProc")==null?"":"&subProc=1");
                  out.write("\";\r\n\t\t\t\t\t");
                  out.print(formName);
                  out.write(".submit();\r\n\t\t\t\t\tpullXMenuDisabledAllMenu();\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    \r\n}\r\n\r\n\r\nfunction include_checkUserStatus(s) {\r\n    var editId =document.getElementById(\"editId\").value;\r\n\tif(s==\"noleader\"){\r\n\t\t//组织领导不存在\r\n\t\talert(\"");
                  out.print(Resource.getValue(localhi,"workflow","workflow.includenoleader"));
                  out.write("\");\r\n\t\treturn;\r\n\t}\r\n\t");
if("0".equals(request.getParameter("processType"))){
                  out.write("\r\n\t\t\r\n\t");
} else{
                  out.write("\r\n\t\t//业务流程\r\n\t\tif(s == \"\"){\r\n\t\t\t\r\n\t\t\tvar frm=document.getElementsByName(\"");
                  out.print(formName);
                  out.write("\")[0];\r\n\t\t\tfrm.target = \"myIframe\";\r\n\t\t\tfrm.action = \"/jsoa/WorkflowButtonAction.do?flag=save");
                  out.print(request.getParameter("subProc")==null?"":"&subProc=1");
                  out.write("&resubmitWorkId=\"+editId;\r\n\t\t\tfrm.submit();\r\n\t\t\tdocument.getElementById(\"sendContinue\").value=\"0\";//继续发送为“否”\r\n\t\t\t//");
                  out.print(formName);
                  out.write(".submit();\r\n\t\t\t//提示“已提交给XX[XX]”");
if(BrowserJudge.isFirefox(request)){
                  out.write("\r\n\t\t\tif(confirm(\"");
                  out.print(Resource.getValue(localhi,"workflow","workflow.includehassuccessturnto"));
                  out.write("\"+document.all.operName.value+\"[\"+document.all.activityName.value+\"]\")){\r\n\t\t\t\twindow.close();}else{window.close();}");
}else{
                  out.write("\r\n\t\t\talert(\"");
                  out.print(Resource.getValue(localhi,"workflow","workflow.includehassuccessturnto"));
                  out.write("\"+document.all.operName.value+\"[\"+document.all.activityName.value+\"]\");\r\n\t\t\t");
}
                  out.write("\r\n\t\t} else {\r\n\t\t//下一办理人：XX ，您确定要提交办理吗？\r\n\t\t\tif(confirm(\"");
                  out.print(Resource.getValue(localhi,"workflow","workflow.includenextuser"));
                  out.write("：\" + s + \"，");
                  out.print(Resource.getValue(localhi,"workflow","workflow.includeconfirmturntodeal"));
                  out.write("\")){\r\n\t\t\t\t");
                  out.print(formName);
                  out.write(".target = \"myIframe\";\r\n\t\t\t\t");
                  out.print(formName);
                  out.write(".action = \"/jsoa/WorkflowButtonAction.do?flag=save");
                  out.print(request.getParameter("subProc")==null?"":"&subProc=1");
                  out.write("&resubmitWorkId=\"+editId;\r\n\t\t\t\t\r\n\t\t\t\t");
                  out.print(formName);
                  out.write(".submit();\r\n\t\t\t\t//提示“已提交给XX[XX]”\r\n\t\t\t\talert(\"");
                  out.print(Resource.getValue(localhi,"workflow","workflow.includehassuccessturnto"));
                  out.write("\"+document.all.operName.value+\"[\"+document.all.activityName.value+\"]\");\r\n\t\t\t\t");
if(BrowserJudge.isFirefox(request)){
                  out.write("\r\n\t\t\t\tsetTimeout(\"window.close()\",1200);\r\n\t\t\t\t");
}
                  out.write("\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t//pullXMenuDisabledAllMenu();\r\n\t");
}
                  out.write("\r\n}\r\n\r\n\r\n//检验办理用户\r\nfunction include_checkUser(){\r\n    if(document.all.randomProcUser){\r\n        if(document.all.randomProcUser.value == \"\"){\r\n            alert(\"");
                  out.print(Resource.getValue(localhi,"workflow","workflow.includeseldealuser"));
                  out.write("\");\r\n            return false;\r\n        }\r\n    }\r\n    if(document.all.candidateUser){\r\n        var i = 0;\r\n        if(document.all.candidateUser.length){\r\n            for(var j = 0; j < document.all.candidateUser.length; j ++){\r\n                if(document.all.candidateUser[j].checked){\r\n                    i = 1;\r\n                    break;\r\n                }\r\n            }\r\n        }else{\r\n            if(document.all.candidateUser.checked){\r\n                i = 1;\r\n            }\r\n        }\r\n        if(i == 0){\r\n            alert(\"");
                  out.print(Resource.getValue(localhi,"workflow","workflow.includeseldealuser"));
                  out.write("\");\r\n            return false;\r\n        }\r\n    }\r\n\r\n    if(document.all.operProcUserName){\r\n        if(document.all.operProcUserName.value == \"\"){\r\n            alert(\"");
                  out.print(Resource.getValue(localhi,"workflow","workflow.includeseldealuser"));
                  out.write("\");\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\n\r\n//选择全部办理/阅件用户\r\nfunction selectAll(name,obj){\r\n\tif(eval(\"document.all.\"+name)){\r\n\t\tif(eval(\"document.all.\"+name+\".length\")){\r\n\t\t\tfor(i=0;i<eval(\"document.all.\"+name+\".length\");i++){\r\n\t\t\t\tif(obj.checked){\r\n\t\t\t\t\teval(\"document.all.\"+name)[i].checked = true;\r\n\t\t\t\t}else{\r\n\t\t\t\t\teval(\"document.all.\"+name)[i].checked = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif(obj.checked){\r\n\t\t\t\teval(\"document.all.\"+name).checked = true;\r\n\t\t\t}else{\r\n\t\t\t\teval(\"document.all.\"+name).checked = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n//保存继续\r\nfunction include_continue(){\r\n    if(include_checkUser()){\r\n        if(");
                  out.print(saveCheckFn);
                  out.write("){\r\n            document.all.include_td1.style.display = \"none\";\r\n            ");
                  out.print(formName);
                  out.write(".target = \"_self\";\r\n            ");
                  out.print(formName);
                  out.write(".action = \"/jsoa/WorkflowCommonAction.do?flag=save");
                  out.print(request.getParameter("subProc")==null?"":"&subProc=1");
                  out.write("&continue=1\";\r\n            ");
                  out.print(formName);
                  out.write(".submit();\r\n            pullXMenuDisabledAllMenu();\r\n        }\r\n    }\r\n}\r\n\r\n//-->\r\n</script>\r\n");
}
                  out.write("\r\n<SCRIPT LANGUAGE=\"JavaScript\">\r\n<!--\r\n//关闭\r\nfunction include_close(){\r\n    if(confirm(\"");
                  out.print(Resource.getValue(localhi,"workflow","workflow.includeconfirmclosewindow"));
                  out.write("\")){\r\n        window.opener=null;\r\n        window.close();\r\n    }\r\n}\r\nfunction editOffices(field,fileType,template,showSign){\r\n\t//alert(\"开始打开\");\r\n\tvar recordId = eval(\"document.all.\"+field+\".value\");\r\n\tvar userName = document.all.user_Name.value;\r\n\t\r\n\twindow.open(\"/jsoa/iWebOfficeSign/DocumentEdit.jsp?RecordID=\"+recordId+\"&EditType=1&UserName=\"+userName+\r\n\t\t\t\"&ShowSign=\"+showSign+\"&CanSave=1&moduleType=information&saveHtmlImage=0&saveDocFile=0&field=\"+field+\r\n\t\t\t\"&FileType=.\"+fileType+\"&showEditButton=1&showSignButton=1&Template=\"+template, \r\n\t\t\t\"\", \"status=no,menubar=no,scrollbars=yes,resizable=yes,width=500,Height=400,left=0,top=0\");\r\n}\r\nfunction checkYijianBlur(obj){\r\n\tvar yijian = obj.value;\r\n\tif(yijian.indexOf(\"'\")>=0 || yijian.indexOf(\"\\\"\")>=0){\r\n\t\talert(\"意见中不能有英文状态下的单引号或双引号\");\r\n\t\tobj.focus();\r\n\t}\r\n\t\r\n}\r\n//-->\r\n</SCRIPT>");
                  out.write("</td>\r\n\t\t\t\t                      \t</tr>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<!-- 要求发送继续后可以自动增加流水号START-->\r\n\t\t\t\t\t\t\t\t<script>\r\n\t\t\t\t\t\t\t\tfunction changeURL () {\r\n\t\t\t\t\t\t\t\t\tif (");
                  out.print(request.getParameter("sendContinue"));
                  out.write("==\"1\") {\r\n\t\t\t\t\t\t\t\t\t\tif (document.all.sendContinueUrl.value.indexOf(\"sendContinue=1\")==-1) {\r\n\t\t\t\t\t\t\t\t\t\t\tdocument.all.sendContinueUrl.value += \"&sendContinue=1&zjkySeq=\"+document.all.zjkySeq.value+\"&seqId=\"+document.all.seqId.value;\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tvar url = document.all.sendContinueUrl.value.substring(0,document.all.sendContinueUrl.value.indexOf(\"&sendContinue=1\"));\r\n\t\t\t\t\t\t\t\t\t\t\tvar template = \"&sendContinue=1&zjkySeq=$zjkySeq&seqId=$seqId\";\r\n\t\t\t\t\t\t\t\t\t\t\turl += template;\r\n\t\t\t\t\t\t\t\t\t\t\turl = url.replace(\"$zjkySeq\",document.all.zjkySeq.value);\r\n\t\t\t\t\t\t\t\t\t\t\turl = url.replace(\"$seqId\",document.all.seqId.value);\r\n\t\t\t\t\t\t\t\t\t\t\tdocument.all.sendContinueUrl.value = url;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tchangeURL();\r\n\t\t\t\t\t\t\t\t</script>\r\n\t\t\t\t\t\t\t\t<!-- 要求发送继续后可以自动增加流水号 END-->\r\n\t\t\t            \t</tr>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t");
                  int evalDoAfterBody = _jspx_th_html_005fform_005f0.doAfterBody();
                  if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
                    break;
                } while (true);
              }
              if (_jspx_th_html_005fform_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                return;
              }
              _005fjspx_005ftagPool_005fhtml_005fform_0026_005fmethod_005faction.reuse(_jspx_th_html_005fform_005f0);
              _jspx_th_html_005fform_005f0_reused = true;
            } finally {
              org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_html_005fform_005f0, _jsp_getInstanceManager(), _jspx_th_html_005fform_005f0_reused);
            }
            out.write("\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id=\"docinfo1\" style=\"display:none\">\t\t   \r\n\t\t\t\t\t<TABLE width=\"100%\" border=\"0\" cellspacing=\"0\">\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td valign=\"top\" align=\"center\">\r\n\t\t\t\t\t\t\t\t<iframe id=\"flowviewFrame\" name=\"flowviewFrame\" src=\"\"  frameborder=0 style=\"width:100%;height:500px;\" border=0 align=\"right\"></iframe>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</TABLE>\r\n\t\t\t\t</div>\r\n\t\t\t</td>\r\n\t  \t</tr>\t\r\n\t</table>\r\n\t<br>\r\n</div>\r\n\r\n<div style=\"display:none\">\r\n\t<iframe id=\"myIframe\" name=\"myIframe\" src=\"\"></iframe>\r\n\t<iframe id=\"ifrm\" name=\"ifrm\" style=\"display:none\"></iframe>\r\n</div>\r\n<script type=\"text/javascript\">\r\ninitValue();\r\n</script>\r\n</body>\r\n");
            int evalDoAfterBody = _jspx_th_html_005fhtml_005f0.doAfterBody();
            if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
              break;
          } while (true);
        }
        if (_jspx_th_html_005fhtml_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
          return;
        }
        _005fjspx_005ftagPool_005fhtml_005fhtml.reuse(_jspx_th_html_005fhtml_005f0);
        _jspx_th_html_005fhtml_005f0_reused = true;
      } finally {
        org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_html_005fhtml_005f0, _jsp_getInstanceManager(), _jspx_th_html_005fhtml_005f0_reused);
      }
      out.write("\r\n<script src=\"/jsoa/js/util.js\"></script>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }

  private boolean _jspx_meth_html_005fhidden_005f0(javax.servlet.jsp.tagext.JspTag _jspx_th_html_005fform_005f0, javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  html:hidden
    org.apache.struts.taglib.html.HiddenTag _jspx_th_html_005fhidden_005f0 = (org.apache.struts.taglib.html.HiddenTag) _005fjspx_005ftagPool_005fhtml_005fhidden_0026_005fproperty_005fnobody.get(org.apache.struts.taglib.html.HiddenTag.class);
    boolean _jspx_th_html_005fhidden_005f0_reused = false;
    try {
      _jspx_th_html_005fhidden_005f0.setPageContext(_jspx_page_context);
      _jspx_th_html_005fhidden_005f0.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_html_005fform_005f0);
      // /doc/doc/receivefile_add_temp.jsp(494,7) name = property type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_html_005fhidden_005f0.setProperty("receiveFileFileNoCount");
      int _jspx_eval_html_005fhidden_005f0 = _jspx_th_html_005fhidden_005f0.doStartTag();
      if (_jspx_th_html_005fhidden_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fhtml_005fhidden_0026_005fproperty_005fnobody.reuse(_jspx_th_html_005fhidden_005f0);
      _jspx_th_html_005fhidden_005f0_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_html_005fhidden_005f0, _jsp_getInstanceManager(), _jspx_th_html_005fhidden_005f0_reused);
    }
    return false;
  }
}
