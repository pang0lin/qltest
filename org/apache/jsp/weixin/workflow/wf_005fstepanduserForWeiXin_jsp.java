/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: JspC/ApacheTomcat8
 * Generated at: 2023-01-06 09:58:59 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.weixin.workflow;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import com.js.oa.jsflow.service.WorkFlowBD;
import com.js.oa.jsflow.vo.ActivityVO;
import com.js.oa.jsflow.service.WorkFlowButtonBD;
import java.util.Date;
import java.util.regex.Matcher;
import java.util.regex.Pattern;
import com.js.oa.jsflow.util.ProcessStep;
import com.js.util.config.SystemCommon;
import com.js.util.util.BrowserJudge;
import com.js.lang.Resource;

public final class wf_005fstepanduserForWeiXin_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(1);
    _jspx_dependants.put("/WEB-INF/tag-lib/struts-bean.tld", Long.valueOf(1499751390000L));
  }

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = new java.util.HashSet<>();
    _jspx_imports_classes.add("com.js.oa.jsflow.vo.ActivityVO");
    _jspx_imports_classes.add("com.js.oa.jsflow.util.ProcessStep");
    _jspx_imports_classes.add("com.js.lang.Resource");
    _jspx_imports_classes.add("java.util.regex.Matcher");
    _jspx_imports_classes.add("java.util.Date");
    _jspx_imports_classes.add("com.js.util.config.SystemCommon");
    _jspx_imports_classes.add("com.js.oa.jsflow.service.WorkFlowButtonBD");
    _jspx_imports_classes.add("java.util.regex.Pattern");
    _jspx_imports_classes.add("com.js.util.util.BrowserJudge");
    _jspx_imports_classes.add("com.js.oa.jsflow.service.WorkFlowBD");
  }

  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fbean_005fmessage_0026_005fkey_005fbundle_005fnobody;

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
    _005fjspx_005ftagPool_005fbean_005fmessage_0026_005fkey_005fbundle_005fnobody = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
  }

  public void _jspDestroy() {
    _005fjspx_005ftagPool_005fbean_005fmessage_0026_005fkey_005fbundle_005fnobody.release();
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    final java.lang.String _jspx_method = request.getMethod();
    if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method) && !javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET, POST or HEAD. Jasper also permits OPTIONS");
      return;
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=utf-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n");

String local = session.getAttribute("org.apache.struts.action.LOCALE").toString();
request.setCharacterEncoding("utf-8");

response.setHeader("Cache-Control","no-store");
response.setHeader("Pragma","no-cache");
response.setDateHeader ("Expires", 0);

//流程类型(业务流程1，随机流程0)
String processType = request.getParameter("processType");

//参数信息
String type = request.getParameter("type");	// 是否开始节点
String submitPersonId = request.getParameter("submitPersonId");
String moduleId = request.getParameter("moduleId");
String processId = request.getParameter("processId");
String tableId = request.getParameter("tableId");
String recordId = request.getParameter("recordId");
String curActivityId = request.getParameter("activityId");	// 当前节点
String activityId = "0";	// 用户选择的节点后继
String msgFrom = request.getParameter("msgFrom");

String activityIds = request.getParameter("activityIds")!=null&&request.getParameter("activityIds").length()>0
				? request.getParameter("activityIds").substring(1) : "";

String standForUserId = request.getParameter("standForUserId");		// 代办人ID
String standForUserName = request.getParameter("standForUserName");	// 代办人
String tranFromPersonId = request.getParameter("tranFromPersonId");	// 转办人


WorkFlowBD workFlowBD = new WorkFlowBD();
WorkFlowButtonBD workFlowButtonBD = new WorkFlowButtonBD();

// 默认选择用户
java.util.List selectUser = new java.util.ArrayList();

// 表单字段参数
String participantUserField = "";	// 表单中的某个字段名
int participantType=-99;
//显示短信
boolean showSmsRemind = false;
//java.util.Map include_sysMap = com.js.system.util.SysSetupReader.getInstance().getSysSetupMap(session.getAttribute("domainId").toString());

/***** 暂时不使用短信提醒
if(include_sysMap != null && include_sysMap.get("短信开通") != null && "1".equals(include_sysMap.get("短信开通").toString())){
	if(new com.js.oa.message.action.ModelSendMsg().judgePurviewMessage(msgFrom,session.getAttribute("domainId")==null?"0":session.getAttribute("domainId").toString())){
		if(new com.js.system.manager.service.ManagerService().hasRight(session.getAttribute("userId").toString(), "09*01*01")){
			showSmsRemind = true;
		}
	}
}*/

ProcessStep processStep = new ProcessStep();
//后继节点
ActivityVO activityVO = null;
long firstActivityId = -1;
java.util.List activityList = new java.util.ArrayList();
if(!"0".equals(processType)){
 	if("getFirstActivity".equals(type)){
		/*开始节点*/	   
		//activityVO = new com.js.oa.jsflow.util.WorkflowCommon().getFirstActivity(request);
		if(!"".equals(activityIds)){
			activityVO = workFlowBD.getFirstProcActiVO(activityIds);
			//activityVO = processStep.getProceedNextActi(moduleId, processId, activityIds, tableId, recordId, fatherId);
		}
		firstActivityId = activityVO.getId();
	
		if(!"0".equals(request.getParameter("processType")) && (activityVO==null || activityVO.getId() == 0)){
			
      out.write("\r\n\t\t\t<SCRIPT LANGUAGE=\"JavaScript\">\r\n\t\t\tparent.weixinMessageReminder(\"alert\", \"提示：\", \"");
      out.print(Resource.getValue(local,"workflow","workflow.includenosetupstartactivity"));
      out.write("\", \"\");\r\n\t\t\t</SCRIPT>\r\n\t\t\t");

		}
	
		/*显示默认的候选人*/
		if(activityVO != null && activityVO.getId() != 0){
	
			//短信1
			if(showSmsRemind){
				showSmsRemind = activityVO.getAllowSmsRemind().equals("1")?true:false;
			}
	
			//参与人类型
			participantType = activityVO.getParticipantType();
	
			//由表单字段指定
			if(participantType == 4){
				String tmp = activityVO.getParticipantUserField();
				participantUserField = workFlowButtonBD.getFieldInfoByFieldId(tmp);//zjky$f2045
				participantUserField = tmp + "-" + participantUserField;
			}
	    }
	} else{
	    /*中间节点*/
	    
	    //下一节点的选择类型（用户决定还是流程决定）
        String stepType = workFlowBD.getActivityType(curActivityId,tableId,recordId);
	    
	    //2010-05-13 取得下一个节点的类型，判断是否虚拟节点
	    String activityClass=workFlowBD.getNextActivityClass(curActivityId,tableId,recordId,"");
	    if(!activityClass.equals("0")){
	    	//虚拟节点 activityClass不为0时即下一个节点的activityId
	    	//activityVO = new com.js.oa.jsflow.util.ProcessStep().getProceedNextActi(activityClass, tableId, recordId, request);
	    	if(!"".equals(activityIds)){
				activityVO = processStep.getProceedNextActi(moduleId, processId, activityIds, tableId, recordId, activityClass);
			}
			if(activityVO==null){
				
      out.write("\r\n\t\t\t\t<SCRIPT LANGUAGE=\"JavaScript\">\r\n\t\t\t\tparent.weixinMessageReminder(\"alert\", \"提示：\", \"");
      out.print(Resource.getValue(local,"filetransact","file.nosuitnextactivity"));
      out.write("\", \"\");\r\n\t\t\t\t//window.close();\r\n\t\t\t\t</SCRIPT>\r\n\t\t\t\t");

			} else{
				activityVO.setBeginEnd(activityVO.getActivityBeginEnd());
				activityList.add(activityVO);
				//参与人类型
				participantType = activityVO.getParticipantType();
			}
	    }else if(stepType.equals("0")){	    	
	    	//流程决定走向	    	
			//activityVO = new com.js.oa.jsflow.util.ProcessStep().getProceedNextActi(curActivityId, tableId, recordId, request);
			if(!"".equals(activityIds)){
				activityVO = processStep.getProceedNextActi(moduleId, processId, activityIds, tableId, recordId, activityClass);
			}
	    	if(activityVO==null){
				
      out.write("\r\n\t\t\t\t<SCRIPT LANGUAGE=\"JavaScript\">\r\n\t\t\t\tparent.weixinMessageReminder(\"alert\", \"提示：\", \"");
      out.print(Resource.getValue(local,"filetransact","file.nosuitnextactivity"));
      out.write("\", \"\");\r\n\t\t\t\t//window.close();\r\n\t\t\t\t</SCRIPT>\r\n\t\t\t\t");

			} else{
				activityVO.setBeginEnd(activityVO.getActivityBeginEnd());
				activityList.add(activityVO);
				//参与人类型
				participantType = activityVO.getParticipantType();
			}
	    }else{
	    	//用户决定走向
	    	if(!"".equals(activityIds)){
				activityVO = processStep.getProceedNextActi(moduleId, processId, activityIds, tableId, recordId, activityClass);
				activityList.add(activityVO);
				//参与人类型
				participantType = activityVO.getParticipantType();
			}else{
				activityList = workFlowBD.getAllNextActivity(tableId, recordId, curActivityId);
				if(activityList.size()==0){
					
      out.write("\r\n\t\t\t\t\t<SCRIPT LANGUAGE=\"JavaScript\">\r\n\t\t\t\t\tparent.weixinMessageReminder(\"alert\", \"提示：\", \"");
      out.print(Resource.getValue(local,"filetransact","file.nosetupnextactivity"));
      out.write("\", \"\");\r\n\t\t\t\t\t</SCRIPT>\r\n\t\t\t\t\t");

				}
			}
	    }    
  	}
}


//默认选择用户
WorkFlowButtonBD wfbbd = new WorkFlowButtonBD();

String selectUserId = "";
String selectUserName = "";
//java.util.List selectUser = new java.util.ArrayList();
/*com.js.oa.jsflow.vo.WorkVO vo = new com.js.oa.jsflow.vo.WorkVO();
	vo.setProcessId(Long.valueOf(processId));
	vo.setTableId(Long.valueOf(tableId));
	vo.setRecordId(Long.valueOf(recordId));
	vo.setActivity(Long.valueOf(curActivityId));

selectUser = wfbbd.getAllPassRoundUsers(vo);*/

String loginType = null!=session.getAttribute("loginType") ? session.getAttribute("loginType").toString() : "";

      out.write("\r\n<!DOCTYPE html>\r\n<html>\r\n\t<head>\r\n\t\t<title>");
      out.print(Resource.getValue(local,"filetransact","file.send"));
      out.write("</title>\r\n\t\t<link href=\"/jsoa/skin/");
      out.print(session.getAttribute("skin"));
      out.write("/style-");
      out.print(session.getAttribute("browserVersion"));
      out.write(".css\" rel=\"stylesheet\" type=\"text/css\" />\r\n\t\t<link rel=\"stylesheet\" href=\"/jsoa/css/weixin/search.css\">\r\n\t\t<script src=\"/jsoa/js/js.js\" language=\"javascript\"></script>\r\n\t\t<SCRIPT language=\"javascript\" src=\"/jsoa/js/openEndow.js\"></SCRIPT>\r\n\t\t<link rel=stylesheet type=\"text/css\" href=\"/jsoa/public/date_picker/DateObject2.css\">\r\n\t\t<SCRIPT language=javascript src=\"/jsoa/public/date_picker/DateObject.js\"></SCRIPT>\r\n\t\t<SCRIPT language=javascript src=\"/jsoa/public/date_picker/DatePicker.js\"></SCRIPT>\r\n\t\t<SCRIPT language=javascript src=\"/jsoa/public/date_picker/editlib.js\"></SCRIPT>\r\n\t\t<SCRIPT language=javascript src=\"/jsoa/public/date_picker/tree.js\"></SCRIPT>\r\n\t\t<SCRIPT LANGUAGE=\"JavaScript\">\r\n\t\tparent.document.getElementById(\"formBody\").style.display = \"none\";\r\n\t\t</SCRIPT>\r\n\t\t<base target=\"_self\">\r\n\t\t<style type=\"text/css\">\r\n\t\t* { margin: 0; padding: 0;}\r\n\t\tbody { background: #f5f5f5;padding-bottom: 80px;}\r\n\t\t.trItem { width: 96%; margin: 0 auto; clear: both;}\r\n\t\t.childItem { padding: 5px 15px 5px 5px; float: left;}\r\n");
      out.write("\t\t#pup_main { height: auto; background: #fff; padding: 5px 5px 5px 0;}\r\n\t\t</style>\r\n\t</head>\r\n\t\r\n\t<body onLoad=\"init();changeActivity('");
      out.print(type);
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(processType);
      out.write("');changeActivity2('");
      out.print(type);
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(processType);
      out.write("');\" class=\"paddingTop\">\r\n\t\t");
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "/wap2/commonImport.jsp", out, false);
      out.write("\r\n\t\t");

		if("wap".equals(loginType)){
			
      out.write("\r\n\t\t\t<div id=\"mainpage_navdiv\" class=\"top\">\r\n\t\t    \t<a id=\"mainpage_backurl\" href=\"javascript:showFormBody();\">\r\n\t\t    \t\t<img width=\"20\" height=\"15\" src=\"wap2/images/topfh.png\">\r\n\t\t    \t</a>\r\n\t\t    \t<p id=\"mainpage_title\">发送</p>\r\n\t    \t</div>\r\n\t\t\t");

		}
		
      out.write("\r\n\t\t\r\n\t\t");

		if(!"0".equals(processType)){
			if(participantType==1){
		
      out.write("\r\n\t\t\t\t<div class=\"sousuo-01\" >\r\n\t\t\t\t<input type=\"hidden\" id=\"keyword\" name=\"keyword\" />\r\n\t\t\t\t<input type=\"text\" id=\"keys\" name=\"keys\" value=\"\" placeholder=\"请输入姓名,多个姓名之间用逗号隔开\" />\r\n\t\t\t\t<div class=\"sousuo-11\" onclick=\"submitForm();\"><img src=\"/jsoa/images/weixin/ss.png\"></div>\r\n\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t");
}else{
      out.write("\r\n\t\t\t<div id=\"pup_main\" class=\"trItem\" style=\"font-size: 18px; margin: 0 auto; width: 96%; background: #f5f5f5;\">\r\n\t  \t\t\t<span id=\"Panle0\" onClick=\"changePanle(0);\" style=\"color: red;\">办件</span>\r\n\t\t\t\t<span id=\"Panle1\" onClick=\"changePanle(1);\" style=\"color: black;\"> | 阅件</span>\r\n\t\t\t</div>\r\n\t\t\t");
}
		}
		
      out.write("\r\n\t\r\n\t\t<!-- 办件 -->\r\n\t\t<div id=\"docinfo0\">\r\n\t\t\t<form name=\"frm0\" id=\"frm0\">\r\n\t\t\t\t<INPUT TYPE=\"hidden\" name=\"processId\" value=\"");
      out.print(processId);
      out.write("\">\r\n\t\t\t\t<INPUT TYPE=\"hidden\" name=\"moduleId\" value=\"");
      out.print(moduleId);
      out.write("\">\r\n\t\t\t\t<div id=\"tempDiv\" name=\"tempDiv\" style=\"display:none\"></div>\r\n\t\t\t</form>\r\n\t\t\r\n\t\t\t<form name=\"frm1\" id=\"frm1\">\r\n\t\t\t\t<div class=\"trItem\">\r\n\t\t\t\t\t<div id=\"stepTR\" class=\"childItem\" style=\"padding-left: 0;\">\r\n\t\t\t\t\t\t下一节点：\r\n\t\t\t\t\t\t<select name=\"step\" id=\"step\" onchange=\"changeActivity('");
      out.print(type);
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(processType);
      out.write("');changeActivity2('");
      out.print(type);
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(processType);
      out.write("');\" style=\"width: 80px;\">\r\n\t\t\t\t\t\t\t");

							if(!"0".equals(processType)){
								String activityName = "";
								String activityNameTitle = "";
								if("getFirstActivity".equals(type) && activityVO != null && activityVO.getId() != 0){
									if(activityVO.getBeginEnd() == 2){
										//可选择的节点中包含结束节点
										activityVO.setId(Long.parseLong("2"));
										activityVO.setName("结束节点");
									}
									activityName = activityVO.getName()==null ? "" : activityVO.getName();
									activityNameTitle = activityName;
									if(activityName.length() > 10){
										activityName = activityName.substring(0,8) + "..";
									}
									
      out.write("\r\n\t\t\t\t\t\t\t\t\t<option value=\"");
      out.print(activityVO.getId());
      out.write(',');
      out.print(activityVO.getName()==null?"":activityVO.getName());
      out.write(',');
      out.print(activityVO.getAllowStandFor());
      out.write(',');
      out.print(activityVO.getAllowcancel());
      out.write(',');
      out.print(activityVO.getPressType());
      out.write(',');
      out.print(activityVO.getDeadlineTime());
      out.write(',');
      out.print(activityVO.getPressMotionTime());
      out.write(',');
      out.print(activityVO.getAllowTransition());
      out.write("\"  title=\"");
      out.print(activityNameTitle );
      out.write("\" selected>");
      out.print(activityName);
      out.write("</option>\r\n\t\t\t\t\t\t\t\t\t");

								} else {
									boolean defaultSelected = SystemCommon.isDefaultSelected();
									for(int j = 0; j < activityList.size(); j ++){
										activityVO = (com.js.oa.jsflow.vo.ActivityVO) activityList.get(j);
										if(activityVO.getBeginEnd() == 2){
											//可选择的节点中包含结束节点
											activityVO.setId(Long.parseLong("2"));
											activityVO.setName("结束节点");
										}
										activityName = activityVO.getName()== null ? "" : activityVO.getName();
										activityNameTitle = activityName;
										if(activityName.length() > 10){
											activityName = activityName.substring(0,8) + "..";
										}
										if(defaultSelected){
											if(activityList.size()>1 && j==0){
												
      out.write("\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"\">--请选择流程节点--</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t");

											} 
											
      out.write("\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"");
      out.print(activityVO.getId());
      out.write(',');
      out.print(activityVO.getName()==null?"":activityVO.getName());
      out.write(',');
      out.print(activityVO.getAllowStandFor());
      out.write(',');
      out.print(activityVO.getAllowcancel());
      out.write(',');
      out.print(activityVO.getPressType());
      out.write(',');
      out.print(activityVO.getDeadlineTime());
      out.write(',');
      out.print(activityVO.getPressMotionTime());
      out.write(',');
      out.print(activityVO.getAllowTransition());
      out.write("\"   title=\"");
      out.print(activityNameTitle );
      out.write('"');
      out.write('>');
      out.print(activityName);
      out.write("</option>\r\n\t\t\t\t\t\t\t\t\t\t\t");

										}else{
											
      out.write("\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=\"");
      out.print(activityVO.getId());
      out.write(',');
      out.print(activityVO.getName()==null?"":activityVO.getName());
      out.write(',');
      out.print(activityVO.getAllowStandFor());
      out.write(',');
      out.print(activityVO.getAllowcancel());
      out.write(',');
      out.print(activityVO.getPressType());
      out.write(',');
      out.print(activityVO.getDeadlineTime());
      out.write(',');
      out.print(activityVO.getPressMotionTime());
      out.write(',');
      out.print(activityVO.getAllowTransition());
      out.write('"');
      out.write(' ');
      out.write(' ');
      out.print((activityVO.getId()+"").equals(activityVO.getDefaultActivity())?"selected":"");
      out.write(" title=\"");
      out.print(activityNameTitle );
      out.write('"');
      out.write('>');
      out.print(activityName);
      out.write("</option>\r\n\t\t\t\t\t\t\t\t\t\t\t");

										}
										
      out.write("\r\n\t\t\t\t\t\t\t\t\t");

									}
								}
							}
							
      out.write("\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id=\"approveModeTD\" class=\"childItem\">\r\n\t\t\t\t\t\t审批方式：\r\n\t\t\t\t\t\t<select name=\"approveMode\" id=\"approveMode\">\r\n\t\t\t\t\t\t\t<option value=\"2\">单人</option>\r\n\t\t\t\t\t        <option value=\"0\">单选</option>\r\n\t\t\t\t\t        <option value=\"1\">并行</option>\r\n\t\t\t\t\t        <option value=\"3\">串行</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div class=\"trItem\">\r\n\t\t\t\t\t<div id=\"emergenceTD\" class=\"childItem\" style=\"padding-left: 0;\">\r\n\t\t\t\t\t\t缓&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;急：\r\n\t\t\t\t\t\t<SELECT NAME=\"emergence\">\r\n\t\t\t\t\t\t\t<option value='0' title=\"xx\">一般</option> \r\n\t\t\t\t\t\t\t<option value='1'>加急</option>\r\n\t\t\t\t\t\t\t<option value='2'>急件</option>\r\n\t\t\t\t\t\t\t<option value='3'>特急</option>\r\n\t\t\t\t\t\t\t<option value='4'>特提</option>\r\n\t\t\t\t\t\t</SELECT>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t ");
if("shandongguotou".equals(com.js.util.config.SystemCommon.getCustomerName())){
      out.write("\r\n\t\t\t\t\t<div id=\"jiaqianTD\" class=\"childItem\" style=\"padding-left: 0;\">\r\n\t\t\t\t\t\t <input type=\"hidden\" name=\"tempjiaqianid\" id=\"tempjiaqianid\"> <input type=\"hidden\" name=\"tempjiaqianname\" id=\"tempjiaqianname\">\r\n\t   \t\t\t\t\t <input type=\"button\" name=\"jiaqian\" value=\"加签\" class=\"btnButton4font\" onClick=\"wechatjiaqian(this);\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t");
} 
      out.write("\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div style=\"display: none;\" class=\"trItem\">\r\n\t\t\t\t\t<label style=\"float: left; padding-right: 20px;\">\r\n\t\t\t\t\t\t");
      out.print(Resource.getValue(local,"filetransact","file.doschedule"));
      out.write("：<input type=\"checkbox\" name=\"needProcessDeadlineDate\" id=\"needProcessDeadlineDate\" onclick=\"showProcessDeadlineDate();\"/>\r\n\t\t\t\t\t</label>\r\n\t\t\t \t\t");

				  	Date serverDate = new Date() ;
				  	String serverY = serverDate.getYear() + 1900 + "";
				  	String serverM = serverDate.getMonth() + 1 + "";
				  	String serverD = serverDate.getDate() + "";
			 		
      out.write("\r\n\t\t\t\t\t<div align=\"left\" style=\"display:none\" name=\"pdTD\" id=\"pdTD\">\r\n\t\t\t\t\t\t<script language=javascript>\r\n\t\t\t\t\t\tvar LimitTimeYear = '");
      out.print(serverY);
      out.write("';\r\n\t\t\t\t\t\tvar LimitTimeMonth = '");
      out.print(serverM);
      out.write("';\r\n\t\t\t\t\t\tvar LimitTimeDate = '");
      out.print(serverD);
      out.write("';\r\n\t\t\t\t\t\tif(parent.document.all.LimitTimeYear && parent.document.all.LimitTimeMonth && parent.document.all.LimitTimeDate){\r\n\t\t\t\t\t\t\tLimitTimeYear = parent.document.all.LimitTimeYear.value;\r\n\t\t\t\t\t\t\tLimitTimeMonth = parent.document.all.LimitTimeMonth.value;\r\n\t\t\t\t\t\t\tLimitTimeDate = parent.document.all.LimitTimeDate.value;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar dtpDate = createDatePicker(\"processDeadlineDate\", LimitTimeYear, LimitTimeMonth, LimitTimeDate);\r\n\t\t\t\t\t \t</script>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div id=\"middleTR1\" class=\"trItem\" style=\"height: 250px;\">\r\n\t\t\t\t\t<iframe id=\"orgifm\" name=\"orgifm\" scrolling=\"yes\" width=\"100%\" height=\"250px\"></iframe>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div id=\"selTextarea1\" style=\"display:none\" class=\"trItem\">\r\n\t\t\t\t\t<table border=\"0\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin:0px;border:0px;\">\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t \t<td style=\"width:100%;\">\r\n\t\t\t\t\t\t\t\t<textarea name=\"selectedTxt\" id=\"selectedTxt\" rows=\"8\" cols=\"100\" class=\"inputTextarea\" readonly=\"true\" style=\"width:100%;heigh:100%\" ></textarea>\r\n");
      out.write("\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td id=\"selTextareaTagOld\" style=\"display:none\" valign=\"bottom\" align=\"left\">\r\n\t\t\t\t\t\t\t\t\t<img width=\"15\" height=\"16\" border=\"0\" src=\"/jsoa/images/select.gif\" style=\"cursor:pointer\" onClick=\"openSelUserWIN();\">\r\n\t\t\t\t\t\t\t \t<input type=\"hidden\" name=\"selectedTxtId\" id=\"selectedTxtId\">\r\n\t\t\t\t\t\t\t \t<input type=\"hidden\" name=\"selRange\" id=\"selRange\">\r\n\t\t\t\t\t\t\t \t<input type=\"hidden\" name=\"participantType\" id=\"participantType\" value=\"-1\">\r\n\t\t\t\t\t\t \t</td>\r\n\t\t\t\t   \t\t</tr>\r\n\t\t\t\t \t</table>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div id=\"showTR\" class=\"trItem\">\r\n\t\t\t\t\t");

					String message = "none";	// 是否显示短信
					if(showSmsRemind){
						message = "";
					}
					
      out.write("\r\n\t\t\t\t\t<div style=\"display: ");
      out.print(message);
      out.write("\" class=\"childItem\">\r\n\t\t\t\t\t\t<span id=\"smsDiv1\">\r\n\t\t\t\t\t\t\t<INPUT TYPE=\"hidden\" name=\"showSmsRemind\" id=\"showSmsRemind\" value=\"");
      out.print(showSmsRemind);
      out.write("\">\r\n\t\t\t\t\t\t\t<input type=\"checkbox\" id=\"r1\" name=\"needSendMsg\" onclick=\"showSmsContentHref();\"/>\r\n\t\t\t\t\t\t\t<label for=\"r1\">");
      out.print(Resource.getValue(local,"filetransact","file.messageremind"));
      out.write("</label>\r\n\t\t\t\t\t\t\t<!-- 提醒内容 -->\r\n\t\t\t\t\t\t\t<label id=\"smsHrefLabel\" style=\"display:none\">\r\n\t\t\t\t\t\t\t\t<A HREF=\"javascript:\" onclick=\"showSmsContent();\">");
      out.print(Resource.getValue(local,"filetransact","file.smsremindcontent"));
      out.write("</A>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- 办理提示 -->\r\n\t\t\t\t\t<div style=\"display:none\" class=\"childItem\">\r\n\t\t\t\t\t\t<span><A HREF=\"javascript:\" onclick=\"showDealTips();\">");
      out.print(Resource.getValue(local,"filetransact","file.tranremind"));
      out.write("</A></span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div style=\"display:");
      out.print("getFirstActivity".equals(type) ? "none" : "" );
      out.write("\" class=\"childItem\">\r\n\t\t\t\t\t\t<input type=\"checkbox\" name=\"sendMsgToInit\" id=\"sendMsgToInit\" onclick=\"sendMsgToInitSet();\" />提醒流程发起人\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div class=\"trItem\">\r\n\t\t\t\t\t<div class=\"childItem\">\r\n\t\t\t\t\t\t");

						if("1".equals(com.js.util.config.SystemCommon.getCanSendSMS())){
							
      out.write("\r\n\t\t\t\t\t\t\t<input type=\"checkbox\" name=\"sendSMS\" id=\"sendSMS\" value=\"1\" onclick=\"changeSendSMS(this);\" />\r\n\t\t\t\t\t\t\t<label for=\"sendSMS\">短信提醒</label>\r\n\t\t\t\t\t\t\t");

						} else{
							
      out.write("\r\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"sendSMS\" id=\"sendSMS\" value=\"1\">\r\n\t\t\t\t\t\t\t");

						}
						
      out.write("\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 办理期限 -->\r\n\t\t\t\t<div class=\"trItem\">\r\n\t\t\t\t\t");

			     	if(activityVO.getPressType()!=0){
			     		
      out.write("\r\n\t\t\t     \t\t<div class=\"childItem\">\r\n\t\t\t\t\t\t\t<input type=\"checkbox\" name=\"ifWorkDeadLine\" id=\"ifWorkDeadLine\" onclick=\"isWorkDeadLine(this);\"/>办理期限\r\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"workDeadLine\" id=\"workDeadLine\" value=\"-1\" />\r\n\t\t\t \t\t\t\t<span id=\"workDeadLineSpan\" style=\"display:none;\">\r\n\t\t\t\t \t\t\t\t<input type=\"text\" name=\"workDeadLineNum\" id=\"workDeadLineNum\" value=\"0\" onblur=\"getWorkDeadLine();\" style=\"width:30px;\" /> \r\n\t\t\t\t \t\t\t\t<select name=\"workDeadLineType\" id=\"workDeadLineType\" onchange=\"getWorkDeadLine();\">\r\n\t\t\t\t\t \t\t\t\t<option value=\"h\">小时</option>\r\n\t\t\t\t\t \t\t\t\t<option value=\"d\">天</option>\r\n\t\t\t\t \t\t\t\t</select>\r\n\t\t\t \t\t\t\t</span>\r\n\t\t\t\t\t \t</div>\r\n\t\t\t\t \t\t");

					}
					
      out.write("\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div id=\"smsContentTR\" style=\"display:none\" class=\"trItem\">\r\n\t\t\t\t\t<textarea name=\"smsContent\" id=\"smsContent\" rows=\"4\" cols=\"100\" class=\"inputTextarea\" style=\"width:100%;heigh:100%\">");
      out.print(request.getAttribute("smsContent")+"");
      out.write("</textarea>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div id=\"dealTipsTR\" style=\"display:none\" class=\"trItem\">\r\n\t\t\t\t\t<textarea name=\"dealTips\" id=\"dealTips\" rows=\"4\" cols=\"100\" class=\"inputTextarea\" style=\"width:100%;heigh:100%\"></textarea>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t\r\n\t\t<!---------------------------------------- 阅件------------------------------->\r\n\t\t<div id=\"docinfo1\" style=\"display: none;\">\r\n\t\t\t<form name=\"frm2\" id=\"frm2\" style=\"margin:0;\">\r\n\t\t\t\t<div id=\"middleTR2\" class=\"trItem\" style=\"height: 250px;\">\r\n\t\t\t\t\t<iframe id=\"orgifm2\" name=\"orgifm2\" scrolling=\"auto\" width=\"100%\" height=\"250px\"></iframe>\r\n\t\t\t\t</div>\r\n\t\t\t\r\n\t\t\t\t<div id=\"selTextarea2\" style=\"display:none\" class=\"trItem\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<textarea name=\"selectedTxt2\" id=\"selectedTxt2\" rows=\"12\" cols=\"60\" class=\"inputTextarea\" readonly=\"true\" style=\"width:100%;\">");
      out.print(selectUserName);
      out.write("</textarea>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id=\"selTextareaTagOld\" style=\"display:none\">\r\n\t\t\t\t\t\t<img width=\"15\" height=\"16\" border=\"0\" src=\"/jsoa/images/select.gif\" style=\"cursor:pointer\" onClick=\"openSelUserWIN2();\">\r\n\t\t \t\t\t\t<input type=\"hidden\" name=\"selectedTxtId2\" id=\"selectedTxtId2\" value=\"");
      out.print(selectUserId);
      out.write("\">\r\n\t\t \t\t\t\t<input type=\"hidden\" name=\"selRange\" id=\"selRange\">\r\n\t\t \t\t\t\t<input type=\"hidden\" name=\"participantType\" id=\"participantType\" value=\"-1\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\r\n\t\t\t\t<div style=\"display:none\" class=\"trItem\">\r\n\t\t\t\t\t<div style=\"display:");
      out.print(message);
      out.write("\">\r\n\t\t\t\t\t\t<INPUT TYPE=\"hidden\" name=\"showSmsRemind\" id=\"showSmsRemind\" value=\"");
      out.print(showSmsRemind);
      out.write("\">\r\n\t\t\t\t\t\t<span id=\"smsDiv2\">\r\n\t\t\t\t\t\t\t<input type=\"checkbox\" id=\"r1\" name=\"needSendMsg\" checked onclick=\"showSmsContentHref();\"/>\r\n\t\t\t\t\t\t\t<label for=\"r1\">");
      out.print(Resource.getValue(local,"filetransact","file.messageremind"));
      out.write("</label>\r\n\t\t\t\t\t\t\t<label id=\"smsHrefLabel\">\r\n\t\t\t\t\t\t\t\t<A HREF=\"javascript:\" onclick=\"showSmsContent();\">");
      out.print(Resource.getValue(local,"filetransact","file.smsremindcontent"));
      out.write("</A>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t\t\r\n\t\t\r\n\t\t<!-- 按钮 -->\r\n\t\t<div class=\"footer\" id=\"footer0\">\r\n\t      \t<div class=\"buttons\">\r\n\t      \t\t<div class=\"button\" onclick=\"javascript:include_save('");
      out.print(processType);
      out.write("','0','");
      out.print(type);
      out.write("');\">发送</div>\r\n\t      \t\t");

				if(!"getFirstActivity".equals(type) && "0".equals(processType)){
					
      out.write("\r\n\t      \t\t\t<div class=\"button\" onclick=\"javascript:include_save('");
      out.print(processType);
      out.write("','1','");
      out.print(type);
      out.write("');\">\r\n\t      \t\t\t\t");
      if (_jspx_meth_bean_005fmessage_005f0(_jspx_page_context))
        return;
      out.write("\r\n\t      \t\t\t</div>\r\n\t     \t\t\t");

				}
				
      out.write("\r\n\t      \t\t<div class=\"button gray\" onclick=\"showFormBody()\">\r\n\t      \t\t\t");
      if (_jspx_meth_bean_005fmessage_005f1(_jspx_page_context))
        return;
      out.write("\r\n\t      \t\t</div>\r\n\t      \t</div>\r\n\t\t</div>\r\n\t\t\r\n\t\t<div class=\"footer\" id=\"footer1\" style=\"display: none;\">\r\n\t      \t<div class=\"buttons\">\r\n\t      \t\t<div class=\"button\" onclick=\"javascript:include_save('");
      out.print(processType);
      out.write("','0','");
      out.print(type);
      out.write("');\">确定</div>\r\n\t\t\t");

			if("getFirstActivity".equals(type)){
				
      out.write("\r\n\t\t\t\t<div class=\"button\" onclick=\"javascript:include_savecontinue('");
      out.print(processType);
      out.write("','0','");
      out.print(type);
      out.write("');\">发送继续</div>\r\n\t\t\t\t");

			}

			if(!"getFirstActivity".equals(type) && "0".equals(processType)){
				
      out.write("\r\n\t\t\t\t<div class=\"button\" onclick=\"javascript:include_save('");
      out.print(processType);
      out.write("','1','");
      out.print(type);
      out.write("');\">确定</div>\r\n\t\t\t\t");

			}
			
      out.write("\r\n\t\t\t\t<div class=\"button gray\" onclick=\"showFormBody()\">取消</div>\r\n\t      \t</div>\r\n\t\t</div>\r\n\t\t\r\n\t\t<script type=\"text/javascript\">\r\n\t\tfunction init(){\r\n\t\t\t");

			/*
			if(!"".equals(participantUserField) && !"0-".equals(participantUserField) && !"-1-".equals(participantUserField) 
					&& !"-2-".equals(participantUserField) && !"-3-".equals(participantUserField)){
				
      out.write("\r\n\t\t\t\t//alert('");
      out.print(participantUserField);
      out.write("');\r\n\t\t\t\tvar vv = parent.document.getElementById('");
      out.print(participantUserField);
      out.write("').innerHTML;\r\n\t\t\t\tfrm0.all.tempDiv.innerHTML = vv;\r\n\t\t\t\t");

			}
			*/
			
      out.write("\r\n\t\t\t\r\n\t\t\t//办理期限是否选中\r\n\t\t\tif(parent.document.all.chkLimitTime && parent.document.all.chkLimitTime.checked){\r\n\t\t\t\tfrm1.needProcessDeadlineDate.click();\r\n\t\t\t}\r\n\t\t\t//判断是否是子流程\r\n\t\t\tif(parent.document.all.subProcess && parent.document.all.subProcess.value=='1'){\r\n\t\t\t\t// sendContinue 发送继续，微信中不包括\r\n\t\t\t\t//frm1.sendContinue.style.display=\"none\";\r\n\t\t\t\t//frm2.sendContinue.style.display=\"none\";\r\n\t\t\t}\r\n\t\t\tvar sendMsgToInitiator = parent.document.getElementById(\"sendMsgToInitiator\").value;\r\n\t\t\tif(sendMsgToInitiator==\"1\"){\r\n\t\t\t\tdocument.getElementById(\"sendMsgToInit\").checked = true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tfunction changePanle(flag){\r\n\t\t\tfor(i=0; i<2; i++){\r\n\t\t\t\teval(\"docinfo\" + i + \".style.display='none'\");\r\n\t\t\t\teval(\"footer\" + i + \".style.display='none'\");\r\n\t\t\t\teval(\"Panle\" + i + \".style.color='black'\");\r\n\t\t\t}\r\n\t\t\teval(\"docinfo\" + flag + \".style.display=''\");\r\n\t\t\teval(\"footer\" + flag + \".style.display=''\");\r\n\t\t\teval(\"Panle\" + flag + \".style.color='red'\");\r\n\t\t}\r\n\t\t\r\n\t\tfunction isWorkDeadLine(obj){\r\n\t\t\tvar workDeadLineSpan = document.getElementById(\"workDeadLineSpan\");\r\n");
      out.write("\t\t\tif(obj.checked){\r\n\t\t\t\tworkDeadLineSpan.style.display = \"\";\r\n\t\t\t\tif(document.getElementById(\"workDeadLineNum\").value == \"0\"){\r\n\t\t\t\t\tdocument.getElementById(\"workDeadLineNum\").value = \"1\";\r\n\t\t\t\t\tdocument.getElementById(\"workDeadLineType\").value = \"d\";\r\n\t\t\t\t}\r\n\t\t\t\tgetWorkDeadLine();\r\n\t\t\t} else{\r\n\t\t\t\tworkDeadLineSpan.style.display = \"none\";\r\n\t\t\t\tparent.document.getElementById(\"changeDeadLineTime\").value = \"-1\";\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfunction getWorkDeadLine(){\r\n\t\t\tvar workDeadLineNum = parseFloat(document.getElementById(\"workDeadLineNum\").value);\r\n\t\t\tif (isNaN(workDeadLineNum)){\r\n\t\t\t\tparent.weixinMessageReminder(\"alert\", \"提示：\", \"请输入数字！\", \"\");\r\n\t\t\t} else{\r\n\t\t\t\tvar workDeadLineType = document.getElementById(\"workDeadLineType\").value;\r\n\t\t\t\tvar workDeadLine = document.getElementById(\"workDeadLine\");\r\n\t\t\t\tif(\"h\"==workDeadLineType){\r\n\t\t\t\t\tworkDeadLine.value=workDeadLineNum*60*60;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tworkDeadLine.value=workDeadLineNum*60*60*24;\r\n\t\t\t\t}\r\n\t\t\t\tif(parseFloat(workDeadLine.value)>0){\r\n\t\t\t\t\tparent.document.getElementById(\"changeDeadLineTime\").value = workDeadLine.value;\r\n");
      out.write("\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction changeSendSMS(obj){\r\n\t\t\tif(window.parent.document.getElementById(\"sendSMS\")!=null){\r\n\t\t\t\tif(obj.checked){\r\n\t\t\t\t\twindow.parent.document.getElementById(\"sendSMS\").value=\"1\";\r\n\t\t\t\t}else{\r\n\t\t\t\t\twindow.parent.document.getElementById(\"sendSMS\").value=\"0\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction sendMsgToInitSet(){\r\n\t\t\tif(document.getElementById(\"sendMsgToInit\").checked){\r\n\t\t\t\tparent.document.getElementById(\"sendMsgToInitiator\").value=\"1\";\r\n\t\t\t}else{\r\n\t\t\t\tparent.document.getElementById(\"sendMsgToInitiator\").value=\"0\";\r\n\t\t\t}\r\n\t\t}\r\n\t\t//显示办理期限\r\n\t\tfunction showProcessDeadlineDate(){\r\n\t\t\tif(document.getElementById(\"needProcessDeadlineDate\").checked){\r\n\t\t\t\tdocument.getElementById(\"pdTD\").style.display = \"\";\r\n\t\t\t} else{\r\n\t\t\t\tdocument.getElementById(\"pdTD\").style.display = \"none\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//显示办理提示\r\n\t\tfunction showDealTips(){\r\n\t\t\tif(document.getElementById(\"dealTipsTR\").style.display == \"none\"){\r\n\t\t\t\tdocument.getElementById(\"dealTipsTR\").style.display = \"\";\r\n\t\t\t\tdocument.getElementById(\"smsContentTR\").style.display = \"none\";\r\n");
      out.write("\t\t\t} else{\r\n\t\t\t\tdocument.getElementById(\"dealTipsTR\").style.display = \"none\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//显示短信内容\r\n\t\tfunction showSmsContent(){\r\n\t\t\tif(document.getElementById(\"smsContentTR\").style.display == \"none\"){\r\n\t\t\t\tdocument.getElementById(\"smsContentTR\").style.display = \"\";\r\n\t\t\t\tdocument.getElementById(\"dealTipsTR\").style.display = \"none\";\r\n\t\t\t} else{\r\n\t\t\t\tdocument.getElementById(\"smsContentTR\").style.display = \"none\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//显示短信内容链接\r\n\t\tfunction showSmsContentHref(){\r\n\t\t\tif(frm1.r1.checked){\r\n\t\t\t\tdocument.getElementById(\"smsHrefLabel\").style.display = \"\";\r\n\t\t\t} else{\r\n\t\t\t\tdocument.getElementById(\"smsHrefLabel\").style.display = \"none\";\r\n\t\t\t\tdocument.getElementById(\"smsContentTR\").style.display = \"none\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction delOptions(){\r\n\t\t\tvar oSelect = frm1.selectObject;\r\n\t\t\tvar nLen = oSelect.length;\r\n\t\t\tvar sel;\r\n\t\t\tfor(i=0; i<nLen; i++){\r\n\t\t\t\tvar optObj = oSelect.options[i];\r\n\t\t\t\tif(optObj.selected){\r\n\t\t\t\t\tsel = i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//删除\r\n\t\t\tif(sel != null){\r\n\t\t\t\toSelect.remove(sel);\r\n\t\t\t} else{\r\n");
      out.write("\t\t\t\talert(\"");
      out.print(Resource.getValue(local,"filetransact","file.selectdeleteperson"));
      out.write("\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction dropNameDiv(id, selectId){\r\n\t\t\tvar allNameDiv = document.getElementById(\"showNames\");\r\n\t\t\tvar nameDiv = document.getElementById(id);\r\n\t\t\tallNameDiv.removeChild(nameDiv);\r\n\t\t\t\r\n\t\t\tvar oSelect=frm1.selectObject;\r\n\t\t\tvar nLen =oSelect.length;\r\n\t\t\tvar sel;\r\n\t\t\tfor(i=0; i<nLen; i++){\r\n\t\t\t\tvar optObj = oSelect.options[i];\r\n\t\t\t\tif(optObj.value==selectId){\r\n\t\t\t\t\tsel = i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//删除\r\n\t\t\tif(sel != null){\r\n\t\t\t\toSelect.remove(sel);\r\n\t\t\t} else{\r\n\t\t\t\talert(\"");
      out.print(Resource.getValue(local,"filetransact","file.selectdeleteperson"));
      out.write("\");\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfunction dropAllDiv(){\r\n\t\t\tvar allNameDiv = document.getElementById(\"showNames\");\r\n\t\t\tallNameDiv.innerHTML = \"\";\r\n\t\t\tdelAllOptions();\r\n\t\t}\r\n\r\n\r\n\t\tfunction delAllOptions(){\r\n\t\t\tvar oSelect = frm1.selectObject;\r\n\t\t\tvar nLen = oSelect.length;\r\n\t\t\tfor(j=0; j<nLen; j++){\r\n\t\t\t\t//删除\r\n\t\t\t\toSelect.remove(0);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t//添加所有选项\r\n\t\tfunction addAllOptions(){\r\n\t\t    if(document.frm1.participantType.value==\"2\"){\r\n\t\t    \torgifm.openMainFrameAll();\r\n\t\t    }else{\r\n\t\t        alert(\"候选人中存在组织或组时不能使用全选！\");\r\n\t\t    }\r\n\t\t}\r\n\r\n\t\t//添加所有选项-阅件\r\n\t\tfunction addAllOptions2(){\r\n\t\t    if(document.frm2.participantType.value==\"2\"){\r\n\t\t    \torgifm2.openMainFrameAll();\r\n\t\t    }else{\r\n\t\t        alert(\"候选人中存在组织或组时不能使用全选！\");\r\n\t\t    }\r\n\t\t}\r\n\r\n\t\t//发送继续\r\n\t\tfunction include_savecontinue(processType,isComp,isFirst){\r\n\t\t\t//判断父窗口存在否\r\n\t\t\tif(closed){\r\n\t\t\t\twindow.close();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tdocument.all.sendContinue.value=\"1\";\r\n\t\t\tinclude_save(processType,isComp,isFirst);\r\n\t\t}\r\n\r\n\r\n\t\t//新保存\r\n\t\tfunction include_save(processType,isComp,isFirst){\r\n");
      out.write("\t\t\t//判断父窗口存在否\r\n\t\t\t/* if(closed){\r\n\t\t\t\twindow.close();\r\n\t\t\t\treturn;\r\n\t\t\t} */\r\n\t\t\t// 阅件\r\n\t\t\tinclude_save2();\r\n\t\t\tvar participantType = frm1.participantType.value;\r\n\t\t\t//var oo = new Object();\r\n\t\t\tvar stepName = frm1.step.value;\r\n\t\t\tvar approveMode = frm1.approveMode.value;\r\n\t\t\tif(stepName.split(\",\")[0] == \"2\"){\r\n\t\t\t\t//document.all.activityId.value='2';\r\n\t\t\t\tif(isFirst != 'getFirstActivity'){\r\n\t\t\t\t\twindow.close();\r\n\t\t\t\t\tparent.include_comp();\r\n\t\t\t\t} else{\r\n\t\t\t\t\t//开始节点即结束\r\n\t\t\t\t\twindow.close();\r\n\t\t\t\t\tparent.include_comp();\r\n\t\t\t\t}\r\n\t\t\t} else{\r\n\t\t\t\t//办理提示验证\r\n\t\t\t\tif(frm1.dealTips.value.indexOf(\"'\") >= 0){\r\n\t\t\t\t\tparent.weixinMessageReminder(\"alert\", \"提示：\", \"");
      out.print(Resource.getValue(local,"filetransact","file.dealtipsnosinglequote"));
      out.write("\", \"\");\r\n\t\t\t\t\tfrm1.dealTips.focus();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(frm1.dealTips.value.indexOf(\"\\\"\") >= 0){\r\n\t\t\t\t\tparent.weixinMessageReminder(\"alert\", \"提示：\", \"");
      out.print(Resource.getValue(local,"filetransact","file.dealtipsnodbquote"));
      out.write("\", \"\");\r\n\t\t\t\t\tfrm1.dealTips.focus();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(frm1.dealTips.value.length > 400){\r\n\t\t\t\t\tparent.weixinMessageReminder(\"alert\", \"提示：\", \"");
      out.print(Resource.getValue(local,"filetransact","file.dealtipstoolong"));
      out.write("\", \"\");\r\n\t\t\t\t\tfrm1.dealTips.focus();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(processType != '0'){\r\n\t\t\t\t\tif(isFirst != 'getFirstActivity'){\r\n\t\t\t\t\t\t//中间节点\r\n\t\t\t\t\t\tparent.document.all.mainNextActivityId.value = stepName.split(\",\")[0];\r\n\t\t\t\t\t\tparent.document.all.mainNextActivityName.value = stepName.split(\",\")[1];\r\n\r\n\t\t\t\t\t\t//节点其他属性\r\n\t\t\t\t\t\tparent.document.all.mainAllowStandFor.value = stepName.split(\",\")[2];\r\n\t\t\t\t\t\tparent.document.all.mainAllowCancel.value = stepName.split(\",\")[3];\r\n\t\t\t\t\t\tparent.document.all.mainPressType.value = stepName.split(\",\")[4];\r\n\t\t\t\t\t\tparent.document.all.mainDeadLineTime.value = stepName.split(\",\")[5];\r\n\t\t\t\t\t\tparent.document.all.mainPressMotionTime.value = stepName.split(\",\")[6];\r\n\t\t\t\t\t\tparent.document.all.mainAllowTransition.value = stepName.split(\",\")[7];\r\n\t\t\t\t\t\t//发送页面获取属性\r\n\t\t\t\t\t\tparent.document.all.approveMode.value = approveMode;\r\n\t\t\t\t\t\tparent.document.all.emergence.value = document.frm1.emergence.value;\t// 缓急\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t//短信\r\n\t\t\t\t\t\tif(document.getElementById(\"smsDiv1\").style.display == \"\"){\r\n");
      out.write("\t\t\t\t\t\t\tif(document.frm1.needSendMsg && document.frm1.needSendMsg.checked){\r\n\t\t\t\t\t\t\t\tparent.document.all.needSendMsg.value = document.frm1.needSendMsg.checked;\t// 短信\r\n\t\t\t\t\t\t\t\tparent.document.all.smsContent.value = document.frm1.smsContent.value;\t\t// 短信\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//tips\r\n\t\t\t\t\t\tparent.document.all.dealTips.value = document.frm1.dealTips.value;\t// tips内容\r\n\t\t\t\t\t\tparent.document.all.operId.value = '';\r\n\t\t\t\t\t\tparent.document.all.operName.value = '';\r\n\t\t\t\t\t\tif(participantType==\"1\" || participantType==\"8\" || participantType==\"2\" \r\n\t\t\t\t\t\t\t\t|| participantType==\"4\" || participantType==\"9\" || participantType==\"10\" \r\n\t\t\t\t\t\t\t\t|| participantType==\"6\" || participantType==\"13\" || participantType==\"0\" \r\n\t\t\t\t\t\t\t\t|| participantType==\"7\" || participantType==\"11\" || participantType==\"14\" \r\n\t\t\t\t\t\t\t\t|| participantType==\"15\"){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t/*var oSelect = frm1.selectObject;\r\n\t\t\t\t\t\t\tvar nLen = oSelect.length;\r\n\t\t\t\t\t\t\tfor(i=0; i<nLen; i++){\r\n\t\t\t\t\t\t\t\tparent.document.all.operId.value += oSelect.options[i].value ;\r\n\t\t\t\t\t\t\t\tparent.document.all.operName.value += oSelect.options[i].text + \",\";\r\n");
      out.write("\t\t\t\t\t\t\t}*/\r\n\t\t\t\t\t\t\tvar userItems = $(window.frames[\"orgifm\"].document).find(\"input[name='users']:checked\");\r\n\t\t\t\t\t\t\tvar selIds = \"\", selNames = \"\", tempId = \"\";\r\n\t\t\t\t\t\t\tfor(var i=0; i<userItems.length; i++){\r\n\t\t\t\t\t\t\t\ttempId = \"$\" + userItems[i].id.split(\"_\")[1] + \"$\";\r\n\t\t\t\t\t\t\t\tif(selIds.indexOf(tempId) < 0){\r\n\t\t\t\t\t\t\t\t\tselIds += tempId;\r\n\t\t\t\t\t\t\t\t\tselNames += userItems[i].value + \",\";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tparent.document.all.operId.value = selIds;\r\n\t\t\t\t\t\t\tparent.document.all.operName.value = selNames;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(participantType == \"10\"){\r\n\t\t\t\t\t\t\t\tparent.document.all.mainUserType.value = \"10\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else{\r\n\t\t\t\t\t\t\tparent.document.all.operId.value = frm1.selectedTxtId.value;\r\n\t\t\t\t\t\t\tparent.document.all.operName.value = frm1.selectedTxt.value;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(parent.document.all.mainNextActivityId.value == '2'){\r\n\t\t\t\t\t\t\t//结束流程\r\n\t\t\t\t\t\t\t//window.close();\r\n\t\t\t\t\t\t\tparent.include_comp();\r\n\t\t\t\t\t\t} else{\r\n\t\t\t\t\t\t\tif(parent.document.all.operId.value == ''){\r\n\t\t\t\t\t\t\t\tvar step = document.getElementById(\"step\").value;\r\n");
      out.write("\t\t\t\t\t\t\t\tif(step == \"\"){\r\n\t\t\t\t\t\t\t\t\tparent.weixinMessageReminder(\"alert\", \"提示：\", \"请选择下一节点！\", \"\");\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tparent.weixinMessageReminder(\"alert\", \"提示：\", \"");
      out.print(Resource.getValue(local,"filetransact","file.plselectran"));
      out.write("\", \"\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t} else{\r\n\t\t\t\t\t\t\t\tvar poperName = parent.document.all.operName.value;\r\n\t\t\t\t\t\t\t\tif(poperName.indexOf(\",\",poperName.length-1) != -1){\r\n\t\t\t\t\t\t\t\t\tpoperName = poperName.substring(0, poperName.length-1);\r\n\t\t\t\t\t\t\t\t\tparent.document.all.operName.value = poperName;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(approveMode=='2' && poperName.indexOf(\",\")!=-1){\r\n\t\t\t\t\t\t\t\t\tparent.weixinMessageReminder(\"alert\", \"提示：\", \"");
      out.print(Resource.getValue(local,"filetransact","file.approvenotmoreonsingle"));
      out.write("\", \"\");\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\twindow.parent.include_sub();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t \t} else{\r\n\t\t\t\t   \t\t//开始节点\r\n\t\t\t\t\t\tparent.document.all.activityId.value = stepName.split(\",\")[0];\r\n\t\t\t\t\t\tparent.document.all.activityName.value = stepName.split(\",\")[1];\r\n\t\t\t\t\t\t//节点其他属性\r\n\t\t\t\t\t\tparent.document.all.allowStandFor.value = stepName.split(\",\")[2];\r\n\t\t\t\t\t\tparent.document.all.allowCancel.value = stepName.split(\",\")[3];\r\n\t\t\t\t\t\tparent.document.all.pressType.value = stepName.split(\",\")[4];\r\n\t\t\t\t\t\tparent.document.all.deadLineTime.value = stepName.split(\",\")[5];\r\n\t\t\t\t\t\tparent.document.all.pressMotionTime.value = stepName.split(\",\")[6];\r\n\t\t\t\t\t\t//发送页面获取属性\r\n\t\t\t\t\t\tparent.document.all.approveMode.value = approveMode;\r\n\t\t\t\t\t\tparent.document.all.emergence.value = document.frm1.emergence.value;\t// 缓急\r\n\t\t\t\t\t\t//短信\r\n\t\t\t\t\t\tif(document.getElementById(\"smsDiv1\").style.display == \"\"){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(document.frm1.needSendMsg && document.frm1.needSendMsg.checked){\r\n\t\t\t\t\t\t\t\tdocument.all.needSendMsg.value = document.frm1.needSendMsg.checked;\t// 短信\r\n");
      out.write("\t\t\t\t\t\t\t\tdocument.all.smsContent.value = document.frm1.smsContent.value;\t\t// 短信\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//tips\r\n\t\t\t\t\t\tparent.document.all.dealTips.value = document.frm1.dealTips.value;\t// tips内容\r\n\t\t\t\t\t\t//流程办理期限\r\n\t\t\t\t\t\tif(frm1.needProcessDeadlineDate.checked){\r\n\t\t\t\t\t\t\tparent.document.all.processDeadlineDate.value = frm1.processDeadlineDate.value;\r\n\t\t\t\t\t\t} else{\r\n\t\t\t\t\t\t\tparent.document.all.processDeadlineDate.value = \"0\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tparent.document.all.operId.value = '';\r\n\t\t\t\t\t\tparent.document.all.operName.value = '';\r\n\t\t\t\t\t\tif(participantType==\"1\" || participantType==\"8\" || participantType==\"2\" \r\n\t\t\t\t\t\t\t\t|| participantType==\"4\" || participantType==\"9\" || participantType==\"10\" \r\n\t\t\t\t\t\t\t\t|| participantType==\"6\" || participantType==\"13\" || participantType==\"0\" \r\n\t\t\t\t\t\t\t\t|| participantType==\"7\" || participantType==\"11\" || participantType==\"14\" \r\n\t\t\t\t\t\t\t\t|| participantType==\"15\"){\r\n\t\t\t\t\t\t\tvar userItems = $(window.frames[\"orgifm\"].document).find(\"input[name='users']:checked\");\r\n\t\t\t\t\t\t\tvar selIds = \"\", selNames = \"\", tempId = \"\";\r\n");
      out.write("\t\t\t\t\t\t\tfor(var i=0; i<userItems.length; i++){\r\n\t\t\t\t\t\t\t\ttempId = \"$\" + userItems[i].id.split(\"_\")[1] + \"$\";\r\n\t\t\t\t\t\t\t\tif(selIds.indexOf(tempId) < 0){\r\n\t\t\t\t\t\t\t\t\tselIds += tempId;\r\n\t\t\t\t\t\t\t\t\tselNames += userItems[i].value + \",\";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tparent.document.all.operId.value = selIds;\r\n\t\t\t\t\t\t\tparent.document.all.operName.value = selNames;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t/*var oSelect = frm1.selectObject;\r\n\t\t\t\t\t\t\tvar nLen = oSelect.length;\r\n\t\t\t\t\t\t\tfor(i=0;i<nLen;i++){\r\n\t\t\t\t\t\t\t\tparent.document.all.operId.value += oSelect.options[i].value ;\r\n\t\t\t\t\t\t\t\tparent.document.all.operName.value += oSelect.options[i].text + \",\";\r\n\t\t\t\t\t\t\t}*/\r\n\t\t\t\t\t\t\tif(participantType == \"10\"){\r\n\t\t\t\t\t\t\t\tparent.document.all.userType.value = \"10\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else{\r\n\t\t\t\t\t\t\tparent.document.all.operId.value = frm1.selectedTxtId.value;\r\n\t\t\t\t\t\t\tparent.document.all.operName.value = frm1.selectedTxt.value;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(parent.document.all.activityId.value == '2'){\r\n\t\t\t\t\t\t\t//结束流程\r\n\t\t\t\t\t\t\t//window.close();\r\n\t\t\t\t\t\t\tparent.include_comp();\r\n\t\t\t\t\t\t} else{\r\n");
      out.write("\t\t\t\t\t\t\tif(parent.document.all.operId.value == ''){\r\n\t\t\t\t\t\t\t\tparent.weixinMessageReminder(\"alert\", \"提示：\", \"");
      out.print(Resource.getValue(local,"filetransact","file.plselectran"));
      out.write("\", \"\");\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t} else{\r\n\t\t\t\t\t\t\t\tif(parent.document.all.operName.value.indexOf(\",\",parent.document.all.operName.value.length-1)!=-1){\r\n\t\t\t\t\t\t\t\t\tparent.document.all.operName.value = parent.document.all.operName.value.substring(0, parent.document.all.operName.value.length-1);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(approveMode=='2' && parent.document.all.operName.value.indexOf(\",\")!=-1){\r\n\t\t\t\t\t\t\t\t\tparent.weixinMessageReminder(\"alert\", \"提示：\", \"");
      out.print(Resource.getValue(local,"filetransact","file.approvenotmoreonsingle"));
      out.write("\", \"\");\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tparent.include_save();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t \t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t//改变节点走向\r\n\t\tfunction changeActivity(type, processType){\r\n\t\t\tif(processType=='0' || \"\"==processType){\r\n\t\t\t\t\r\n\t\t\t} else{\r\n\t\t\t\t//业务流程\r\n\t\t\t\tif(type == 'getFirstActivity'){\r\n\t\t\t\t\tvar stepName = document.frm1.step.value;\r\n\t\t\t\t\tif(stepName.split(\",\")[0] == \"2\"){\r\n\t\t\t\t\t\t//结束节点\r\n\t\t\t\t\t\tdocument.all.middleTR1.style.display = 'none';\r\n\t\t\t\t\t\tdocument.all.approveModeTD.style.display = 'none';\r\n\t\t\t\t\t\tdocument.all.emergenceTD.style.display = 'none';\t\t\t\t\r\n\t\t\t\t\t} else{\r\n\t\t\t\t\t\tdocument.all.middleTR1.style.display = '';\r\n\t\t\t\t\t\tdocument.all.approveModeTD.style.display = '';\r\n\t\t\t\t\t\tdocument.all.emergenceTD.style.display = '';\t\t\t\t\r\n\t\t\t\t\t\t//document.all.formHTML.innerHTML = document.all.formHTML.innerHTML;\r\n\t\t\t\t\t\t//var form = eval(\"document.all.\"+opener.document.all.formName.value);\r\n\t\t\t\t\t\t//form.action = \"/jsoa/jsflow/wf_stepanduser_orgfirst.jsp?firstActivityId=");
      out.print(firstActivityId);
      out.write("\";\r\n\t\t\t\t\t\t//form.target = \"orgifm\";\r\n\t\t\t\t\t\t//form.submit();\r\n\t\t\t\t\t\tdocument.getElementById(\"orgifm\").src = \"/jsoa/weixin/workflow/wf_stepanduser_orgfirstForWeiXin.jsp?firstActivityId=");
      out.print(firstActivityId);
      out.write("\";\r\n\t\t\t\t\t\tdocument.all.frm1.step[0].selected = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//document.all.orgifm.src=\"/jsoa/jsflow/wf_stepanduser_orgfirst.jsp?processId=");
      out.print(processId);
      out.write("\";\r\n\t\t\t\t} else{\r\n\t\t\t\t\tvar stepName = document.frm1.step.value;\r\n\t\t\t\t\tif(\"\" == stepName){\r\n\t\t\t\t\t\tdocument.all.middleTR1.style.display = 'none';\r\n\t\t\t\t\t\tdocument.all.approveModeTD.style.display = 'none';\r\n\t\t\t\t\t\tdocument.all.emergenceTD.style.display = 'none';\r\n\t\t\t\t\t} else if(stepName.split(\",\")[0] == \"2\"){\r\n\t\t\t\t\t\t//结束节点\r\n\t\t\t\t\t\tdocument.all.middleTR1.style.display = 'none';\r\n\t\t\t\t\t\tdocument.all.approveModeTD.style.display = 'none';\r\n\t\t\t\t\t\tdocument.all.emergenceTD.style.display = 'none';\r\n\t\t\t\t\t} else{\r\n\t\t\t\t\t\tdocument.all.middleTR1.style.display = '';\r\n\t\t\t\t\t\tdocument.all.approveModeTD.style.display = '';\r\n\t\t\t\t\t\tdocument.all.emergenceTD.style.display = '';\r\n\t\t\t\t\t\t//var form = eval(\"document.all.\"+opener.document.all.formName.value);\r\n\t\t\t\t\t\t//form.action = \"/jsoa/jsflow/wf_stepanduser_org.jsp?curActivityId=");
      out.print(curActivityId);
      out.write("&processId=");
      out.print(processId);
      out.write("&tableId=");
      out.print(tableId);
      out.write("&recordId=");
      out.print(recordId);
      out.write("&submitPersonId=");
      out.print(submitPersonId);
      out.write("&standForUserId=");
      out.print(standForUserId);
      out.write("&tranFromPersonId=");
      out.print(tranFromPersonId);
      out.write("&activityId=\"+stepName.split(\",\")[0];\r\n\t\t\t\t\t\t//form.target = \"orgifm\";\r\n\t\t\t\t\t\t//form.submit();\r\n\t\t\t\t\t\tdocument.getElementById(\"orgifm\").src = \"/jsoa/weixin/workflow/wf_stepanduser_orgForWeiXin.jsp?curActivityId=");
      out.print(curActivityId);
      out.write("&processId=");
      out.print(processId);
      out.write("&tableId=");
      out.print(tableId);
      out.write("&recordId=");
      out.print(recordId);
      out.write("&submitPersonId=");
      out.print(submitPersonId);
      out.write("&standForUserId=");
      out.print(standForUserId);
      out.write("&tranFromPersonId=");
      out.print(tranFromPersonId);
      out.write("&activityId=\"+stepName.split(\",\")[0];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//disableControl(stepName);\r\n\t\t\t\t}\r\n\t\t\t\t//办理期限\r\n\t\t\t\tvar stepValue = document.frm1.step.value;\r\n\t\t\t\tif(stepValue != \"\"){\r\n\t\t\t\t\tvar values = stepValue.split(\",\");\r\n\t\t\t\t\tif(\"1\" == values[4]){\r\n\t\t\t\t\t\tvar deadlineObj = document.getElementById(\"ifWorkDeadLine\");\r\n\t\t\t\t\t\tif(deadlineObj != null){\r\n\t\t\t\t\t\t\tdeadlineObj.checked = true;\r\n\t\t\t\t\t\t\tisWorkDeadLine(deadlineObj);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar deadlineNum = parseInt(values[5]);\r\n\t\t\t\t\t\tif(deadlineNum > 0){\r\n\t\t\t\t\t\t\tif(deadlineNum%(24*60*60) == 0){\r\n\t\t\t\t\t\t\t\tdocument.getElementById(\"workDeadLineNum\").value = deadlineNum/(24*60*60);\r\n\t\t\t\t\t\t\t\tdocument.getElementById(\"workDeadLineType\").value = \"d\";\r\n\t\t\t\t\t\t\t} else{\r\n\t\t\t\t\t\t\t\tdocument.getElementById(\"workDeadLineNum\").value = deadlineNum/(60*60);\r\n\t\t\t\t\t\t\t\tdocument.getElementById(\"workDeadLineType\").value = \"h\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tgetWorkDeadLine();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else{\r\n\t\t\t\t\tvar deadlineObj = document.getElementById(\"ifWorkDeadLine\");\r\n\t\t\t\t\tif(deadlineObj != null){\r\n");
      out.write("\t\t\t\t\t\tdeadlineObj.checked = false;\r\n\t\t\t\t\t\tisWorkDeadLine(deadlineObj);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//如果节点为结束节点\r\n\t\tfunction disableControl(stepName){\r\n\t\t\tif(stepName.split(\",\")[0]=='2'){\r\n\t\t\t\tfrm1.approveMode.disabled = true;\r\n\t\t\t\tfrm1.orgifm.src = \"\";\r\n\t\t\t\tfrm1.selectObject.disabled = true;\r\n\t\t\t\tfrm1.emergence.disabled = true;\r\n\t\t\t\tfrm1.send.value = \"");
      if (_jspx_meth_bean_005fmessage_005f2(_jspx_page_context))
        return;
      out.write("\";\r\n\t\t\t\tfrm1.send.className = \"btnButton4font\";\r\n\t\t\t\tdocument.getElementById(\"selTextarea1\").style.display='none';\r\n\t\t\t\tdocument.getElementById(\"middleTR1\").style.display='';\r\n\t\t\t\t//document.all.middleTR.style.display = \"none\"; \r\n\t\t\t\t//window.dialogHeight = \"150px\";\r\n\t\t\t} else{\r\n\t\t\t\tfrm1.approveMode.disabled = false;\r\n\t\t\t\tfrm1.selectObject.disabled = false;\r\n\t\t\t\tfrm1.emergence.disabled = false;\r\n\t\t\t\tfrm1.send.value = \"");
      if (_jspx_meth_bean_005fmessage_005f3(_jspx_page_context))
        return;
      out.write("\";\r\n\t\t\t\tfrm1.send.className = \"btnButton2font\";\r\n\t\t\t\t//document.all.middleTR.style.display = \"\"; \r\n\t\t\t\t//window.dialogHeight = \"400px\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction openSelUserWIN(){\r\n\t\t\tvar type = frm1.participantType.value;\r\n\t\t\tvar range = frm1.selRange.value;\r\n\t\t\tif(type == \"12\"){\r\n\t\t\t\ttype = \"org\";\r\n\t\t\t} else if(type == \"8\"){\r\n\t\t\t\tif(range != null && range!=\"\" && range.indexOf(\"@\") < 0 && range.indexOf(\"*\") < 0){\r\n\t\t\t\t\ttype = \"user\";\r\n\t\t\t\t} else if(range != null && range!=\"\" && range.indexOf(\"@\") < 0){\r\n\t\t\t\t\ttype = \"userorg\";\r\n\t\t\t\t} else if(range != null && range!=\"\" && range.indexOf(\"*\") < 0){\r\n\t\t\t\t\ttype = \"usergroup\";\r\n\t\t\t\t} else{\r\n\t\t\t\t\ttype = \"usergrouporg\";\r\n\t\t\t\t}\r\n\t\t\t} else if(type==\"13\"){\r\n\t\t\t\ttype = \"usergroup\";\r\n\t\t\t} else{\r\n\t\t\t\ttype=\"usergroup\";\r\n\t\t\t}\r\n\t\t\t//openEndow('selectedTxtId','selectedTxt',document.all.selectedTxtId.value,document.all.selectedTxt.value,type,'no',type,document.all.selRange.value)\r\n\t\t\topenFromParentEndow('selectedTxtId','selectedTxt',frm1.selectedTxtId.value,frm1.selectedTxt.value,type,'");
      out.print(!"0".equals(processType)?"no":"yes");
      out.write("',type,frm1.selRange.value,'1','1')\r\n\t\t}\r\n\t\t</SCRIPT>\r\n\r\n\r\n\t\t<!-- 阅件 -->\r\n\t\t<SCRIPT LANGUAGE=\"JavaScript\">\r\n\t\t//显示短信内容\r\n\t\tfunction showSmsContent2(){\r\n\t\t\tif(frm2.smsContentTR.style.display==\"none\"){\r\n\t\t\t\tfrm2.smsContentTR.style.display = \"\";\r\n\t\t\t} else{\r\n\t\t\t\tfrm2.smsContentTR.style.display = \"none\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//显示短信内容链接\r\n\t\tfunction showSmsContentHref2(){\r\n\t\t\tif(frm2.r1.checked){\r\n\t\t\t\tfrm2.smsHrefLabel.style.display = \"\";\r\n\t\t\t} else{\r\n\t\t\t\tfrm2.smsHrefLabel.style.display = \"none\";\r\n\t\t\t\tfrm2.smsContentTR.style.display = \"none\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//选择发送类型\r\n\t\tfunction clickSendType(obj){\r\n\t\t\tif(obj.value=='1' && obj.checked){\r\n\t\t\t\t//补发\r\n\t\t\t\tdelAllOptions();\r\n\t\t\t\tfrm2.selectedTxtId.value=\"\";\r\n\t\t\t\tfrm2.selectedTxt.value=\"\";\r\n\t\t\t} else if(obj.value=='0' && obj.checked){\r\n\t\t\t\t//重发\r\n\t\t\t\twindow.location.reload();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tfunction delOptions2(){\r\n\t\t\tvar oSelect=frm2.selectObject;\r\n\t\t\tvar nLen =oSelect.length;\r\n\t\t\tvar sel;\r\n\t\t\tfor(i=0; i<nLen; i++){\r\n\t\t\t\tvar optObj = oSelect.options(i);\r\n\t\t\t\tif(optObj.selected){\r\n");
      out.write("\t\t\t\t\tsel = i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//删除\r\n\t\t\tif(sel != null){\r\n\t\t\t\toSelect.remove(sel);\r\n\t\t\t} else{\r\n\t\t\t\talert(\"");
      out.print(Resource.getValue(local,"filetransact","file.selectdeleteperson"));
      out.write("\");\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction dropNameDiv2(id,selectId){\r\n\t\t\tvar allNameDiv = document.getElementById(\"showNames2\");\r\n\t\t\tvar nameDiv = document.getElementById(id);\r\n\t\t\tallNameDiv.removeChild(nameDiv);\r\n\t\t\t\r\n\t\t\tvar oSelect=frm2.selectObject;\r\n\t\t\tvar nLen =oSelect.length;\r\n\t\t\tvar sel;\r\n\t\t\tfor(i=0; i<nLen; i++){\r\n\t\t\t\tvar optObj = oSelect.options[i];\r\n\t\t\t\tif(optObj.value == selectId){\r\n\t\t\t\t\tsel = i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//删除\r\n\t\t\tif(sel != null){\r\n\t\t\t\toSelect.remove(sel);\r\n\t\t\t} else{\r\n\t\t\t\talert(\"");
      out.print(Resource.getValue(local,"filetransact","file.selectdeleteperson"));
      out.write("\");\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction delAllOptions2(){\r\n\t\t\tvar oSelect = frm2.selectObject;\r\n\t\t\tvar nLen = oSelect.length;\r\n\t\t\tfor(j=0; j<nLen; j++){\r\n\t\t\t\t//删除\r\n\t\t\t\toSelect.remove(0);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction dropAllDiv2(){\r\n\t\t\tvar allNameDiv = document.getElementById(\"showNames2\");\r\n\t\t\tallNameDiv.innerHTML = \"\";\r\n\t\t\tdelAllOptions2();\r\n\t\t}\r\n\r\n\t\t//保存\r\n\t\t//$:userId\r\n\t\t//*:orgId\r\n\t\t//@:groupId\r\n\t\tfunction include_save2(){\r\n\t\t\tvar participantType = frm2.participantType.value;\r\n\t\t\tparent.document.all.passRoundId.value = '';\r\n\t\t\tparent.document.all.passRoundName.value = '';\r\n\t\t\tif(participantType==\"1\" || participantType==\"8\" || participantType==\"2\" \r\n\t\t\t\t\t|| participantType==\"9\" || participantType==\"10\" || participantType==\"6\" \r\n\t\t\t\t\t|| participantType==\"13\" || participantType==\"0\" || participantType==\"7\" \r\n\t\t\t\t\t|| participantType==\"11\" || participantType==\"15\"){\r\n\t\t\t\t\r\n\t\t\t\tvar userItems = $(window.frames[\"orgifm2\"].document).find(\"input[name='users']:checked\");\r\n\t\t\t\tvar selIds = \"\", selNames = \"\", tempId = \"\";\r\n\t\t\t\tfor(var i=0; i<userItems.length; i++){\r\n");
      out.write("\t\t\t\t\ttempId = \"$\" + userItems[i].id.split(\"_\")[1] + \"$\";\r\n\t\t\t\t\tif(selIds.indexOf(tempId) < 0){\r\n\t\t\t\t\t\tselIds += tempId;\r\n\t\t\t\t\t\tselNames += userItems[i].value + \",\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tparent.document.all.passRoundId.value = selIds;\r\n\t\t\t\tparent.document.all.passRoundName.value = selNames;\r\n\t\t\t\t\r\n\t\t\t\tif(participantType == \"10\"){\r\n\t\t\t\t\tparent.document.all.mainPassRoundUserType.value = \"10\";\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tparent.document.all.passRoundId.value=frm2.selectedTxtId2.value;\r\n\t\t\t\tparent.document.all.passRoundName.value=frm2.selectedTxt2.value;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif(parent.document.all.passRoundName.value.indexOf(\",\",parent.document.all.passRoundName.value.length-1)!=-1){\r\n\t\t\t\tparent.document.all.passRoundName.value = parent.document.all.passRoundName.value.substring(0,parent.document.all.passRoundName.value.length-1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//改变节点走向\r\n\t\tfunction changeActivity2(type, processType){\r\n\t\t\tif(processType == \"0\"){\r\n\t\t\t\t//随机流程\r\n\t\t\t\t//document.all.Panle1.style.display = \"none\";\r\n\r\n\t\t\t} else{\r\n\t\t\t\t//业务流程\r\n\t\t\t\tif(type == \"getFirstActivity\"){\r\n");
      out.write("\t\t\t\t\tdocument.getElementById(\"orgifm2\").src = \"/jsoa/weixin/workflow/wf_stepanduser_orgselfsendfirstforweixin.jsp?firstActivityId=");
      out.print(firstActivityId);
      out.write("\";\r\n\t\t\t\t} else{\r\n\t\t\t\t\tvar stepName = document.frm1.step.value;\t\t\t\r\n\t\t\t\t\tdocument.getElementById(\"orgifm2\").src = \"/jsoa/weixin/workflow/wf_stepanduser_orgselfsendforweixin.jsp?yj=1&curActivityId=\"+stepName.split(\",\")[0]+\"&processId=");
      out.print(processId);
      out.write("&tableId=");
      out.print(tableId);
      out.write("&recordId=");
      out.print(recordId);
      out.write("&submitPersonId=");
      out.print(submitPersonId);
      out.write("\";\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}\r\n\r\n\t\tfunction openSelUserWIN2(){\r\n\t\t\tvar type = frm2.participantType.value;\r\n\t\t\tvar range = frm2.selRange.value;\r\n\t\t\tif(type == \"12\"){\r\n\t\t\t\ttype = \"org\";\r\n\t\t\t}else if(type == \"8\"){\r\n\t\t\t\tif(range != null && range!=\"\" && range.indexOf(\"@\") < 0 && range.indexOf(\"*\") < 0){\r\n\t\t\t\t\ttype = \"user\";\r\n\t\t\t\t}else if(range != null && range!=\"\" && range.indexOf(\"@\") < 0){\r\n\t\t\t\t\ttype = \"userorg\";\r\n\t\t\t\t}else if(range != null && range!=\"\" && range.indexOf(\"*\") < 0){\r\n\t\t\t\t\ttype = \"usergroup\";\r\n\t\t\t\t} else{\r\n\t\t\t\t\ttype = \"usergrouporg\";\r\n\t\t\t\t}\r\n\t\t\t} else if(type==\"13\"){\r\n\t\t\t\ttype = \"usergroup\";\r\n\t\t\t} else{\r\n\t\t\t\ttype=\"usergroup\";\r\n\t\t\t}\r\n\t\t\topenEndow('selectedTxtId2','selectedTxt2',frm2.selectedTxtId2.value,frm2.selectedTxt2.value,type,'no',type,frm2.selRange.value)\r\n\t\t}\r\n\t\t\r\n\t\tfunction showFormBody(){\r\n\t\t\tparent.document.getElementById(\"formBody\").style.display = \"block\";\r\n\t\t\tparent.document.getElementById('commonPopDiv').style.display = 'none';\r\n\t\t}\r\n\t\tfunction submitForm(){\r\n\t\t\tvar nameStr=document.getElementById(\"keys\").value;\r\n");
      out.write("\t\t\tloadUsersByNameStr(\"org_list\", \"\", \"*0*\", \"userorggroup\", \"\", \"1\",nameStr);\r\n\t\t}\r\n\t\tfunction loadUsersByNameStr(loadDivId, type, range, showType, parentId, participantType,nameStr){\r\n\t\t\tvar html = \"\";\r\n\t\t\t$(window.frames[\"orgifm\"].document).find(\"div[id='\"+loadDivId+\"']\").html(\"\");\r\n\t\t\tif(\"\" == html){\t// 列表为空时，加载列表\r\n\t\t\t\tvar data = \"type=\" + type + \"&showType=\" + showType + \"&range=\" + range + \"&parentId=\" + parentId + \"&participantType=\" + participantType+\"&nameStr=\"+nameStr;\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\ttype : \"post\",\r\n\t\t\t\t\turl : \"/jsoa/weiXinCommonAction.do?action=jsUserByNameStr\",\r\n\t\t\t\t\tdata: data,\r\n\t\t\t\t\tasync : false,\r\n\t\t\t\t\tdataType : \"text\",\r\n\t\t\t\t\tsuccess : function(returnHTML){ \r\n\t\t\t\t\t\t$(window.frames[\"orgifm\"].document).find(\"div[id='\"+loadDivId+\"']\").html(returnHTML);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\terror : function(XMLHttpRequest, textStatus, errorThrown){ },\r\n\t\t\t\t\tcomplete : function(XHR, TS){ XHR = null;}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// 显示选择列表\r\n\t\t\t$(\"#\" + loadDivId).toggle();\r\n\t\t\tvar s = $(\"#span_\" + loadDivId).html();\r\n\t\t}\r\n\t\t//微信加签\r\n");
      out.write("\t\tfunction wechatjiaqian(oper){\r\n\t\t\t$(oper).attr(\"disabled\",\"disabled\");\r\n\t\t    $(oper).css(\"color\",\"#bbbbbb\");\r\n\t\t\tvar chks=\"\";\r\n\t\t\t$(window.frames[\"orgifm\"].document).find(\"input[type='checkbox'][name='users']:checked\").each(function(){chks+=this.id+\"$!$\"});\r\n\t\t\tif(chks.length>0){\r\n\t\t\t\tchks=chks.substring(0, chks.length-3);\r\n\t\t\t}\r\n\t\t\tdocument.getElementById(\"orgifm\").src = \"/jsoa/weixin/workflow/wf_stepanduser_orgfirstForWeiXinWithJiaQian.jsp?firstActivityId=");
      out.print(firstActivityId);
      out.write("&seluser=\"+escape(chks);\r\n\t\t}\r\n\t\t</script>\r\n\t</body>\r\n</html>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }

  private boolean _jspx_meth_bean_005fmessage_005f0(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  bean:message
    org.apache.struts.taglib.bean.MessageTag _jspx_th_bean_005fmessage_005f0 = (org.apache.struts.taglib.bean.MessageTag) _005fjspx_005ftagPool_005fbean_005fmessage_0026_005fkey_005fbundle_005fnobody.get(org.apache.struts.taglib.bean.MessageTag.class);
    boolean _jspx_th_bean_005fmessage_005f0_reused = false;
    try {
      _jspx_th_bean_005fmessage_005f0.setPageContext(_jspx_page_context);
      _jspx_th_bean_005fmessage_005f0.setParent(null);
      // /weixin/workflow/wf_stepanduserForWeiXin.jsp(514,11) name = bundle type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_bean_005fmessage_005f0.setBundle("filetransact");
      // /weixin/workflow/wf_stepanduserForWeiXin.jsp(514,11) name = key type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_bean_005fmessage_005f0.setKey("file.endflow");
      int _jspx_eval_bean_005fmessage_005f0 = _jspx_th_bean_005fmessage_005f0.doStartTag();
      if (_jspx_th_bean_005fmessage_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fbean_005fmessage_0026_005fkey_005fbundle_005fnobody.reuse(_jspx_th_bean_005fmessage_005f0);
      _jspx_th_bean_005fmessage_005f0_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_bean_005fmessage_005f0, _jsp_getInstanceManager(), _jspx_th_bean_005fmessage_005f0_reused);
    }
    return false;
  }

  private boolean _jspx_meth_bean_005fmessage_005f1(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  bean:message
    org.apache.struts.taglib.bean.MessageTag _jspx_th_bean_005fmessage_005f1 = (org.apache.struts.taglib.bean.MessageTag) _005fjspx_005ftagPool_005fbean_005fmessage_0026_005fkey_005fbundle_005fnobody.get(org.apache.struts.taglib.bean.MessageTag.class);
    boolean _jspx_th_bean_005fmessage_005f1_reused = false;
    try {
      _jspx_th_bean_005fmessage_005f1.setPageContext(_jspx_page_context);
      _jspx_th_bean_005fmessage_005f1.setParent(null);
      // /weixin/workflow/wf_stepanduserForWeiXin.jsp(520,10) name = bundle type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_bean_005fmessage_005f1.setBundle("common");
      // /weixin/workflow/wf_stepanduserForWeiXin.jsp(520,10) name = key type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_bean_005fmessage_005f1.setKey("comm.cancel");
      int _jspx_eval_bean_005fmessage_005f1 = _jspx_th_bean_005fmessage_005f1.doStartTag();
      if (_jspx_th_bean_005fmessage_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fbean_005fmessage_0026_005fkey_005fbundle_005fnobody.reuse(_jspx_th_bean_005fmessage_005f1);
      _jspx_th_bean_005fmessage_005f1_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_bean_005fmessage_005f1, _jsp_getInstanceManager(), _jspx_th_bean_005fmessage_005f1_reused);
    }
    return false;
  }

  private boolean _jspx_meth_bean_005fmessage_005f2(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  bean:message
    org.apache.struts.taglib.bean.MessageTag _jspx_th_bean_005fmessage_005f2 = (org.apache.struts.taglib.bean.MessageTag) _005fjspx_005ftagPool_005fbean_005fmessage_0026_005fkey_005fbundle_005fnobody.get(org.apache.struts.taglib.bean.MessageTag.class);
    boolean _jspx_th_bean_005fmessage_005f2_reused = false;
    try {
      _jspx_th_bean_005fmessage_005f2.setPageContext(_jspx_page_context);
      _jspx_th_bean_005fmessage_005f2.setParent(null);
      // /weixin/workflow/wf_stepanduserForWeiXin.jsp(1065,23) name = bundle type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_bean_005fmessage_005f2.setBundle("filetransact");
      // /weixin/workflow/wf_stepanduserForWeiXin.jsp(1065,23) name = key type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_bean_005fmessage_005f2.setKey("file.endflow");
      int _jspx_eval_bean_005fmessage_005f2 = _jspx_th_bean_005fmessage_005f2.doStartTag();
      if (_jspx_th_bean_005fmessage_005f2.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fbean_005fmessage_0026_005fkey_005fbundle_005fnobody.reuse(_jspx_th_bean_005fmessage_005f2);
      _jspx_th_bean_005fmessage_005f2_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_bean_005fmessage_005f2, _jsp_getInstanceManager(), _jspx_th_bean_005fmessage_005f2_reused);
    }
    return false;
  }

  private boolean _jspx_meth_bean_005fmessage_005f3(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  bean:message
    org.apache.struts.taglib.bean.MessageTag _jspx_th_bean_005fmessage_005f3 = (org.apache.struts.taglib.bean.MessageTag) _005fjspx_005ftagPool_005fbean_005fmessage_0026_005fkey_005fbundle_005fnobody.get(org.apache.struts.taglib.bean.MessageTag.class);
    boolean _jspx_th_bean_005fmessage_005f3_reused = false;
    try {
      _jspx_th_bean_005fmessage_005f3.setPageContext(_jspx_page_context);
      _jspx_th_bean_005fmessage_005f3.setParent(null);
      // /weixin/workflow/wf_stepanduserForWeiXin.jsp(1075,23) name = bundle type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_bean_005fmessage_005f3.setBundle("filetransact");
      // /weixin/workflow/wf_stepanduserForWeiXin.jsp(1075,23) name = key type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_bean_005fmessage_005f3.setKey("file.send");
      int _jspx_eval_bean_005fmessage_005f3 = _jspx_th_bean_005fmessage_005f3.doStartTag();
      if (_jspx_th_bean_005fmessage_005f3.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fbean_005fmessage_0026_005fkey_005fbundle_005fnobody.reuse(_jspx_th_bean_005fmessage_005f3);
      _jspx_th_bean_005fmessage_005f3_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_bean_005fmessage_005f3, _jsp_getInstanceManager(), _jspx_th_bean_005fmessage_005f3_reused);
    }
    return false;
  }
}
