/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: JspC/ApacheTomcat8
 * Generated at: 2023-01-06 09:50:55 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.setup;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.util.*;

public final class seclog_005fcount_005forgList_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("java.util");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = null;
  }

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    final java.lang.String _jspx_method = request.getMethod();
    if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method) && !javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET, POST or HEAD. Jasper also permits OPTIONS");
      return;
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html;charset=GBK");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write('\r');
      out.write('\n');

response.setHeader("Cache-Control","no-store");
response.setHeader("Pragma","no-cache");
response.setDateHeader ("Expires", 0);

String headTitle = request.getAttribute("headTitle")+"";
String[] dateStr = (request.getAttribute("dateStr")+"").split(",");
String[] title = headTitle.split(",");
List dataList = (List)request.getAttribute("dataList");

String flag = request.getAttribute("flag")==null?"m":request.getAttribute("flag")+"";
String orgId = request.getAttribute("orgId")==null?"":request.getAttribute("orgId")+"";
String orgName = request.getAttribute("orgName")==null?"":request.getAttribute("orgName")+"";

String beginDate,endDate;
beginDate = request.getAttribute("begin")==null?"":request.getAttribute("begin")+"";
endDate = request.getAttribute("end")==null?"":request.getAttribute("end")+"";

      out.write("\r\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\r\n<html>\r\n  <head>\r\n<title>部门人员上线统计</title>\r\n<link href=\"skin/");
      out.print(session.getAttribute("skin"));
      out.write("/style-");
      out.print(session.getAttribute("browserVersion"));
      out.write(".css\" rel=\"stylesheet\" type=\"text/css\" />\r\n<link rel=stylesheet type=\"text/css\" href=\"/jsoa/public/date_picker/DateObject1.css\">\r\n<SCRIPT language=javascript src=\"/jsoa/public/date_picker/DateObject.js\"></SCRIPT>\r\n<SCRIPT language=javascript src=\"/jsoa/public/date_picker/DatePicker.js\"></SCRIPT>\r\n<SCRIPT language=javascript src=\"/jsoa/public/date_picker/editlib.js\"></SCRIPT>\r\n<SCRIPT language=javascript src=\"/jsoa/public/date_picker/tree.js\"></SCRIPT>\r\n\r\n</head>\r\n<body leftmargin=\"0\" topmargin=\"0\" class=\"MainFrameBox\">\r\n<table width=\"100%\" border=0 cellpadding=\"0\" cellspacing=\"0\">\r\n<tr><td>\r\n<table width=\"100%\" border=\"0\" align=\"center\" cellpadding=\"1\" cellspacing=\"1\" class=\"searchbar\" id=\"searchbar\" style=\"display:none;\">\r\n   <form name=\"frm\" id=\"frm\" action=\"/jsoa/LogCountAction.do?action=orgList\" method=\"post\">\r\n\t  <tr>\r\n\t      <td width=\"20\" rowspan=3>&nbsp;</td>\r\n\t\t  <td width=\"50\">组织：</td>\r\n\t\t  <td >\r\n\t\t\t<input type=\"text\" class=\"inputtext\" name=\"orgName\" id=\"orgName\" value=\"");
      out.print(orgName );
      out.write("\" onclick=\"selectOrg();\" title=\"请点击选择\" readonly=\"readonly\"/>\r\n\t\t\t<input type=\"hidden\"  name=\"orgId\" id=\"orgId\" value=\"");
      out.print(orgId );
      out.write("\"/>\r\n\t\t\t</td>\r\n\t\t  <td >查询日期：</td>\r\n\t\t  <td colspan=\"3\">\r\n\t\t  <script language=javascript>var dtpDate = createDatePickerByDateStr(\"beginDate\",\"");
      out.print((request.getAttribute("begin")+"").replace("-", "/") );
      out.write("\");</script> 至\r\n\t\t  <script language=javascript>var dtpDate = createDatePickerByDateStr(\"endDate\",\"");
      out.print((request.getAttribute("end")+"").replace("-", "/") );
      out.write("\");</script>\r\n\t\t\t<input type=\"checkbox\" id=\"searchTime\" name=\"searchTime\" value=\"1\" ");
      out.print(request.getAttribute("searchTime")!=null && "1".equals(request.getAttribute("searchTime")+"")?"checked":"" );
      out.write(" >\r\n\t\t\t<input type=\"hidden\" id=\"flag\" name=\"flag\" value=\"m\" />\r\n\t\t   </td>\r\n\t\t  \r\n\t\t  <td colspan=\"2\" align=\"right\">\r\n\t\t  <input type=\"button\" class=\"btnButton2Font\" onClick=\"searchSubmit();\" value=\"查询\"/>\r\n\t\t  <input type=\"button\" class=\"btnButton2Font\" onClick=\"searchReset();\" value=\"重置\"/>\r\n\t\t  </td>\r\n\t </tr>\r\n   </form>\r\n</table>\r\n</td></tr>\r\n<tr><td>\r\n<table width=\"100%\" height=\"25\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"inlineBottomLine\">\r\n  <tr>\r\n     <td width=\"10px\">&nbsp;</td>\r\n  \t <td><img src=\"/jsoa/skin/blue/images/prev.gif\" border=0 align=\"absmiddle\" onclick=\"changeMonth('");
      out.print(request.getAttribute("lastMonth") );
      out.write("');\" title=\"上月\" />\r\n  \t\t");
      out.print(request.getAttribute("thisMonth") );
      out.write("\r\n  \t <img src=\"/jsoa/skin/blue/images/next.gif\"  border=0 align=\"absmiddle\" onclick=\"changeMonth('");
      out.print(request.getAttribute("nextMonth") );
      out.write("');\" title=\"下月\" /></td>\r\n     <td align=\"right\" nowrap>\r\n     <!-- <input type=\"button\" class=\"btnButton2Font\" onclick=\"\" value=\"导出\" /> -->\r\n     <input type=\"button\" class=\"btnButton4Font\" onclick=\"exportExcel()\" value=\"导出Excel\" />\r\n     <input type=\"button\" class=\"btnButton2Font\" onclick=\"search();\" value=\"查询\" />&nbsp;</td>\r\n  </tr>\r\n</table>\r\n</td></tr>\r\n<tr><td>\r\n<table width=\"100%\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"listTable\">\r\n\t<tr>");
for(int i=0;i<title.length;i++){
      out.write("\r\n\t\t\t<td width=\"");
if(i==0){out.print("200px");}else if(i==title.length-2){out.print("90px");}else{out.print("70px");} 
      out.write("\" \r\n\t\t\t\t\tclass=\"");
      out.print((i==title.length-1?"listTableHeadLast":"listTableHead") );
      out.write("\">\r\n\t\t\t");
      out.print(title[i] );
      out.write("\r\n\t\t\t</td>\r\n\t\t");
} 
      out.write("</tr>\r\n\t");
for(int i=0;i<dataList.size();i++){ 
      out.write("\r\n\t<tr>");
Object[] obj = (Object[])dataList.get(i);
		int c = (i%2)+1;
		for(int s = 0;s<title.length;s++){
			if(s==0){
				int level = Integer.valueOf(obj[title.length+1]+""); 
      out.write("\r\n\t\t<td class=\"listTableLine");
      out.print(c );
      out.write("\">\r\n\t\t");
for(int l=0;l<level;l++){out.print("&nbsp;&nbsp;&nbsp;&nbsp;");}if(level!=0){out.print("|-");} 
      out.print(obj[s] );
      out.write("</a>&nbsp;</td>\r\n\t\t\t");
}else{ 
      out.write("\r\n\t\t<td class=\"listTableLine");
      out.print(c );
      out.write("\" >\r\n\t\t");
if(s<title.length-2){ 
      out.write("<a href=\"javascript:showOrgLoginEmp(");
      out.print(obj[title.length] );
      out.write(',');
      out.write('\'');
      out.print(dateStr[s] );
      out.write("');\" \r\n\t\t\t\t\ttitle=\"");
      out.print("点击查看"+title[s]+"详细信息" );
      out.write('"');
      out.write('>');
} 
      out.print(obj[s] );
      out.write("</a>\r\n\t\t&nbsp;</td>\r\n\t\t");
}}
      out.write("\r\n\t</tr>");
} 
      out.write("\r\n</table>\r\n</td></tr><tr><td>");
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "/public/page/pageUtil.jsp", out, false);
      out.write("</td></tr>\r\n</table>\r\n</body>\r\n<script type=\"text/javascript\">\r\nfunction searchSubmit(){\r\n\tdocument.getElementById(\"frm\").submit();\r\n}\r\nfunction searchReset(){\r\n\twindow.location.href='/jsoa/LogCountAction.do?action=orgList'\r\n}\r\nfunction selectOrg(){\r\n\topenEndow('orgId','orgName',document.getElementById(\"orgId\").value,document.getElementById(\"orgName\").value,'org','no','org','*0*');\r\n}\r\nfunction search(){\r\n\tvar searchbar = document.getElementById(\"searchbar\");\r\n\tif(searchbar.style.display==\"\"){\r\n\t\tsearchbar.style.display=\"none\";\r\n\t}else{\r\n\t\tsearchbar.style.display=\"\";\r\n\t}\r\n}\r\nfunction changeMonth(month){\r\n\tlocation.href=\"/jsoa/LogCountAction.do?action=orgList&flag=m&begin=\"+month+\"-01\";\r\n}\r\nfunction showOrgLoginEmp(orgId,begin){\r\n\tJSMainWinOpen(\"/jsoa/LogCountAction.do?action=orgShow&orgId=\"+orgId+\"&flag=d&begin=\"+begin,\"\",\"\");\r\n}\r\nfunction exportExcel(){\r\n\tlocation.href=\"/jsoa/LogCountAction.do?action=exportLogin&&flag=");
      out.print(request.getAttribute("flag") );
      out.write("&begin=");
      out.print(request.getAttribute("begin") );
      out.write("&end=");
      out.print(request.getAttribute("end") );
      out.write("&orgId=");
      out.print(request.getAttribute("orgId") );
      out.write("\";\r\n}\r\n</script>\r\n</html>\r\n<script src=\"/jsoa/js/openEndow.js\"></script>\r\n<script src=\"/jsoa/js/util.js\"></script>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
