/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: JspC/ApacheTomcat8
 * Generated at: 2023-01-06 10:07:55 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.jsflow;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import com.js.oa.jsflow.util.ProcessStep;
import com.js.util.config.SystemCommon;
import com.js.util.util.BrowserJudge;
import com.js.lang.Resource;

public final class wf_005fstepanduser_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(1);
    _jspx_dependants.put("/WEB-INF/tag-lib/struts-bean.tld", Long.valueOf(1499751390000L));
  }

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = new java.util.HashSet<>();
    _jspx_imports_classes.add("com.js.oa.jsflow.util.ProcessStep");
    _jspx_imports_classes.add("com.js.lang.Resource");
    _jspx_imports_classes.add("com.js.util.config.SystemCommon");
    _jspx_imports_classes.add("com.js.util.util.BrowserJudge");
  }

  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fbean_005fmessage_0026_005fkey_005fbundle_005fnobody;

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
    _005fjspx_005ftagPool_005fbean_005fmessage_0026_005fkey_005fbundle_005fnobody = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
  }

  public void _jspDestroy() {
    _005fjspx_005ftagPool_005fbean_005fmessage_0026_005fkey_005fbundle_005fnobody.release();
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    final java.lang.String _jspx_method = request.getMethod();
    if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method) && !javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET, POST or HEAD. Jasper also permits OPTIONS");
      return;
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=GBK");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n\r\n\r\n\r\n\r\n\r\n");

String local = session.getAttribute("org.apache.struts.action.LOCALE").toString();
//System.out.println("---------------------");
request.setCharacterEncoding("GBK");

response.setHeader("Cache-Control","no-store");
response.setHeader("Pragma","no-cache");
response.setDateHeader ("Expires", 0);

//流程类型(业务流程1，随机流程0)
String processType = request.getParameter("processType");

//参数信息
String type = request.getParameter("type");//是否开始节点
String submitPersonId = request.getParameter("submitPersonId");
String moduleId = request.getParameter("moduleId");
String processId = request.getParameter("processId");
String tableId = request.getParameter("tableId");
String recordId = request.getParameter("recordId");
String curActivityId = request.getParameter("activityId");//当前节点
if(!"0".equals(request.getParameter("workPrarllelCurActId"))){
	curActivityId=request.getParameter("workPrarllelCurActId");
}
String activityId = "0";//用户选择的节点后继
String msgFrom = request.getParameter("msgFrom");

String activityIds = request.getParameter("activityIds")!=null&&request.getParameter("activityIds").length()>0
				?request.getParameter("activityIds").substring(1):"";
//System.out.println("-------------------"+activityIds);

String standForUserId = request.getParameter("standForUserId");//代办人ID
String standForUserName = request.getParameter("standForUserName");//代办人
String tranFromPersonId = request.getParameter("tranFromPersonId");//转办人


com.js.oa.jsflow.service.WorkFlowBD workFlowBD = new com.js.oa.jsflow.service.WorkFlowBD();
com.js.oa.jsflow.service.WorkFlowButtonBD workFlowButtonBD = new com.js.oa.jsflow.service.WorkFlowButtonBD();

//默认选择用户
java.util.List selectUser = new java.util.ArrayList();

//表单字段参数
String participantUserField = "";//表单中的某个字段名

//显示短信
boolean showSmsRemind = false;
//java.util.Map include_sysMap = com.js.system.util.SysSetupReader.getInstance().getSysSetupMap(session.getAttribute("domainId").toString());

/***** 暂时不使用短信提醒
if(include_sysMap != null && include_sysMap.get("短信开通") != null && "1".equals(include_sysMap.get("短信开通").toString())){
	if(new com.js.oa.message.action.ModelSendMsg().judgePurviewMessage(msgFrom,session.getAttribute("domainId")==null?"0":session.getAttribute("domainId").toString())){
		if(new com.js.system.manager.service.ManagerService().hasRight(session.getAttribute("userId").toString(), "09*01*01")){
			showSmsRemind = true;
		}
	}
}*/

ProcessStep processStep = new ProcessStep();
//后继节点
com.js.oa.jsflow.vo.ActivityVO activityVO = null;
long firstActivityId=-1;
java.util.List activityList = new java.util.ArrayList();
if(!"0".equals(processType)){
 if("getFirstActivity".equals(type)){
	/*开始节点*/	   
	//activityVO = new com.js.oa.jsflow.util.WorkflowCommon().getFirstActivity(request);
	if(!"".equals(activityIds)){
		activityVO = workFlowBD.getFirstProcActiVO(activityIds);
		//activityVO = processStep.getProceedNextActi(moduleId, processId, activityIds, tableId, recordId, fatherId);
	}
	firstActivityId=activityVO.getId();

	if(!"0".equals(request.getParameter("processType")) && (activityVO==null || activityVO.getId() == 0)){
	
      out.write("\r\n\t<SCRIPT LANGUAGE=\"JavaScript\">\r\n\t<!--\r\n\talert(\"");
      out.print(Resource.getValue(local,"workflow","workflow.includenosetupstartactivity"));
      out.write("\");\r\n\twindow.close();\r\n\t//-->\r\n\t</SCRIPT>\r\n\t");
}

	/*显示默认的候选人*/

	if(activityVO != null && activityVO.getId() != 0){

		//短信1
		if(showSmsRemind){
			showSmsRemind = activityVO.getAllowSmsRemind().equals("1")?true:false;
		}
	
		//参与人类型
		int participantType = activityVO.getParticipantType();
		
		//由表单字段指定
		if(participantType == 4){
			String tmp = activityVO.getParticipantUserField();
			participantUserField = workFlowButtonBD.getFieldInfoByFieldId(tmp);//zjky$f2045
			participantUserField = tmp + "-" + participantUserField;
		}
    }
  }else{
	    /*中间节点*/
	    
	    //下一节点的选择类型（用户决定还是流程决定）
        String stepType = workFlowBD.getActivityType(curActivityId,tableId,recordId);
	    
	    //2010-05-13 取得下一个节点的类型，判断是否虚拟节点
	    String activityClass=workFlowBD.getNextActivityClass(curActivityId,tableId,recordId,"");
	    if(!activityClass.equals("0")){
	    	//虚拟节点 activityClass不为0时即下一个节点的activityId
	    	//activityVO = new com.js.oa.jsflow.util.ProcessStep().getProceedNextActi(activityClass, tableId, recordId, request);
	    	if(!"".equals(activityIds)){
				activityVO = processStep.getProceedNextActi(moduleId, processId, activityIds, tableId, recordId, activityClass);
			}
			if(activityVO==null){
			
      out.write("\r\n\t\t\t<SCRIPT LANGUAGE=\"JavaScript\">\r\n\t\t\t<!--\r\n\t\t\talert(\"");
      out.print(Resource.getValue(local,"filetransact","file.nosuitnextactivity"));
      out.write("\");\r\n\t\t\twindow.close();\r\n\t\t\t//-->\r\n\t\t\t</SCRIPT>\r\n\t\t\t");

			} else{
				activityVO.setBeginEnd(activityVO.getActivityBeginEnd());
				activityList.add(activityVO);
			}
	    }else if(stepType.equals("0")){	    	
	    	//流程决定走向	    	
			//activityVO = new com.js.oa.jsflow.util.ProcessStep().getProceedNextActi(curActivityId, tableId, recordId, request);
			if(!"".equals(activityIds)){
				activityVO = processStep.getProceedNextActi(moduleId, processId, activityIds, tableId, recordId, activityClass);
			}
	    	if(activityVO==null){
			
      out.write("\r\n\t\t\t<SCRIPT LANGUAGE=\"JavaScript\">\r\n\t\t\t<!--\r\n\t\t\talert(\"");
      out.print(Resource.getValue(local,"filetransact","file.nosuitnextactivity"));
      out.write("\");\r\n\t\t\twindow.close();\r\n\t\t\t//-->\r\n\t\t\t</SCRIPT>\r\n\t\t\t");

			} else{
				activityVO.setBeginEnd(activityVO.getActivityBeginEnd());
				activityList.add(activityVO);
			}
	    }else{
	    	//用户决定走向
	    	if(!"".equals(activityIds)){
				activityVO = processStep.getProceedNextActi(moduleId, processId, activityIds, tableId, recordId, activityClass);
				activityList.add(activityVO);
			}else{
				activityList = workFlowBD.getAllNextActivity(tableId, recordId, curActivityId);
				if(activityList.size()==0){
				
      out.write("\r\n\t\t\t\t<SCRIPT LANGUAGE=\"JavaScript\">\r\n\t\t\t\t<!--\r\n\t\t\t\talert(\"");
      out.print(Resource.getValue(local,"filetransact","file.nosetupnextactivity"));
      out.write("\");\r\n\t\t\t\twindow.close();\r\n\t\t\t\t//-->\r\n\t\t\t\t</SCRIPT>\r\n\t\t\t\t");

				}
			}
	    }    
		
  }
}


//默认选择用户
com.js.oa.jsflow.service.WorkFlowButtonBD wfbbd = new com.js.oa.jsflow.service.WorkFlowButtonBD();

String selectUserId="";
String selectUserName="";
//java.util.List selectUser = new java.util.ArrayList();
/*com.js.oa.jsflow.vo.WorkVO vo = new com.js.oa.jsflow.vo.WorkVO();
	vo.setProcessId(Long.valueOf(processId));
	vo.setTableId(Long.valueOf(tableId));
	vo.setRecordId(Long.valueOf(recordId));
	vo.setActivity(Long.valueOf(curActivityId));

selectUser = wfbbd.getAllPassRoundUsers(vo);*/

      out.write("\r\n\r\n<html>\r\n<head>\r\n\r\n<title>");
      out.print(Resource.getValue(local,"filetransact","file.send"));
      out.write("</title>\r\n<link href=\"/jsoa/skin/");
      out.print(session.getAttribute("skin"));
      out.write("/style-");
      out.print(session.getAttribute("browserVersion"));
      out.write(".css\" rel=\"stylesheet\" type=\"text/css\" />\r\n<script src=\"/jsoa/js/js.js\" language=\"javascript\"></script>\r\n<SCRIPT language=\"javascript\" src=\"/jsoa/js/openEndow.js\"></SCRIPT>\r\n<link rel=stylesheet type=\"text/css\" href=\"/jsoa/public/date_picker/DateObject2.css\">\r\n<SCRIPT language=javascript src=\"/jsoa/public/date_picker/DateObject.js\"></SCRIPT>\r\n<SCRIPT language=javascript src=\"/jsoa/public/date_picker/DatePicker.js\"></SCRIPT>\r\n<SCRIPT language=javascript src=\"/jsoa/public/date_picker/editlib.js\"></SCRIPT>\r\n<SCRIPT language=javascript src=\"/jsoa/public/date_picker/tree.js\"></SCRIPT>\r\n<SCRIPT LANGUAGE=\"JavaScript\">\r\n<!--\r\nfunction changePanle(flag){\r\n    for(i=0;i<2;i++){\r\n\t  eval(\"docinfo\"+i+\".style.display='none'\");\r\n\t  eval(\"Panle\"+i+\".style.color='black'\");\r\n\t}\r\n\teval(\"docinfo\"+flag+\".style.display=''\");\r\n\teval(\"Panle\"+flag+\".style.color='red'\");\r\n}\r\nfunction isWorkDeadLine(obj){\r\n\tvar workDeadLineSpan = document.getElementById(\"workDeadLineSpan\");\r\n\tif(obj.checked){\r\n\t\tworkDeadLineSpan.style.display=\"\";\r\n\t\tif(document.getElementById(\"workDeadLineNum\").value==\"0\"){\r\n");
      out.write("\t\t\tdocument.getElementById(\"workDeadLineNum\").value=\"1\";\r\n\t\t\tdocument.getElementById(\"workDeadLineType\").value = \"d\";\r\n\t\t}\r\n\t\tgetWorkDeadLine();\r\n\t}else{\r\n\t\tworkDeadLineSpan.style.display=\"none\";\r\n\t\topener.document.getElementById(\"changeDeadLineTime\").value = \"-1\";\r\n\t}\r\n}\r\nfunction getWorkDeadLine(){\r\n\tvar workDeadLineNum = parseFloat(document.getElementById(\"workDeadLineNum\").value);\r\n\tif (isNaN(workDeadLineNum)){\r\n\t\talert(\"请输入数字！\");\r\n\t}else{\r\n\t\tvar workDeadLineType = document.getElementById(\"workDeadLineType\").value;\r\n\t\tvar workDeadLine = document.getElementById(\"workDeadLine\");\r\n\t\tif(\"h\"==workDeadLineType){\r\n\t\t\tworkDeadLine.value=workDeadLineNum*60*60;\r\n\t\t}else{\r\n\t\t\tworkDeadLine.value=workDeadLineNum*60*60*24;\r\n\t\t}\r\n\t\tif(parseFloat(workDeadLine.value)>0){\r\n\t\t\topener.document.getElementById(\"changeDeadLineTime\").value = workDeadLine.value;\r\n\t\t}\r\n\t}\r\n}\r\n//-->\r\n</SCRIPT>\r\n<base target=\"_self\">\r\n</head>\r\n<body scroll=\"no\" onLoad=\"resizeWin(580,540);init();changeActivity('");
      out.print(type);
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(processType);
      out.write("');changeActivity2('");
      out.print(type);
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(processType);
      out.write("');\">\r\n");
if(!"0".equals(processType)){ 
      out.write("\r\n<table width=\"100%\"  id=\"pup_main\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"height:8%;\">\r\n  <tr valign=\"bottom\">\r\n    <td nowrap><span id=\"Panle0\" onClick=\"changePanle(0);\" style=\"color:red;cursor:pointer;padding-left:15px;\">办件</span>\r\n\t\r\n\t<span id=\"Panle1\" onClick=\"changePanle(1);\" style=\"color:black;cursor:pointer;display:\"> | 阅件</span>\r\n\t</td>\r\n  </tr>\r\n</table>\r\n");
} 
      out.write("\r\n\r\n<div id=\"docinfo0\" style=\"display:;\">\r\n\r\n<form name=\"frm0\" id=\"frm0\" style=\"margin:0px;\">\r\n<INPUT TYPE=\"hidden\" name=\"processId\" value=\"");
      out.print(processId);
      out.write("\">\r\n<INPUT TYPE=\"hidden\" name=\"moduleId\" value=\"");
      out.print(moduleId);
      out.write("\">\r\n<div id=\"tempDiv\" name=\"tempDiv\" style=\"display:none\"></div>\r\n</form>\r\n\r\n<form name=\"frm1\" id=\"frm1\" style=\"margin:0px;\">\r\n<table valign=\"top\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" id=\"pup_main\" ");
if(!"0".equals(processType)){ 
      out.write("style=\"height:92%;\"");
}else{ 
      out.write("style=\"height:100%;\"");
} 
      out.write(">\r\n  <tr height=\"10%\">\r\n    <td align=\"center\" valign=\"top\">\r\n\t<div id=\"pup_content\" valign=\"top\">\r\n\r\n\t<table width=\"100%\" height=\"100%\" valign=\"top\" border=\"0\" cellpadding=\"3\" cellspacing=\"0\" style=\"margin:0px;border:0px;\">\r\n\t  <tr id=\"stepTR\">\r\n\t    <td colspan=\"2\" height=\"38\" nowrap>\r\n\t     下一节点：\r\n\t     <select name=\"step\" id=\"step\" onchange=\"changeActivity('");
      out.print(type);
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(processType);
      out.write("');changeActivity2('");
      out.print(type);
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(processType);
      out.write("');\">\r\n\t     ");

		 if(!"0".equals(processType)){
			String activityName="";
			String activityNameTitle="";
			if("getFirstActivity".equals(type) && activityVO != null && activityVO.getId() != 0){
				if(activityVO.getBeginEnd() == 2){
					//可选择的节点中包含结束节点
					activityVO.setId(Long.parseLong("2"));
					activityVO.setName("结束节点");
				}
				activityName=activityVO.getName()==null?"":activityVO.getName();
				activityNameTitle=activityName;
				if(activityName.length()>10){
					activityName=activityName.substring(0,8)+"..";
				}
			
      out.write("\r\n\t\t\t<option value=\"");
      out.print(activityVO.getId());
      out.write(',');
      out.print(activityVO.getName()==null?"":activityVO.getName());
      out.write(',');
      out.print(activityVO.getAllowStandFor());
      out.write(',');
      out.print(activityVO.getAllowcancel());
      out.write(',');
      out.print(activityVO.getPressType());
      out.write(',');
      out.print(activityVO.getDeadlineTime());
      out.write(',');
      out.print(activityVO.getPressMotionTime());
      out.write(',');
      out.print(activityVO.getAllowTransition());
      out.write("\"  title=\"");
      out.print(activityNameTitle );
      out.write("\" selected>");
      out.print(activityName);
      out.write("</option>\r\n\t\t\t");
} else {
				boolean defaultSelected = SystemCommon.isDefaultSelected();
				for(int j = 0; j < activityList.size(); j ++){
					activityVO = (com.js.oa.jsflow.vo.ActivityVO) activityList.get(j);
					if(activityVO.getBeginEnd() == 2){
						//可选择的节点中包含结束节点
						activityVO.setId(Long.parseLong("2"));
						activityVO.setName("结束节点");
					}
					activityName=activityVO.getName()==null?"":activityVO.getName();
					activityNameTitle=activityName;
					if(activityName.length()>10){
						activityName=activityName.substring(0,8)+"..";
					}
					if(defaultSelected){
						if(activityList.size()>1&&j==0){
      out.write("\r\n\t\t\t\t\t\t<option value=\"\">--请选择流程节点--</option>\r\n\t\t\t\t\t\t");
} 
      out.write("\r\n\t\t\t\t\t\t<option value=\"");
      out.print(activityVO.getId());
      out.write(',');
      out.print(activityVO.getName()==null?"":activityVO.getName());
      out.write(',');
      out.print(activityVO.getAllowStandFor());
      out.write(',');
      out.print(activityVO.getAllowcancel());
      out.write(',');
      out.print(activityVO.getPressType());
      out.write(',');
      out.print(activityVO.getDeadlineTime());
      out.write(',');
      out.print(activityVO.getPressMotionTime());
      out.write(',');
      out.print(activityVO.getAllowTransition());
      out.write("\"   title=\"");
      out.print(activityNameTitle );
      out.write('"');
      out.write('>');
      out.print(activityName);
      out.write("</option>\r\n\t\t\t\t\t");
}else{ 
      out.write("\r\n\t\t\t\t\t\t<option value=\"");
      out.print(activityVO.getId());
      out.write(',');
      out.print(activityVO.getName()==null?"":activityVO.getName());
      out.write(',');
      out.print(activityVO.getAllowStandFor());
      out.write(',');
      out.print(activityVO.getAllowcancel());
      out.write(',');
      out.print(activityVO.getPressType());
      out.write(',');
      out.print(activityVO.getDeadlineTime());
      out.write(',');
      out.print(activityVO.getPressMotionTime());
      out.write(',');
      out.print(activityVO.getAllowTransition());
      out.write('"');
      out.write(' ');
      out.write(' ');
      out.print((activityVO.getId()+"").equals(activityVO.getDefaultActivity())?"selected":"");
      out.write(" title=\"");
      out.print(activityNameTitle );
      out.write('"');
      out.write('>');
      out.print(activityName);
      out.write("</option>\r\n\t\t\t\t\t");
} 
      out.write("\r\n\t\t\t\t");
}
			}
		 }
		 
      out.write("\r\n\t     </select>\t     \r\n\t   </td>\r\n\t   <td id=\"approveModeTD\" width=\"45%\" nowrap>\r\n\t ");
if("shandongguotou".equals(com.js.util.config.SystemCommon.getCustomerName())){
      out.write("\r\n\t <table width=\"100%\" style=\"margin:0px;border:0px;\">\r\n\t  <tr>\r\n\t   <td width=\"80%\" nowrap>\r\n\t \t  审批方式：\r\n\t      <select name=\"approveMode\" id=\"approveMode\">\r\n\t        <option value=\"2\">单人</option>\r\n\t        <option value=\"0\">单选</option>\r\n\t        <option value=\"1\">并行</option>\r\n\t        <option value=\"3\">串行</option>\r\n\t      </select>\r\n\t   </td>\r\n\t   <td align=\"right\">\r\n\t   <input type=\"hidden\" name=\"tempjiaqianid\" id=\"tempjiaqianid\"> <input type=\"hidden\" name=\"tempjiaqianname\" id=\"tempjiaqianname\">\r\n\t   <input type=\"button\" name=\"jiaqian\" value=\"加签\" class=\"btnButton4font\" onClick=\"selectUserToGuotou(this);\" />\r\n\t   </td>\r\n\t  </tr>\r\n\t </table>\r\n\t ");
}else{ 
      out.write("  \r\n\t   审批方式：\r\n\t      <select name=\"approveMode\" id=\"approveMode\">\r\n\t        <option value=\"2\">单人</option>\r\n\t        <option value=\"0\">单选</option>\r\n\t        <option value=\"1\">并行</option>\r\n\t        <option value=\"3\">串行</option>\r\n\t      </select>\r\n\t   ");
} 
      out.write("   \r\n\t   </td>\r\n\t  </tr>  \r\n\t  <tr style=\"display:none;\">\r\n\t  ");
      out.write("\r\n\t  <td colspan=\"3\" height=\"22\">\r\n\t     <table border=\"1\" width=\"100%\" height=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin:0px;border:0px;\">\r\n\t\t  <tr>\r\n\t\t     <td width=\"120\" nowrap>\r\n\t\t\t\t");
      out.print(Resource.getValue(local,"filetransact","file.doschedule"));
      out.write("：<input type=\"checkbox\" name=\"needProcessDeadlineDate\" id=\"needProcessDeadlineDate\" onclick=\"showProcessDeadlineDate();\"/>\r\n\t\t\t\t\r\n\t\t\t </td>\r\n\t\t\t <td align=\"left\" style=\"width:1px;\">\r\n\t\t\t </td>\r\n\t\t\t ");

				  java.util.Date serverDate = new java.util.Date() ;
				  String serverY = serverDate.getYear() + 1900 +"";
				  String serverM = serverDate.getMonth() + 1 +"";
				  String serverD = serverDate.getDate() +"";
			 
      out.write("\r\n\t\t\t <td align=\"left\" style=\"display:none\" name=\"pdTD\" id=\"pdTD\">\r\n\t\t\t\t<script language=javascript>\r\n\t\t\t\t\tvar LimitTimeYear = '");
      out.print(serverY);
      out.write("';\r\n\t\t\t\t\tvar LimitTimeMonth = '");
      out.print(serverM);
      out.write("';\r\n\t\t\t\t\tvar LimitTimeDate = '");
      out.print(serverD);
      out.write("';\r\n\t\t\t\t\tif(window.opener.document.all.LimitTimeYear && window.opener.document.all.LimitTimeMonth && window.opener.document.all.LimitTimeDate){\r\n\t\t\t\t\t\tLimitTimeYear = window.opener.document.all.LimitTimeYear.value;\r\n\t\t\t\t\t\tLimitTimeMonth = window.opener.document.all.LimitTimeMonth.value;\r\n\t\t\t\t\t\tLimitTimeDate = window.opener.document.all.LimitTimeDate.value;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar dtpDate = createDatePicker(\"processDeadlineDate\",LimitTimeYear,LimitTimeMonth,LimitTimeDate);\r\n\t\t\t\t </script>\t \r\n\t\t\t </td>\r\n\t\t\t <td>&nbsp;</td>\r\n\t\t   </tr>\r\n\t\t </table>\t\t\r\n\t\t </td>\r\n\t  </tr>\t  \r\n\t  \r\n\r\n\t  <tr id=\"middleTR1\" height=\"220\">\r\n\t\t<td valign=\"top\" width=\"45%\"><iframe id=\"orgifm\" name=\"orgifm\" frameborder=\"1\" scrolling=\"auto\" width=\"100%\" height=\"96%\"></iframe></td>\r\n\t\t<td align=\"center\" width=\"10%\"><!--<input type=\"button\" name=\"Submit2\" value=\"添  加\" class=\"btnButton4font\" style=\"margin-top:10px;margin-bottom:10px;\" />-->\r\n\t\t");
if(BrowserJudge.isNotPc(request)){ 
      out.write("\r\n\t\t<input type=\"button\" name=\"Submit5\" value=\"<<\" class=\"btnButton4font\" style=\"margin-top:10px;margin-bottom:10px;\" onClick=\"dropAllDiv();\"/>\r\n\t\t");
}else{ 
      out.write("\r\n\t\t<input type=\"button\" name=\"Submit2\" value=\">>\" class=\"btnButton4font\" style=\"margin-top:10px;margin-bottom:10px;\" onClick=\"addAllOptions();\"/>\r\n\t\t<input type=\"button\" name=\"Submit4\" value=\"<&nbsp;\" class=\"btnButton4font\" style=\"margin-top:10px;margin-bottom:10px;\" onClick=\"delOptions();\"/>\r\n\t\t<br>\r\n\t\t<input type=\"button\" name=\"Submit5\" value=\"<<\" class=\"btnButton4font\" style=\"margin-top:10px;margin-bottom:10px;\" onClick=\"delAllOptions();\"/>\r\n\t\t");
} 
      out.write("\r\n\t\t</td>\r\n\r\n\t\t");
if(BrowserJudge.isNotPc(request)){ 
      out.write("\r\n\t\t<td valign=\"top\" width=\"45%\" style=\"background:#FFF; border:1px solid #ADADAD;\">\r\n\t\t  <select name=\"selectObject\" id=\"selectObject1\" ondblclick=\"delOptions();\" multiple=\"multiple\" style=\"width:100%;height:100%;display:none;\">\r\n\t\t  </select>\t\r\n\t\t  <div name=\"showNames\" id=\"showNames\" align=\"left\"  style=\"font-size:12px;width:100%;height:100%;overflow-x:auto;overflow-y:auto; white-space:nowrap;\">\r\n\t\t  \r\n\t\t  </div>\r\n\t   </td>");
}else{ 
      out.write("\r\n\t   \t<td valign=\"top\" width=\"45%\" >\r\n\t\t\t  <select name=\"selectObject\" id=\"selectObject1\" ondblclick=\"delOptions();\" multiple=\"multiple\" style=\"width:100%;height:100%;\">\r\n\t\t\t  </select>\t\r\n\t\t</td>\r\n\t   ");
} 
      out.write("\r\n\t  </tr>\r\n\r\n\t  <tr id=\"selTextarea1\" valign=\"top\" style=\"display:none\">\r\n\t    <td colspan=\"3\" valign=\"top\" height=\"30\">\r\n\t     <table border=\"0\" width=\"100%\" height=\"100%\"  cellpadding=\"0\" cellspacing=\"0\" style=\"margin:0px;border:0px;\">\r\n\t\t  <tr>\r\n\t\t\t <td style=\"width:100%;\">\r\n\t\t\t\t<textarea name=\"selectedTxt\" id=\"selectedTxt\" rows=\"8\" cols=\"100\" class=\"inputTextarea\" readonly=\"true\" style=\"width:100%;heigh:100%\" ></textarea></td>\r\n\t\t\t <td id=\"selTextareaTagOld\" style=\"display:none\" valign=\"bottom\" align=\"left\">\r\n\t\t\t\t <img width=\"15\" height=\"16\" border=\"0\" src=\"/jsoa/images/select.gif\" style=\"cursor:pointer\" onClick=\"openSelUserWIN();\">\r\n\t\t\t\t <input type=\"hidden\" name=\"selectedTxtId\" id=\"selectedTxtId\">\r\n\t\t\t\t <input type=\"hidden\" name=\"selRange\" id=\"selRange\">\r\n\t\t\t\t <input type=\"hidden\" name=\"participantType\" id=\"participantType\" value=\"-1\">\t\t\t \r\n\t\t\t </td>\r\n\t\t   </tr>\r\n\t\t </table>\t\t\r\n\t\t </td>\r\n\t  </tr>\r\n\t  \r\n\t  <tr id=\"showTR\">\r\n\t\t<td height=\"30\" colspan=\"3\">\r\n\t\t<table border=\"0\" width=\"100%\" height=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin:0px;\">\r\n");
      out.write("\t\t  <tr>");
String message = "none";//是否显示短信
				if(showSmsRemind){
					message = "";
				}
      out.write("\r\n\t\t\t<td style=\"display:");
      out.print(message);
      out.write("\"  width=\"140\" valign=\"top\" id=\"smsTD\">\r\n\t\t\t\t<span id=\"smsDiv1\">\r\n\t\t\t\t\t<INPUT TYPE=\"hidden\" name=\"showSmsRemind\" id=\"showSmsRemind\" value=\"");
      out.print(showSmsRemind);
      out.write("\">\r\n\t\t\t\t\t<input type=\"checkbox\" id=\"r1\" name=\"needSendMsg\" onclick=\"showSmsContentHref();\"/>\r\n\t\t\t\t\t<label for=\"r1\">");
      out.print(Resource.getValue(local,"filetransact","file.messageremind"));
      out.write("</label>\r\n\t\t\t\t\t<label id=\"smsHrefLabel\" style=\"display:none\"><A HREF=\"javascript:\" onclick=\"showSmsContent();\">");
      out.print(Resource.getValue(local,"filetransact","file.smsremindcontent"));
      out.write("</A></label>\r\n\t\t\t\t</span>\r\n\t\t\t</td>\r\n\t\t    <td align=\"left\" style=\"float:left;display:none\">\r\n\t\t\t\t<span><A HREF=\"javascript:\" onclick=\"showDealTips();\">");
      out.print(Resource.getValue(local,"filetransact","file.tranremind"));
      out.write("</A></span>\r\n\t\t\t\t&nbsp;\r\n\t\t\t</td>\r\n\t\t    <td id=\"emergenceTD\" height=\"30\" align=\"left\" width=\"140\">缓急：\r\n\t\t\t\t<SELECT NAME=\"emergence\">\r\n\t\t\t\t\t<option value='0' title=\"xx\">一般</option> \r\n\t\t\t\t\t<option value='1'>加急</option>\r\n\t\t\t\t\t<option value='2'>急件</option>\r\n\t\t\t\t\t<option value='3'>特急</option>\r\n\t\t\t\t\t<option value='4'>特提</option>\r\n\t\t\t\t</SELECT>\r\n\t\t\t</td>\r\n\t\t\t<td style=\"width:200px\" style=\"float:left;display:");
      out.print("getFirstActivity".equals(type)?"none":"" );
      out.write("\">提醒流程发起人：<input type=\"checkbox\" name=\"sendMsgToInit\" id=\"sendMsgToInit\" onclick=\"sendMsgToInitSet();\" />&nbsp;</td>\r\n\t\t\t");
if("1".equals(com.js.util.config.SystemCommon.getCanSendSMS())){ 
      out.write("\r\n\t\t\t<td height=\"22\" style=\"width:150px;float:left;\"> \r\n\t\t\t短信提醒：<input type=\"checkbox\" name=\"sendSMS\" id=\"sendSMS\" value=\"1\" onclick=\"changeSendSMS(this);\" /></td>\r\n\t\t\t");
}else{ 
      out.write("\r\n\t\t\t<td>&nbsp;<input type=\"hidden\" name=\"sendSMS\" id=\"sendSMS\" value=\"1\"></td>\r\n\t\t\t");
} 
      out.write("\r\n\t\t\t<td height=\"22\">\r\n\t     ");
if(activityVO.getPressType()!=0){ 
      out.write("\r\n\t     <table border=\"0\" width=\"100%\" height=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin:0px;border:0px;\">\r\n\t\t  <tr>\r\n\t\t     <td width=\"90\" nowrap>\r\n\t\t\t\t办理期限：<input type=\"checkbox\" name=\"ifWorkDeadLine\" id=\"ifWorkDeadLine\" onclick=\"isWorkDeadLine(this);\"/>\r\n\t\t\t\t<input type=\"hidden\" name=\"workDeadLine\" id=\"workDeadLine\" value=\"-1\" />\r\n\t\t\t </td>\r\n\t\t\t <td nowrap>&nbsp;\r\n\t\t\t <span id=\"workDeadLineSpan\" style=\"display:none;\">\r\n\t\t\t <input type=\"text\" name=\"workDeadLineNum\" id=\"workDeadLineNum\" value=\"0\" onblur=\"getWorkDeadLine();\" style=\"width:25px;\" /> \r\n\t\t\t <select name=\"workDeadLineType\" style=\"width:50px;\" id=\"workDeadLineType\" onchange=\"getWorkDeadLine();\">\r\n\t\t\t\t <option value=\"h\">小时</option>\r\n\t\t\t\t <option value=\"d\">天</option>\r\n\t\t\t </select></span></td>\r\n\t\t   </tr>\r\n\t\t </table>");
} 
      out.write("\t\r\n\t\t </td>\r\n\t\t\r\n\t\t  </tr>\r\n\t   </table>\r\n\t   </td>\r\n\t </tr>\r\n\t  <tr id=\"smsContentTR\"  style=\"display:none\">\r\n\t    <td colspan=\"3\">\r\n\t     <table border=\"0\" width=\"100%\" height=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin:0px;border:0px;\">\r\n\t\t  <tr>\r\n\t\t\t <td style=\"width:100%;\">\r\n\t\t\t\t<textarea name=\"smsContent\" id=\"smsContent\" rows=\"4\" cols=\"100\" class=\"inputTextarea\" style=\"width:100%;heigh:100%\">");
      out.print(request.getAttribute("smsContent")+"");
      out.write("</textarea>\t\t\t \r\n\t\t\t </td>\r\n\t\t   </tr>\r\n\t\t </table>\t\t\r\n\t\t </td>\r\n\t  </tr>\r\n\t  <tr id=\"dealTipsTR\"  style=\"display:none\">\r\n\t    <td colspan=\"3\">\r\n\t     <table border=\"0\" width=\"100%\" height=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin:0px;border:0px;\">\r\n\t\t  <tr>\r\n\t\t\t <td style=\"width:100%;\">\r\n\t\t\t\t<textarea name=\"dealTips\" id=\"dealTips\" rows=\"4\" cols=\"100\" class=\"inputTextarea\" style=\"width:100%;heigh:100%\"></textarea>\t\t\t \r\n\t\t\t </td>\r\n\t\t   </tr>\r\n\t\t </table>\t\t\r\n\t\t </td>\r\n\t  </tr>\r\n\t  </table>\r\n\t</div>\t\r\n\t</td>\r\n  </tr>\r\n  <tr>\r\n  \t");

        String showButton = "button";
		if(0==com.js.util.config.SystemCommon.getIsShowButton()){
			showButton = "hidden";
		}
     
      out.write("\r\n    <td valign=\"top\" align=\"right\">    \r\n\t\t<input type=\"button\" name=\"send\" value=\"发送\" class=\"btnButton4font\" onClick=\"include_save('");
      out.print(processType);
      out.write("','0','");
      out.print(type);
      out.write("');\"/>\r\n\t\t");
if("getFirstActivity".equals(type)){
      out.write("\r\n\t\t<input type=\"");
      out.print(showButton );
      out.write("\" name=\"sendContinue\" value=\"发送继续\" class=\"btnButton4font\" onClick=\"include_savecontinue('");
      out.print(processType);
      out.write("','0','");
      out.print(type);
      out.write("');\"/>\r\n\t\t");
}
      out.write("\r\n\t\t");
if(!"getFirstActivity".equals(type) && "0".equals(processType)){
      out.write("\r\n\t\t<input type=\"button\" name=\"comp\" value=\"");
      if (_jspx_meth_bean_005fmessage_005f0(_jspx_page_context))
        return;
      out.write("\" class=\"btnButton4font\" onClick=\"include_save('");
      out.print(processType);
      out.write("','1','");
      out.print(type);
      out.write("');\"/>\r\n\t\t");
}
      out.write("\r\n\t\t<input type=\"button\" name=\"Cancel\" value=\"");
      if (_jspx_meth_bean_005fmessage_005f1(_jspx_page_context))
        return;
      out.write("\" class=\"btnButton4font\" onClick=\"window.close();\" />\r\n\t\t&nbsp;\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n     <td>&nbsp;</td>\r\n  </tr>\r\n</table>\r\n</form>\r\n</div>\r\n\r\n<!---------------------------------------- 阅件------------------------------->\r\n<div id=\"docinfo1\" style=\"display:none;\">\r\n<form name=\"frm2\" id=\"frm2\" style=\"margin:0px;\">\r\n<table  border=\"0\" cellpadding=\"0\" cellspacing=\"0\" id=\"pup_main\" style=\"height:92%;\">\r\n<tr>\r\n\t<td align=\"center\" valign=\"top\">\r\n\t<div id=\"pup_content\">\r\n\r\n<!--table width=\"100%\" height=\"100%\" border=\"0\" cellpadding=\"3\" cellspacing=\"0\" class=\"docBoxNoPanel\" style=\"margin:0px;\"-->\r\n<table width=\"100%\" height=\"300\" border=\"0\" cellpadding=\"3\" cellspacing=\"0\" style=\"margin:0px;border:0px;\">\r\n  <tr  id=\"middleTR2\">\r\n    <td valign=\"top\" width=\"45%\" ><iframe id=\"orgifm2\" name=\"orgifm2\" frameborder=\"1\" scrolling=\"auto\" width=\"100%\" height=\"280\"></iframe></td>\r\n    <td align=\"center\" width=\"10%\"><!--<input type=\"button\" name=\"Submit2\" value=\"添  加\" class=\"btnButton4font\" style=\"margin-top:10px;margin-bottom:10px;\" />-->\r\n");
      out.write("    ");
if(BrowserJudge.isNotPc(request)){ 
      out.write("\r\n    <input type=\"button\" name=\"Submit5\" value=\"<<\" class=\"btnButton4font\" style=\"margin-top:10px;margin-bottom:10px;\" onclick=\"dropAllDiv2();\"/>\r\n    ");
}else{ 
      out.write("\r\n    <input type=\"button\" name=\"Submit2\" value=\">>\" class=\"btnButton4font\" style=\"margin-top:10px;margin-bottom:10px;\" onClick=\"addAllOptions2();\"/>\r\n    <input type=\"button\" name=\"Submit4\" value=\"<&nbsp;\" class=\"btnButton4font\" style=\"margin-top:10px;margin-bottom:10px;\" onclick=\"delOptions2();\"/>\r\n    <input type=\"button\" name=\"Submit5\" value=\"<<\" class=\"btnButton4font\" style=\"margin-top:10px;margin-bottom:10px;\" onclick=\"delAllOptions2();\"/>\r\n\t");
} 
      out.write("\r\n\t</td>\r\n\t");
if(BrowserJudge.isNotPc(request)){ 
      out.write("\r\n    <td valign=\"top\" width=\"45%\"  style=\"background:#FFF; border:1px solid #ADADAD;\">\r\n    <div name=\"showNames2\" id=\"showNames2\" align=\"left\"  style=\"font-size:12px;width:100%;height:100%;overflow-x:auto;overflow-y:auto; white-space:nowrap;\">\r\n\t");
for(int i=0;i<selectUser.size();i++){
			Object[] tmp = (Object[])selectUser.get(i);
	  
      out.write("<div id='A");
      out.print(tmp[0] );
      out.write("A2' name='A");
      out.print(tmp[0] );
      out.write("A2' title='点击移出' onclick=\"dropNameDiv2('A");
      out.print(tmp[0] );
      out.write("A2','");
      out.print("$"+tmp[0]+"$" );
      out.write("')\"  style='cursor:pointer;float:left;width:100%;fontSize:12px;'>");
      out.print(tmp[1] );
      out.write("</div>\r\n\t  ");
}
      out.write("\r\n\t</div>\r\n    <select name=\"selectObject\" id=\"selectObject\" size=\"10\" ondblclick=\"delOptions2();\" multiple=\"multiple\" style=\"width:100%;height:280;display:none;\">\r\n\t  ");
for(int i=0;i<selectUser.size();i++){
			Object[] tmp = (Object[])selectUser.get(i); 
			selectUserId += "$"+tmp[0]+"$";
			selectUserName += tmp[1]+",";
	  
      out.write("<option value=\"$");
      out.print(tmp[0]);
      out.write('$');
      out.write('"');
      out.write('>');
      out.print(tmp[1]);
      out.write("</option>\r\n\t  ");
}
      out.write("\r\n     </select>\r\n      ");
}else{ 
      out.write("\r\n      <td valign=\"top\" width=\"45%\">\r\n      <select name=\"selectObject\" id=\"selectObject\" size=\"10\" ondblclick=\"delOptions2();\" multiple=\"multiple\" style=\"width:100%;height:280;\">\r\n\t  ");
for(int i=0;i<selectUser.size();i++){
			Object[] tmp = (Object[])selectUser.get(i); 
			selectUserId += "$"+tmp[0]+"$";
			selectUserName += tmp[1]+",";
	  
      out.write("<option value=\"$");
      out.print(tmp[0] );
      out.write('$');
      out.write('"');
      out.write('>');
      out.print(tmp[1]);
      out.write("</option>\r\n\t  ");
}
      out.write("\r\n      </select>\r\n      ");
} 
      out.write("\r\n    </td>\r\n  </tr>\r\n\r\n  <tr id=\"selTextarea2\"  style=\"display:none\">\r\n\t<td colspan=\"3\" height=\"20\">\r\n\t <table border=\"0\" width=\"100%\" height=\"100%\"  cellpadding=\"0\" cellspacing=\"0\" style=\"margin:0px;border:0px;\">\r\n\t  \r\n\t   <tr>\r\n\t\t <td height=\"20\">\r\n\t\t\t<textarea name=\"selectedTxt2\" id=\"selectedTxt2\" rows=\"12\" cols=\"60\" class=\"inputTextarea\" readonly=\"true\" style=\"width:100%;height:100%\" >");
      out.print(selectUserName);
      out.write("</textarea></td>\r\n\t\t <td id=\"selTextareaTagOld\" style=\"display:none\" valign=\"bottom\" align=\"left\"><img width=\"15\" height=\"16\" border=\"0\" src=\"/jsoa/images/select.gif\" style=\"cursor:pointer\" onClick=\"openSelUserWIN2();\">\r\n\t\t <input type=\"hidden\" name=\"selectedTxtId2\" id=\"selectedTxtId2\" value=\"");
      out.print(selectUserId);
      out.write("\">\r\n\t\t <input type=\"hidden\" name=\"selRange\" id=\"selRange\">\r\n\t\t <input type=\"hidden\" name=\"participantType\" id=\"participantType\" value=\"-1\">\r\n\t\t </td>\r\n\t   </tr>\r\n\t   \r\n\t </table>\r\n\t</td>\r\n  </tr>\r\n  <tr style=\"display:none\">\r\n\t<td height=\"30\" colspan=\"3\">\r\n\t\t<table border=\"0\" width=\"100%\" height=\"100%\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin:0px;\">\r\n\t\t  <tr>\r\n\t\t\t<td style=\"display:");
      out.print(message);
      out.write("\" >\r\n\t\t\t\t<INPUT TYPE=\"hidden\" name=\"showSmsRemind\" id=\"showSmsRemind\" value=\"");
      out.print(showSmsRemind);
      out.write("\">\r\n\t\t\t\t<span id=\"smsDiv2\">\r\n\t\t\t\t\t<input type=\"checkbox\" id=\"r1\" name=\"needSendMsg\" checked onclick=\"showSmsContentHref();\"/>\r\n\t\t\t\t\t<label for=\"r1\">");
      out.print(Resource.getValue(local,"filetransact","file.messageremind"));
      out.write("</label>\r\n\t\t\t\t\t<label id=\"smsHrefLabel\"><A HREF=\"javascript:\" onclick=\"showSmsContent();\">");
      out.print(Resource.getValue(local,"filetransact","file.smsremindcontent"));
      out.write("</A></label>\r\n\t\t\t\t</span>\r\n\t\t\t</td>\r\n\t\t  </tr>\r\n\t    </table>\r\n\t </td>\r\n\t</tr>\r\n</table>  \r\n</div>\t\r\n</td>\r\n  </tr>\r\n  <tr><td height=\"20\">&nbsp;</td></tr>\r\n  <tr>\r\n    <td valign=\"top\" align=\"right\">    \r\n\t\t<input type=\"button\" name=\"send\" value=\" 确定 \" class=\"btnButton4font\" onClick=\"include_save('");
      out.print(processType);
      out.write("','0','");
      out.print(type);
      out.write("');\"/>\r\n\t\t");
if("getFirstActivity".equals(type)){
      out.write("\r\n\t\t<input type=\"");
      out.print(showButton );
      out.write("\" name=\"sendContinue\" value=\"发送继续\" class=\"btnButton2font\" onClick=\"include_savecontinue('");
      out.print(processType);
      out.write("','0','");
      out.print(type);
      out.write("');\"/>\r\n\t\t");
}
      out.write("\r\n\t\t");
if(!"getFirstActivity".equals(type) && "0".equals(processType)){
      out.write("\r\n\t\t<input type=\"button\" name=\"comp\"  value=\" 确定 \" class=\"btnButton4font\" onClick=\"include_save('");
      out.print(processType);
      out.write("','1','");
      out.print(type);
      out.write("');\"/>\r\n\t\t");
}
      out.write("\r\n\t\t<input type=\"button\" name=\"Cancel\"  value=\" 取消 \" class=\"btnButton4font\" onClick=\"window.close();\"/>\r\n\t\t&nbsp;\r\n    </td>\r\n  </tr>\r\n</table>\r\n</form>\r\n</div>\r\n\r\n</body>\r\n</html>\r\n<SCRIPT LANGUAGE=\"JavaScript\">\r\n<!--\r\nfunction init(){\r\n\t");
/*if(!"".equals(participantUserField) && !"0-".equals(participantUserField) && !"-1-".equals(participantUserField) && !"-2-".equals(participantUserField) && !"-3-".equals(participantUserField)){
      out.write("\r\n\t\t//alert('");
      out.print(participantUserField);
      out.write("');\r\n\t\tvar vv = window.opener.document.getElementById('");
      out.print(participantUserField);
      out.write("').innerHTML;\r\n\t\tfrm0.tempDiv.innerHTML = vv;\r\n\t");
}*/
      out.write("\r\n\r\n\t//办理期限是否选中\r\n\tif(window.opener.document.all.chkLimitTime && window.opener.document.all.chkLimitTime.checked){\r\n\t\tfrm1.needProcessDeadlineDate.click();\r\n\t}\r\n\r\n\t//判断是否是子流程\r\n\tif(window.opener.document.all.subProcess && window.opener.document.all.subProcess.value=='1'){\r\n\t\tfrm1.sendContinue.style.display=\"none\";\r\n\t\tfrm2.sendContinue.style.display=\"none\";\r\n\t}\r\n\tvar sendMsgToInitiator = window.opener.document.getElementById(\"sendMsgToInitiator\").value;\r\n\tif(sendMsgToInitiator==\"1\"){\r\n\t\tdocument.getElementById(\"sendMsgToInit\").checked=true;\r\n\t}\r\n\t");

	//2016-07-29国投项目显示短信提醒且选中
		if("shandongguotou".equals(com.js.util.config.SystemCommon.getCustomerName())){
		 
      out.write("\r\n\t\t if(window.opener.document.getElementById(\"sendSMS\")!=null && document.getElementById(\"sendSMS\")!=null){\r\n\t\t\t document.getElementById(\"sendSMS\").checked=true;\r\n\t\t\t window.opener.document.getElementById(\"sendSMS\").value=\"1\";\r\n\t\t }\r\n\t\t ");
}
      out.write("\r\n}\r\n\r\nfunction sendMsgToInitSet(){\r\n\tif(document.getElementById(\"sendMsgToInit\").checked){\r\n\t\twindow.opener.document.getElementById(\"sendMsgToInitiator\").value=\"1\";\r\n\t}else{\r\n\t\twindow.opener.document.getElementById(\"sendMsgToInitiator\").value=\"0\";\r\n\t}\r\n}\r\n//显示办理期限\r\nfunction showProcessDeadlineDate(){\r\n\tif(document.getElementById(\"needProcessDeadlineDate\").checked){\r\n\t\tdocument.getElementById(\"pdTD\").style.display = \"\";\r\n\t} else{\r\n\t\tdocument.getElementById(\"pdTD\").style.display = \"none\";\r\n\t}\r\n}\r\n\r\n\r\n//显示办理提示\r\nfunction showDealTips(){\r\n\tif(frm1.dealTipsTR.style.display==\"none\"){\r\n\t\tfrm1.dealTipsTR.style.display = \"\";\r\n\t\tfrm1.smsContentTR.style.display = \"none\";\r\n\t} else{\r\n\t\tfrm1.dealTipsTR.style.display = \"none\";\r\n\t}\r\n}\r\n\r\n//显示短信内容\r\nfunction showSmsContent(){\r\n\tif(frm1.smsContentTR.style.display==\"none\"){\r\n\t\tfrm1.smsContentTR.style.display = \"\";\r\n\t\tfrm1.dealTipsTR.style.display = \"none\";\r\n\t} else{\r\n\t\tfrm1.smsContentTR.style.display = \"none\";\r\n\t}\r\n}\r\n\r\n//显示短信内容链接\r\nfunction showSmsContentHref(){\r\n\tif(frm1.r1.checked){\r\n");
      out.write("\t\tfrm1.smsHrefLabel.style.display = \"\";\r\n\t} else{\r\n\t\tfrm1.smsHrefLabel.style.display = \"none\";\r\n\t\tfrm1.smsContentTR.style.display = \"none\";\r\n\t}\r\n}\r\n\r\n\r\nfunction delOptions(){\r\n\tvar oSelect=frm1.selectObject;\r\n\tvar nLen =oSelect.length;\r\n\tvar sel;\r\n\tfor(i=0;i<nLen;i++){\r\n\t\tvar optObj = oSelect.options[i];\r\n\t\tif(optObj.selected){\r\n\t\t\tsel = i;\r\n\t\t}\r\n\t}\r\n\t//删除\r\n\tif(sel != null){\r\n\t\toSelect.remove(sel);\r\n\t} else{\r\n\t\talert(\"");
      out.print(Resource.getValue(local,"filetransact","file.selectdeleteperson"));
      out.write("\");\r\n\t}\r\n}\r\n\r\nfunction dropNameDiv(id,selectId){\r\n\tvar allNameDiv = document.getElementById(\"showNames\");\r\n\tvar nameDiv = document.getElementById(id);\r\n\tallNameDiv.removeChild(nameDiv);\r\n\t\r\n\tvar oSelect=frm1.selectObject;\r\n\tvar nLen =oSelect.length;\r\n\tvar sel;\r\n\tfor(i=0;i<nLen;i++){\r\n\t\tvar optObj = oSelect.options[i];\r\n\t\tif(optObj.value==selectId){\r\n\t\t\tsel = i;\r\n\t\t}\r\n\t}\r\n\t\r\n\t//删除\r\n\tif(sel != null){\r\n\t\toSelect.remove(sel);\r\n\t} else{\r\n\t\talert(\"");
      out.print(Resource.getValue(local,"filetransact","file.selectdeleteperson"));
      out.write("\");\r\n\t}\r\n}\r\nfunction dropAllDiv(){\r\n\tvar allNameDiv = document.getElementById(\"showNames\");\r\n\tallNameDiv.innerHTML = \"\";\r\n\tdelAllOptions();\r\n}\r\n\r\n\r\nfunction delAllOptions(){\r\n\tvar oSelect=frm1.selectObject;\r\n\tvar nLen =oSelect.length;\r\n\tfor(j=0;j<nLen;j++){\r\n\t\t//删除\r\n\t\toSelect.remove(0);\r\n\t}\r\n}\r\n\r\n\r\n//添加所有选项\r\nfunction addAllOptions(){\r\n    if(document.frm1.participantType.value==\"2\"){\r\n    \torgifm.openMainFrameAll();\r\n    }else{\r\n        alert(\"候选人中存在组织或组时不能使用全选！\");\r\n    }\r\n}\r\n\r\n//添加所有选项-阅件\r\nfunction addAllOptions2(){\r\n\tvar participantType = document.frm2.participantType.value;\r\n\t// 0：流程发起人的上级；2：候选人；3：指定全部执行人；4：表单中的字段值；5：流程发起人；6：角色中指定；7：上节点执行人的上级；11：上节点所有执行人；14：流程发起人上级部门并指定职务级别；15：岗位中指定\r\n\tif(participantType==0 || participantType==2 || participantType==3 || participantType==4 || participantType==5 \r\n\t\t\t|| participantType==6 || participantType==7 || participantType==11 || participantType==14 || participantType==15){\r\n    \torgifm2.openMainFrameAll();\r\n    }else{\r\n        alert(\"候选人中存在组织或组时不能使用全选！\");\r\n    }\r\n}\r\n\r\n//发送继续\r\n");
      out.write("function include_savecontinue(processType,isComp,isFirst){\r\n\t//判断父窗口存在否\r\n\tif(window.opener.closed){\r\n\t\twindow.close();\r\n\t\treturn;\r\n\t}\r\n\twindow.opener.document.all.sendContinue.value=\"1\";\r\n\tinclude_save(processType,isComp,isFirst);\r\n}\r\n\r\n\r\n//新保存\r\nfunction include_save(processType,isComp,isFirst){\r\n\t//判断父窗口存在否\r\n\tif(window.opener.closed){\r\n\t\twindow.close();\r\n\t\treturn;\r\n\t}\r\n\t// 阅件\r\n\tinclude_save2();\t\r\n\t\r\n\tvar participantType=frm1.participantType.value;\r\n\t//var oo = new Object();\r\n\tvar stepName=document.frm1.step.value;\r\n\tvar approveMode=document.frm1.approveMode.value;\r\n\tif(stepName.split(\",\")[0]==\"2\"){\r\n\t\t//window.opener.document.all.activityId.value='2';\r\n\t\tif(isFirst!='getFirstActivity'){\r\n\t\t\twindow.close();\r\n\t\t\twindow.opener.include_comp();\r\n\t\t}else{\r\n\t\t\t//开始节点即结束\r\n\t\t\twindow.close();\r\n\t\t\twindow.opener.include_comp();\r\n\t\t}\r\n\t}else{\t\r\n\t\r\n\t\t//办理提示验证\r\n\t\tif(frm1.dealTips.value.indexOf(\"'\") >= 0){\r\n\t\t\talert(\"");
      out.print(Resource.getValue(local,"filetransact","file.dealtipsnosinglequote"));
      out.write("\");\r\n\t\t\tfrm1.dealTips.focus();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(frm1.dealTips.value.indexOf(\"\\\"\") >= 0){\r\n\t\t\talert(\"");
      out.print(Resource.getValue(local,"filetransact","file.dealtipsnodbquote"));
      out.write("\");\r\n\t\t\tfrm1.dealTips.focus();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(frm1.dealTips.value.length >400){\r\n\t\t\talert(\"");
      out.print(Resource.getValue(local,"filetransact","file.dealtipstoolong"));
      out.write("\");\r\n\t\t\tfrm1.dealTips.focus();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\tif(processType!='0'){\r\n\t\t//alert(\"processType\"+processType);\t  \r\n\t\t\tif(isFirst!='getFirstActivity'){\r\n\t\t\t//中间节点\r\n\t\t\twindow.opener.document.all.mainNextActivityId.value=stepName.split(\",\")[0];\r\n\t\t\twindow.opener.document.all.mainNextActivityName.value=stepName.split(\",\")[1];\r\n\t\r\n\t\t\t//节点其他属性\r\n\t\t\twindow.opener.document.all.mainAllowStandFor.value = stepName.split(\",\")[2];\r\n\t\t\twindow.opener.document.all.mainAllowCancel.value = stepName.split(\",\")[3];\r\n\t\t\twindow.opener.document.all.mainPressType.value = stepName.split(\",\")[4];\r\n\t\t\twindow.opener.document.all.mainDeadLineTime.value = stepName.split(\",\")[5];\r\n\t\t\twindow.opener.document.all.mainPressMotionTime.value = stepName.split(\",\")[6];\r\n\t\t\twindow.opener.document.all.mainAllowTransition.value = stepName.split(\",\")[7];\r\n\t\t\t//发送页面获取属性\r\n\t\t\twindow.opener.document.all.approveMode.value=approveMode;\r\n\t\t\twindow.opener.document.all.emergence.value=document.frm1.emergence.value;//缓急\r\n\t\t\t\t\t\t\r\n\t\t\t//短信\r\n\t\t\tif(document.getElementById(\"smsDiv1\").style.display==\"\"){\r\n");
      out.write("\t\t\t\tif(document.frm1.needSendMsg && document.frm1.needSendMsg.checked){\r\n\t\t\t\t\twindow.opener.document.all.needSendMsg.value=document.frm1.needSendMsg.checked;//短信\r\n\t\t\t\t\twindow.opener.document.all.smsContent.value=document.frm1.smsContent.value;//短信\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\t//tips\r\n\t\t\twindow.opener.document.all.dealTips.value=document.frm1.dealTips.value;//tips内容\r\n\t\r\n\t\t\twindow.opener.document.all.operId.value = '';\r\n\t\t\twindow.opener.document.all.operName.value = '';\r\n\t\r\n\t\t\tif(participantType==\"1\" || participantType==\"8\" || participantType==\"2\" || participantType==\"4\" || participantType==\"9\" || participantType==\"10\" || participantType==\"6\" || participantType==\"13\" || participantType==\"0\" || participantType==\"7\" || participantType==\"11\" || participantType==\"14\" || participantType==\"15\"){\r\n\t\t\t\tvar oSelect=frm1.selectObject;\r\n\t\t\t\tvar nLen =oSelect.length;\r\n\t\t\t\tfor(i=0;i<nLen;i++){\r\n\t\t\t\t\twindow.opener.document.all.operId.value += oSelect.options[i].value ;\r\n\t\t\t\t\twindow.opener.document.all.operName.value += oSelect.options[i].text + \",\";\r\n");
      out.write("\t\t\t\t}\r\n\t\t\t\tif(participantType==\"10\"){\r\n\t\t\t\t\twindow.opener.document.all.mainUserType.value = \"10\";\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\twindow.opener.document.all.operId.value=frm1.selectedTxtId.value;\r\n\t\t\t\twindow.opener.document.all.operName.value=frm1.selectedTxt.value;\r\n\t\t\t}\r\n\t\r\n\t\t\t//alert(oo.selectUser + \"\\n\" + oo.selectUserName);\r\n\t\t\tif(window.opener.document.all.mainNextActivityId.value=='2'){\r\n\t\t\t\t//结束流程\r\n\t\t\t\twindow.close();\r\n\t\t\t\twindow.opener.include_comp();\r\n\t\t\t} else{\r\n\t\t\t\tif(window.opener.document.all.operId.value == ''){\r\n\t\t\t\t\tvar step = document.getElementById(\"step\").value;\r\n\t\t\t\t\tif(step==\"\"){\r\n\t\t\t\t\t\talert(\"请选择下一节点！\");\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\talert('");
      out.print(Resource.getValue(local,"filetransact","file.plselectran"));
      out.write("');\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else{\r\n\t\t\t\t\tif(window.opener.document.all.operName.value.indexOf(\",\",window.opener.document.all.operName.value.length-1)!=-1){\r\n\t\t\t\t\t\twindow.opener.document.all.operName.value = window.opener.document.all.operName.value.substring(0,window.opener.document.all.operName.value.length-1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(approveMode == '2' && window.opener.document.all.operName.value.indexOf(\",\")!=-1){\r\n\t\t\t\t\t\talert('");
      out.print(Resource.getValue(local,"filetransact","file.approvenotmoreonsingle"));
      out.write("');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\twindow.close();\r\n\t\t\t\t\twindow.opener.include_sub();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t } else{\r\n\t\t   //开始节点\r\n\t\t\twindow.opener.document.all.activityId.value=stepName.split(\",\")[0];\r\n\t\t\twindow.opener.document.all.activityName.value=stepName.split(\",\")[1];\r\n\t\r\n\t\t\t//节点其他属性\r\n\t\t\twindow.opener.document.all.allowStandFor.value = stepName.split(\",\")[2];\r\n\t\t\twindow.opener.document.all.allowCancel.value = stepName.split(\",\")[3];\r\n\t\t\twindow.opener.document.all.pressType.value = stepName.split(\",\")[4];\r\n\t\t\twindow.opener.document.all.deadLineTime.value = stepName.split(\",\")[5];\r\n\t\t\twindow.opener.document.all.pressMotionTime.value = stepName.split(\",\")[6];\r\n\t\t\t//发送页面获取属性\r\n\t\t\twindow.opener.document.all.approveMode.value=approveMode;\r\n\t\t\twindow.opener.document.all.emergence.value=document.frm1.emergence.value;//缓急\r\n\t\t\t//短信\r\n\t\t\tif(document.getElementById(\"smsDiv1\").style.display==\"\"){\r\n\t\t\t\r\n\t\t\t\tif(document.frm1.needSendMsg && document.frm1.needSendMsg.checked){\r\n\t\t\t\t\twindow.opener.document.all.needSendMsg.value=document.frm1.needSendMsg.checked;//短信\r\n");
      out.write("\t\t\t\t\twindow.opener.document.all.smsContent.value=document.frm1.smsContent.value;//短信\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//tips\r\n\t\t\twindow.opener.document.all.dealTips.value=document.frm1.dealTips.value;//tips内容\r\n\t\r\n\t\t\t//流程办理期限\r\n\t\t\tif(frm1.needProcessDeadlineDate.checked){\r\n\t\t\t\twindow.opener.document.all.processDeadlineDate.value=frm1.processDeadlineDate.value;\r\n\t\t\t} else{\r\n\t\t\t\twindow.opener.document.all.processDeadlineDate.value=\"0\";\r\n\t\t\t}\r\n\t\r\n\t\t\twindow.opener.document.all.operId.value = '';\r\n\t\t\twindow.opener.document.all.operName.value = '';\r\n\t\r\n\t\t\tif(participantType==\"1\" || participantType==\"8\" || participantType==\"2\" || participantType==\"4\" || participantType==\"9\" || participantType==\"10\" || participantType==\"6\" || participantType==\"13\" || participantType==\"0\" || participantType==\"7\" || participantType==\"11\" || participantType==\"14\" || participantType==\"15\"){\r\n\t\t\t\tvar oSelect=frm1.selectObject;\r\n\t\t\t\tvar nLen =oSelect.length;\r\n\t\t\t\tfor(i=0;i<nLen;i++){\r\n\t\t\t\t\twindow.opener.document.all.operId.value += oSelect.options[i].value ;\r\n");
      out.write("\t\t\t\t\twindow.opener.document.all.operName.value += oSelect.options[i].text + \",\";\r\n\t\t\t\t}\r\n\t\t\t\tif(participantType==\"10\"){\r\n\t\t\t\t\twindow.opener.document.all.userType.value = \"10\";\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\twindow.opener.document.all.operId.value=frm1.selectedTxtId.value;\r\n\t\t\t\twindow.opener.document.all.operName.value=frm1.selectedTxt.value;\r\n\t\t\t}\r\n\t\r\n\t\t\t//alert(oo.selectUser + \"\\n\" + oo.selectUserName);\r\n\t\t\tif(window.opener.document.all.activityId.value=='2'){\r\n\t\t\t\t//结束流程\r\n\t\t\t\twindow.close();\r\n\t\t\t\twindow.opener.include_comp();\r\n\t\t\t} else{\r\n\t\t\t\tif(window.opener.document.all.operId.value == ''){\r\n\t\t\t\t\talert('");
      out.print(Resource.getValue(local,"filetransact","file.plselectran"));
      out.write("');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else{\r\n\t\t\t\t\tif(window.opener.document.all.operName.value.indexOf(\",\",window.opener.document.all.operName.value.length-1)!=-1){\r\n\t\t\t\t\t\twindow.opener.document.all.operName.value = window.opener.document.all.operName.value.substring(0,window.opener.document.all.operName.value.length-1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(approveMode == '2' && window.opener.document.all.operName.value.indexOf(\",\")!=-1){\r\n\t\t\t\t\t\talert('");
      out.print(Resource.getValue(local,"filetransact","file.approvenotmoreonsingle"));
      out.write("');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\twindow.close();\r\n\t\t\t\t\twindow.opener.include_save();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t }\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n//改变节点走向\r\nfunction changeActivity(type,processType){\r\n\tif(processType=='0'||\"\"==processType){\r\n\t} else{\r\n\t\t//业务流程\r\n\t\tif(type=='getFirstActivity'){\r\n\t\t\tvar stepName=document.frm1.step.value;\t\r\n\t\t\tif(stepName.split(\",\")[0]==\"2\"){\r\n\t\t\t\t//结束节点\r\n\t\t\t\t\r\n\t\t\t\tdocument.all.middleTR1.style.display='none';\r\n\t\t\t\tdocument.all.approveModeTD.style.display='none';\r\n\t\t\t\tdocument.all.emergenceTD.style.display='none';\t\t\t\t\r\n\t\t\t}else{\t\r\n\t\t\t\tdocument.all.middleTR1.style.display='';\r\n\t\t\t\tdocument.all.approveModeTD.style.display='';\r\n\t\t\t\tdocument.all.emergenceTD.style.display='';\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t//document.all.formHTML.innerHTML = window.opener.document.all.formHTML.innerHTML;\r\n\t\t\t\t//var form = eval(\"window.opener.document.all.\"+opener.document.all.formName.value);\r\n\t\t\t\t//form.action = \"/jsoa/jsflow/wf_stepanduser_orgfirst.jsp?firstActivityId=");
      out.print(firstActivityId);
      out.write("\";\r\n\t\t\t\t//form.target = \"orgifm\";\r\n\t\t\t\t//form.submit();\r\n\t\t\t\tdocument.getElementById(\"orgifm\").src=\"/jsoa/jsflow/wf_stepanduser_orgfirst.jsp?firstActivityId=");
      out.print(firstActivityId);
      out.write("\";\r\n\t\t\t\t\r\n\t\t\t\tdocument.all.frm1.step[0].selected=true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//document.all.orgifm.src=\"/jsoa/jsflow/wf_stepanduser_orgfirst.jsp?processId=");
      out.print(processId);
      out.write("\";\r\n\t\t} else{\r\n\t\t\tvar stepName=document.frm1.step.value;\t\t\r\n\t\t\tif(\"\"==stepName){\r\n\t\t\t\tdocument.all.middleTR1.style.display='none';\r\n\t\t\t\tdocument.all.approveModeTD.style.display='none';\r\n\t\t\t\tdocument.all.emergenceTD.style.display='none';\r\n\t\t\t}else if(stepName.split(\",\")[0]==\"2\"){\r\n\t\t\t\t//结束节点\r\n\t\t\t\tdocument.all.middleTR1.style.display='none';\r\n\t\t\t\tdocument.all.approveModeTD.style.display='none';\r\n\t\t\t\tdocument.all.emergenceTD.style.display='none';\r\n\t\t\t}else{\t\r\n\t\t\t\tdocument.all.middleTR1.style.display='';\r\n\t\t\t\tdocument.all.approveModeTD.style.display='';\r\n\t\t\t\tdocument.all.emergenceTD.style.display='';\r\n\t\t\t\t//var form = eval(\"window.opener.document.all.\"+opener.document.all.formName.value);\r\n\t\t\t\t//form.action = \"/jsoa/jsflow/wf_stepanduser_org.jsp?curActivityId=");
      out.print(curActivityId);
      out.write("&processId=");
      out.print(processId);
      out.write("&tableId=");
      out.print(tableId);
      out.write("&recordId=");
      out.print(recordId);
      out.write("&submitPersonId=");
      out.print(submitPersonId);
      out.write("&standForUserId=");
      out.print(standForUserId);
      out.write("&tranFromPersonId=");
      out.print(tranFromPersonId);
      out.write("&activityId=\"+stepName.split(\",\")[0];\r\n\t\t\t\t//form.target = \"orgifm\";\r\n\t\t\t\t//form.submit();\r\n\t\t\t\tdocument.getElementById(\"orgifm\").src=\"/jsoa/jsflow/wf_stepanduser_org.jsp?curActivityId=");
      out.print(curActivityId);
      out.write("&processId=");
      out.print(processId);
      out.write("&tableId=");
      out.print(tableId);
      out.write("&recordId=");
      out.print(recordId);
      out.write("&submitPersonId=");
      out.print(submitPersonId);
      out.write("&standForUserId=");
      out.print(standForUserId);
      out.write("&tranFromPersonId=");
      out.print(tranFromPersonId);
      out.write("&activityId=\"+stepName.split(\",\")[0];\r\n\t\t\t}\r\n\r\n\t\t\t//disableControl(stepName);\r\n\t\t}\r\n\t\t//办理期限\r\n\t\tvar stepValue = document.frm1.step.value;\r\n\t\t//alert(stepValue);\r\n\t\tif(stepValue!=\"\"){\r\n\t\t\tvar values = stepValue.split(\",\");\r\n\t\t\tif(\"1\"==values[4]){\r\n\t\t\t\tvar deadlineObj = document.getElementById(\"ifWorkDeadLine\");\r\n\t\t\t\tdeadlineObj.checked=true;\r\n\t\t\t\tisWorkDeadLine(deadlineObj);\r\n\t\t\t\tvar deadlineNum = parseInt(values[5]);\r\n\t\t\t\tif(deadlineNum>0){\r\n\t\t\t\t\tif(deadlineNum%(24*60*60)==0){\r\n\t\t\t\t\t\tdocument.getElementById(\"workDeadLineNum\").value=deadlineNum/(24*60*60);\r\n\t\t\t\t\t\tdocument.getElementById(\"workDeadLineType\").value=\"d\";\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tdocument.getElementById(\"workDeadLineNum\").value=deadlineNum/(60*60);\r\n\t\t\t\t\t\tdocument.getElementById(\"workDeadLineType\").value=\"h\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgetWorkDeadLine();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tvar deadlineObj = document.getElementById(\"ifWorkDeadLine\");\r\n\t\t\tdeadlineObj.checked=false;\r\n\t\t\tisWorkDeadLine(deadlineObj);\r\n\t\t}\r\n\t}\r\n\t//alert(document.all.orgifm.src);\r\n}\r\n\r\n//如果节点为结束节点\r\n");
      out.write("function disableControl(stepName){\r\n\tif(stepName.split(\",\")[0]=='2'){\r\n\t\tfrm1.approveMode.disabled = true;\r\n\t\tfrm1.orgifm.src = \"\";\r\n\t\tfrm1.ctObject.disabled = true;\r\n\t\tfrm1.emergence.disabled = true;\r\n\t\tfrm1.send.value = \"");
      if (_jspx_meth_bean_005fmessage_005f2(_jspx_page_context))
        return;
      out.write("\";\r\n\t\tfrm1.send.className = \"btnButton4font\";\r\n\t\tdocument.getElementById(\"selTextarea1\").style.display='none';\r\n\t\tdocument.getElementById(\"middleTR1\").style.display='';\r\n\t\t//document.all.middleTR.style.display = \"none\"; \r\n\t\t//window.dialogHeight = \"150px\";\r\n\t} else{\r\n\t\tfrm1.approveMode.disabled = false;\r\n\t\tfrm1.selectObject.disabled = false;\r\n\t\tfrm1.emergence.disabled = false;\r\n\t\tfrm1.send.value = \"");
      if (_jspx_meth_bean_005fmessage_005f3(_jspx_page_context))
        return;
      out.write("\";\r\n\t\tfrm1.send.className = \"btnButton2font\";\r\n\t\t//document.all.middleTR.style.display = \"\"; \r\n\t\t//window.dialogHeight = \"400px\";\r\n\t}\r\n}\r\n\r\nfunction openSelUserWIN(){\r\n\tvar type=frm1.participantType.value;\r\n\tvar range = frm1.selRange.value;\r\n\tif(type==\"12\"){\r\n\t\ttype=\"org\";\r\n\t}else if(type==\"8\"){\r\n\t\tif(range != null && range!=\"\" && range.indexOf(\"@\") < 0 && range.indexOf(\"*\") < 0){\r\n\t\t\ttype = \"user\";\r\n\t\t}else if(range != null && range!=\"\" && range.indexOf(\"@\") < 0){\r\n\t\t\ttype = \"userorg\";\r\n\t\t}else if(range != null && range!=\"\" && range.indexOf(\"*\") < 0){\r\n\t\t\ttype = \"usergroup\";\r\n\t\t} else{\r\n\t\t\ttype = \"usergrouporg\";\r\n\t\t}\r\n\t} else if(type==\"13\"){\r\n\t\ttype = \"usergroup\";\r\n\t} else{\r\n\t\ttype=\"usergroup\";\r\n\t}\r\n\t//openEndow('selectedTxtId','selectedTxt',document.all.selectedTxtId.value,document.all.selectedTxt.value,type,'no',type,document.all.selRange.value)\r\n\topenFromParentEndow('selectedTxtId','selectedTxt',frm1.selectedTxtId.value,frm1.selectedTxt.value,type,'");
      out.print(!"0".equals(processType)?"no":"yes");
      out.write("',type,frm1.selRange.value,'1','1')\r\n}\r\n//-->\r\n</SCRIPT>\r\n\r\n\r\n<!-- 阅件 -->\r\n<SCRIPT LANGUAGE=\"JavaScript\">\r\n<!--\r\n//显示短信内容\r\nfunction showSmsContent2(){\r\n\tif(frm2.smsContentTR.style.display==\"none\"){\r\n\t\tfrm2.smsContentTR.style.display = \"\";\r\n\t} else{\r\n\t\tfrm2.smsContentTR.style.display = \"none\";\r\n\t}\r\n}\r\n\r\n//显示短信内容链接\r\nfunction showSmsContentHref2(){\r\n\tif(frm2.r1.checked){\r\n\t\tfrm2.smsHrefLabel.style.display = \"\";\r\n\t} else{\r\n\t\tfrm2.smsHrefLabel.style.display = \"none\";\r\n\t\tfrm2.smsContentTR.style.display = \"none\";\r\n\t}\r\n}\r\n\r\n//选择发送类型\r\nfunction clickSendType(obj){\r\n\tif(obj.value=='1' && obj.checked){\r\n\t\t//补发\r\n\t\tdelAllOptions();\r\n\t\tfrm2.selectedTxtId.value=\"\";\r\n\t\tfrm2.selectedTxt.value=\"\";\r\n\t} else if(obj.value=='0' && obj.checked){\r\n\t\t//重发\r\n\t\twindow.location.reload();\r\n\t}\r\n\t\r\n}\r\n\r\n\r\nfunction delOptions2(){\r\n\tvar oSelect=frm2.selectObject;\r\n\tvar nLen =oSelect.length;\r\n\tvar sel;\r\n\tfor(i=0;i<nLen;i++){\r\n\t\tvar optObj = oSelect.options[i];\r\n\t\tif(optObj.selected){\r\n\t\t\tsel = i;\r\n\t\t}\r\n\t}\r\n\t//删除\r\n\tif(sel != null){\r\n\t\toSelect.remove(sel);\r\n");
      out.write("\t} else{\r\n\t\talert(\"");
      out.print(Resource.getValue(local,"filetransact","file.selectdeleteperson"));
      out.write("\");\r\n\t}\r\n}\r\nfunction dropNameDiv2(id,selectId){\r\n\tvar allNameDiv = document.getElementById(\"showNames2\");\r\n\tvar nameDiv = document.getElementById(id);\r\n\tallNameDiv.removeChild(nameDiv);\r\n\t\r\n\tvar oSelect=frm2.selectObject;\r\n\tvar nLen =oSelect.length;\r\n\tvar sel;\r\n\tfor(i=0;i<nLen;i++){\r\n\t\tvar optObj = oSelect.options[i];\r\n\t\tif(optObj.value==selectId){\r\n\t\t\tsel = i;\r\n\t\t}\r\n\t}\r\n\t\r\n\t//删除\r\n\tif(sel != null){\r\n\t\toSelect.remove(sel);\r\n\t} else{\r\n\t\talert(\"");
      out.print(Resource.getValue(local,"filetransact","file.selectdeleteperson"));
      out.write("\");\r\n\t}\r\n}\r\nfunction delAllOptions2(){\r\n\tvar oSelect=frm2.selectObject;\r\n\tvar nLen =oSelect.length;\r\n\tfor(j=0;j<nLen;j++){\r\n\t\t//删除\r\n\t\toSelect.remove(0);\r\n\t}\r\n}\r\nfunction dropAllDiv2(){\r\n\tvar allNameDiv = document.getElementById(\"showNames2\");\r\n\tallNameDiv.innerHTML = \"\";\r\n\tdelAllOptions2();\r\n}\r\n\r\n//保存\r\n//$:userId\r\n//*:orgId\r\n//@:groupId\r\nfunction include_save2(){\r\n//alert(\"save\");\r\n\tvar participantType=frm2.participantType.value;\r\n\t\r\n\twindow.opener.document.all.passRoundId.value = '';\r\n\twindow.opener.document.all.passRoundName.value = '';\r\n\tif(participantType==\"1\" || participantType==\"8\" || participantType==\"2\" || participantType==\"9\" || participantType==\"10\" || participantType==\"6\" || participantType==\"13\" || participantType==\"0\" || participantType==\"7\" || participantType==\"11\" || participantType==\"15\"){\r\n\t\tvar oSelect=frm2.selectObject;\r\n\t\tvar nLen =oSelect.length;\r\n\t\tfor(i=0;i<nLen;i++){\r\n\t\t\twindow.opener.document.all.passRoundId.value += oSelect.options[i].value ;\r\n\t\t\twindow.opener.document.all.passRoundName.value += oSelect.options[i].text + \",\";\r\n");
      out.write("\t\t}\r\n\t\tif(participantType==\"10\"){\r\n\t\t\twindow.opener.document.all.mainPassRoundUserType.value = \"10\";\r\n\t\t}\r\n\t}else{\r\n\t\twindow.opener.document.all.passRoundId.value=frm2.selectedTxtId2.value;\r\n\t\twindow.opener.document.all.passRoundName.value=frm2.selectedTxt2.value;\r\n\t}\r\n\r\n\r\n\tif(window.opener.document.all.passRoundName.value.indexOf(\",\",window.opener.document.all.passRoundName.value.length-1)!=-1){\r\n\t\twindow.opener.document.all.passRoundName.value = window.opener.document.all.passRoundName.value.substring(0,window.opener.document.all.passRoundName.value.length-1);\r\n\t}\r\n}\r\n\r\n//改变节点走向\r\nfunction changeActivity2(type,processType){\r\n\tif(processType=='0'){\r\n\t\t//随机流程\r\n\t\t//document.all.Panle1.style.display = \"none\";\r\n\r\n\t} else{\r\n\t\t//业务流程\r\n\t\tif(type=='getFirstActivity'){\r\n\t\t\tdocument.getElementById(\"orgifm2\").src=\"/jsoa/jsflow/wf_stepanduser_orgselfsendfirst.jsp?firstActivityId=");
      out.print(firstActivityId);
      out.write("\";\r\n\t\t\t//var form = eval(\"window.opener.document.all.\"+opener.document.all.formName.value);\r\n\t\t\t//form.action = \"/jsoa/jsflow/wf_stepanduser_orgselfsendfirst.jsp?firstActivityId=");
      out.print(firstActivityId);
      out.write("\";\r\n\t\t\t//form.target = \"orgifm2\";\r\n\t\t\t//form.submit();\r\n\t\t\t//frm2.orgifm.src=\"/jsoa/jsflow/wf_stepanduser_orgselfsendfirst.jsp?processId=");
      out.print(processId);
      out.write("\";\r\n\t\t} else{\r\n\t\t\tvar stepName=document.frm1.step.value;\t\t\t\r\n\t\t\tdocument.getElementById(\"orgifm2\").src=\"/jsoa/jsflow/wf_stepanduser_orgselfsend.jsp?yj=1&curActivityId=\"+stepName.split(\",\")[0]+\"&processId=");
      out.print(processId);
      out.write("&tableId=");
      out.print(tableId);
      out.write("&recordId=");
      out.print(recordId);
      out.write("&submitPersonId=");
      out.print(submitPersonId);
      out.write("\";\r\n\t\t\t//var form = eval(\"window.opener.document.all.\"+opener.document.all.formName.value);\r\n\t\t\t//form.action = \"/jsoa/jsflow/wf_stepanduser_orgselfsend.jsp?curActivityId=\"+stepName.split(\",\")[0]+\"&processId=");
      out.print(processId);
      out.write("&tableId=");
      out.print(tableId);
      out.write("&recordId=");
      out.print(recordId);
      out.write("&submitPersonId=");
      out.print(submitPersonId);
      out.write("\";\r\n\t\t\t//form.target = \"orgifm2\";\r\n\t\t\t//form.submit();\r\n\t\t\t//frm2.orgifm2.src=\"/jsoa/jsflow/wf_stepanduser_orgselfsend.jsp?curActivityId=\"+stepName.split(\",\")[0]+\"&processId=");
      out.print(processId);
      out.write("&tableId=");
      out.print(tableId);
      out.write("&recordId=");
      out.print(recordId);
      out.write("&submitPersonId=");
      out.print(submitPersonId);
      out.write("\";\r\n\t\t}\r\n\t}\t\r\n}\r\n\r\nfunction openSelUserWIN2(){\r\n\tvar type=frm2.participantType.value;\r\n\tvar range = frm2.selRange.value;\r\n\tif(type==\"12\"){\r\n\t\ttype=\"org\";\r\n\t}else if(type==\"8\"){\r\n\t\tif(range != null && range!=\"\" && range.indexOf(\"@\") < 0 && range.indexOf(\"*\") < 0){\r\n\t\t\ttype = \"user\";\r\n\t\t}else if(range != null && range!=\"\" && range.indexOf(\"@\") < 0){\r\n\t\t\ttype = \"userorg\";\r\n\t\t}else if(range != null && range!=\"\" && range.indexOf(\"*\") < 0){\r\n\t\t\ttype = \"usergroup\";\r\n\t\t} else{\r\n\t\t\ttype = \"usergrouporg\";\r\n\t\t}\r\n\t} else if(type==\"13\"){\r\n\t\ttype = \"usergroup\";\r\n\t} else{\r\n\t\ttype=\"usergroup\";\r\n\t}\r\n\topenEndow('selectedTxtId2','selectedTxt2',frm2.selectedTxtId2.value,frm2.selectedTxt2.value,type,'no',type,frm2.selRange.value)\r\n}\r\nfunction changeSendSMS(obj){\r\n\tif(window.opener.document.getElementById(\"sendSMS\")!=null){\r\n\t\tif(obj.checked){\r\n\t\t\twindow.opener.document.getElementById(\"sendSMS\").value=\"1\";\r\n\t\t}else{\r\n\t\t\twindow.opener.document.getElementById(\"sendSMS\").value=\"0\";\r\n\t\t}\r\n\t}\r\n\t//alert(window.opener.document.getElementById(\"sendSMS\").value);\r\n");
      out.write("}\r\n//初始化是否发送短信\r\nif(window.opener.document.getElementById(\"sendSMS\")==null){\r\n\tif(document.getElementById(\"sendSMS\")!=null){\r\n\t\tdocument.getElementById(\"sendSMS\").checked=false;\r\n\t}\r\n}else{\r\n\tif(document.getElementById(\"sendSMS\")!=null){\r\n\t\tif(window.opener.document.getElementById(\"sendSMS\").value==\"1\"){\r\n\t\t\tdocument.getElementById(\"sendSMS\").checked=true;\r\n\t\t}else{\r\n\t\t\tdocument.getElementById(\"sendSMS\").checked=false;\r\n\t\t}\r\n\t}\r\n}\r\nfunction selectUserToGuotou(oper){\r\n\toper.disabled=\"disabled\";\r\n   oper.style.color=\"#bbbbbb\";\r\n\tvar selectInfo = tempSelectForGuotou(\"all\");\r\n\tvar selectInfos = selectInfo.split(\"@@\");\r\n    var selectedId=selectInfos[0];\r\n    var selectedName=selectInfos[1];\r\n    document.all.tempjiaqianid.value=selectInfos[0];\r\n    document.all.tempjiaqianname.value=selectInfos[1];\r\n    if(selectedId==null || selectedId==\"null\" || selectedId==\"\"){\r\n        selectedId=\"\";\r\n        selectedName=\"\";\r\n    }\r\n    selectExeFunc('',\"tempjiaqianid\",\"tempjiaqianname\",selectedId,selectedName,'orgPerson','no','usergroup','*0*','','orggroup','userToSelectForGuotou');\r\n");
      out.write("}\r\nfunction userToSelectForGuotou(){\r\n\tvar selectedId=document.all.tempjiaqianid.value;\r\n    var selectedName=document.all.tempjiaqianname.value;\r\n    if(document.all.middleTR1.style.display!='none'){\r\n    \tdelAllOptions();\r\n        if(selectedId.length>0){\r\n        \tselectedId=selectedId.substring(1,selectedId.length-1);\r\n        \tvar selectedIds=selectedId.split(\"$$\");\r\n        \tvar selectedNames=selectedName.split(\",\");\r\n        \tfor(var i=0;i<selectedIds.length;i++){\r\n        \t\torgifm.openMainFrame(\"$\"+selectedIds[i]+\"$\",selectedNames[i]);\r\n        \t}\r\n        }\r\n    }\r\n    if(document.all.selTextarea1.style.display!='none'){\r\n\t\tdocument.getElementById(\"selectedTxt\").value=selectedName;\r\n\t\tdocument.getElementById(\"selectedTxtId\").value=selectedId;\r\n\t}\r\n    \r\n\t\r\n}\r\n/**\r\n * 用于衔接选择框\r\n */\r\nfunction tempSelectForGuotou(type){\r\n\tif(type==null||type==undefined||type==\"\"){\r\n\t\ttype=\"all\";\r\n\t}\r\n\tif(document.all.middleTR1.style.display!='none'){\r\n\t\tvar oSelect=parent.document.getElementById(\"selectObject\");\r\n\t\tvar nLen =oSelect.length;\r\n");
      out.write("\t\tvar selectVal=\"\";\r\n\t\tvar selectText=\"\";\r\n\t\tfor(i=0;i<nLen;i++){\r\n\t\t\tvar optObj = oSelect.options[i];\r\n\t\t\tselectVal+=optObj.value;\r\n\t\t\tselectText+=optObj.innerText+\",\";\r\n\t\t}\r\n\t\tif(type==\"id\"){\r\n\t\t\treturn selectVal;\r\n\t\t}else{\r\n\t\t\treturn selectVal+\"@@\"+selectText;\r\n\t\t}\r\n\t}\r\n\tif(document.all.selTextarea1.style.display!='none'){\r\n\t\tvar selectText=document.getElementById(\"selectedTxt\").value;\r\n\t\tvar selectVal=document.getElementById(\"selectedTxtId\").value;\r\n\t\tif(type==\"id\"){\r\n\t\t\treturn selectVal;\r\n\t\t}else{\r\n\t\t\treturn selectVal+\"@@\"+selectText;\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n//-->\r\n</SCRIPT>\r\n<script src=\"/jsoa/js/util.js\"></script>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }

  private boolean _jspx_meth_bean_005fmessage_005f0(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  bean:message
    org.apache.struts.taglib.bean.MessageTag _jspx_th_bean_005fmessage_005f0 = (org.apache.struts.taglib.bean.MessageTag) _005fjspx_005ftagPool_005fbean_005fmessage_0026_005fkey_005fbundle_005fnobody.get(org.apache.struts.taglib.bean.MessageTag.class);
    boolean _jspx_th_bean_005fmessage_005f0_reused = false;
    try {
      _jspx_th_bean_005fmessage_005f0.setPageContext(_jspx_page_context);
      _jspx_th_bean_005fmessage_005f0.setParent(null);
      // /jsflow/wf_stepanduser.jsp(535,42) name = bundle type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_bean_005fmessage_005f0.setBundle("filetransact");
      // /jsflow/wf_stepanduser.jsp(535,42) name = key type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_bean_005fmessage_005f0.setKey("file.endflow");
      int _jspx_eval_bean_005fmessage_005f0 = _jspx_th_bean_005fmessage_005f0.doStartTag();
      if (_jspx_th_bean_005fmessage_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fbean_005fmessage_0026_005fkey_005fbundle_005fnobody.reuse(_jspx_th_bean_005fmessage_005f0);
      _jspx_th_bean_005fmessage_005f0_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_bean_005fmessage_005f0, _jsp_getInstanceManager(), _jspx_th_bean_005fmessage_005f0_reused);
    }
    return false;
  }

  private boolean _jspx_meth_bean_005fmessage_005f1(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  bean:message
    org.apache.struts.taglib.bean.MessageTag _jspx_th_bean_005fmessage_005f1 = (org.apache.struts.taglib.bean.MessageTag) _005fjspx_005ftagPool_005fbean_005fmessage_0026_005fkey_005fbundle_005fnobody.get(org.apache.struts.taglib.bean.MessageTag.class);
    boolean _jspx_th_bean_005fmessage_005f1_reused = false;
    try {
      _jspx_th_bean_005fmessage_005f1.setPageContext(_jspx_page_context);
      _jspx_th_bean_005fmessage_005f1.setParent(null);
      // /jsflow/wf_stepanduser.jsp(537,44) name = bundle type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_bean_005fmessage_005f1.setBundle("common");
      // /jsflow/wf_stepanduser.jsp(537,44) name = key type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_bean_005fmessage_005f1.setKey("comm.cancel");
      int _jspx_eval_bean_005fmessage_005f1 = _jspx_th_bean_005fmessage_005f1.doStartTag();
      if (_jspx_th_bean_005fmessage_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fbean_005fmessage_0026_005fkey_005fbundle_005fnobody.reuse(_jspx_th_bean_005fmessage_005f1);
      _jspx_th_bean_005fmessage_005f1_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_bean_005fmessage_005f1, _jsp_getInstanceManager(), _jspx_th_bean_005fmessage_005f1_reused);
    }
    return false;
  }

  private boolean _jspx_meth_bean_005fmessage_005f2(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  bean:message
    org.apache.struts.taglib.bean.MessageTag _jspx_th_bean_005fmessage_005f2 = (org.apache.struts.taglib.bean.MessageTag) _005fjspx_005ftagPool_005fbean_005fmessage_0026_005fkey_005fbundle_005fnobody.get(org.apache.struts.taglib.bean.MessageTag.class);
    boolean _jspx_th_bean_005fmessage_005f2_reused = false;
    try {
      _jspx_th_bean_005fmessage_005f2.setPageContext(_jspx_page_context);
      _jspx_th_bean_005fmessage_005f2.setParent(null);
      // /jsflow/wf_stepanduser.jsp(1111,21) name = bundle type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_bean_005fmessage_005f2.setBundle("filetransact");
      // /jsflow/wf_stepanduser.jsp(1111,21) name = key type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_bean_005fmessage_005f2.setKey("file.endflow");
      int _jspx_eval_bean_005fmessage_005f2 = _jspx_th_bean_005fmessage_005f2.doStartTag();
      if (_jspx_th_bean_005fmessage_005f2.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fbean_005fmessage_0026_005fkey_005fbundle_005fnobody.reuse(_jspx_th_bean_005fmessage_005f2);
      _jspx_th_bean_005fmessage_005f2_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_bean_005fmessage_005f2, _jsp_getInstanceManager(), _jspx_th_bean_005fmessage_005f2_reused);
    }
    return false;
  }

  private boolean _jspx_meth_bean_005fmessage_005f3(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  bean:message
    org.apache.struts.taglib.bean.MessageTag _jspx_th_bean_005fmessage_005f3 = (org.apache.struts.taglib.bean.MessageTag) _005fjspx_005ftagPool_005fbean_005fmessage_0026_005fkey_005fbundle_005fnobody.get(org.apache.struts.taglib.bean.MessageTag.class);
    boolean _jspx_th_bean_005fmessage_005f3_reused = false;
    try {
      _jspx_th_bean_005fmessage_005f3.setPageContext(_jspx_page_context);
      _jspx_th_bean_005fmessage_005f3.setParent(null);
      // /jsflow/wf_stepanduser.jsp(1121,21) name = bundle type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_bean_005fmessage_005f3.setBundle("filetransact");
      // /jsflow/wf_stepanduser.jsp(1121,21) name = key type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_bean_005fmessage_005f3.setKey("file.send");
      int _jspx_eval_bean_005fmessage_005f3 = _jspx_th_bean_005fmessage_005f3.doStartTag();
      if (_jspx_th_bean_005fmessage_005f3.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
      _005fjspx_005ftagPool_005fbean_005fmessage_0026_005fkey_005fbundle_005fnobody.reuse(_jspx_th_bean_005fmessage_005f3);
      _jspx_th_bean_005fmessage_005f3_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_bean_005fmessage_005f3, _jsp_getInstanceManager(), _jspx_th_bean_005fmessage_005f3_reused);
    }
    return false;
  }
}
