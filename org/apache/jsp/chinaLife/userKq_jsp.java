/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: JspC/ApacheTomcat8
 * Generated at: 2023-01-06 09:42:28 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.chinaLife;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import com.js.util.config.SystemCommon;
import java.text.SimpleDateFormat;
import java.util.*;
import com.js.system.manager.service.ManagerService;

public final class userKq_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("java.util");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = new java.util.HashSet<>();
    _jspx_imports_classes.add("com.js.util.config.SystemCommon");
    _jspx_imports_classes.add("java.text.SimpleDateFormat");
    _jspx_imports_classes.add("com.js.system.manager.service.ManagerService");
  }

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    final java.lang.String _jspx_method = request.getMethod();
    if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method) && !javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET, POST or HEAD. Jasper also permits OPTIONS");
      return;
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html;charset=GBK");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n\r\n\r\n\r\n");

response.setHeader("Cache-Control","no-store");
response.setHeader("Pragma","no-cache");
response.setDateHeader ("Expires", 0);

List<String[]> kqDataList = (List<String[]>)request.getAttribute("dataList");
String startDate = request.getAttribute("startDate")+"";
String endDate = request.getAttribute("endDate")+"";
String userId = request.getAttribute("userId")+"";
String userName = request.getAttribute("userName")+"";
String orgId = request.getAttribute("orgId")+"";
String orgName = request.getAttribute("orgName")+"";
String kqType = request.getAttribute("kqType")==null?"":request.getAttribute("kqType")+"";

ManagerService managerBD = new ManagerService();
List fanwei =managerBD.getRightScope(session.getAttribute("userId").toString(),"07*55*13");//人事管理-考勤维护

Object[] scope = {"1","","","",""};
if(fanwei.size()>0){
	scope = (Object[])fanwei.get(0);
}
String rang = scope[1]+"";
if("1".equals(scope[0]+"")){
	rang = "";
}else if("2".equals(scope[0]+"")){
	String[] orgIdString = (session.getAttribute("orgIdString")+"").replace("$$",",").replace("$", "").split(",");
	rang = "*"+orgIdString[2]+"*";
}else if("3".equals(scope[0]+"")){
	rang = "*"+session.getAttribute("orgId")+"*";
}else if("0".equals(scope[0]+"")){
	rang = "*0*";
}
/*for(int i=0;i<fanwei.size();i++){
	Object[] obj = (Object[])fanwei.get(i);
	//1.个人 3.本部门  2.本部门及下属部门  0.全单位  4.指定范围，范围部门Id，范围部门名称
	for(int j=0;j<obj.length;j++){
		System.out.println("--------"+obj[j]);
	}
}*/

String nowDate = new SimpleDateFormat("yyyy-MM-dd").format(new Date());
String firstTime = SystemCommon.getClFirst().replace(":", "");
String hm = new SimpleDateFormat("HHmm").format(new Date());


      out.write("\r\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\r\n<html>\r\n\t<head>\r\n\t\t<title>公司员工考勤情况统计查询表</title>\r\n\t\t<link href=\"/jsoa/skin/blue/style.css\" rel=\"stylesheet\" type=\"text/css\" />\r\n\t\t<link rel=stylesheet type=\"text/css\" href=\"/jsoa/public/date_picker/DateObject2.css\">\r\n\t\t<SCRIPT language=javascript src=\"/jsoa/public/date_picker/DateObject.js\"></SCRIPT>\r\n\t\t<SCRIPT language=javascript src=\"/jsoa/public/date_picker/DatePicker.js\"></SCRIPT>\r\n\t\t<SCRIPT language=javascript src=\"/jsoa/public/date_picker/editlib.js\"></SCRIPT>\r\n\t</head>\r\n\t\r\n\t<body bgcolor=\"#ffffff\" class=\"MainFrameBox\" onload=\"init();\">\r\n\t\t<table style:\"display:");
      out.print(("bmMore".equals(request.getParameter("action"))?"none":"") );
      out.write("\" border=\"0\">\r\n\t\t<tr><td colspan=\"2\">\r\n\t\t<form action=\"/jsoa/kqShow.do\" method=\"get\" id=\"searchForm\" name=\"searchForm\">\r\n\t\t<table id=\"searchTable\" style=\"display:");
      out.print(("bmMore".equals(request.getParameter("action"))?"none":"") );
      out.write("\" width=\"100%\" border=\"0\" align=\"center\" cellpadding=\"1\" cellspacing=\"1\" class=\"searchbar\">\r\n\t\t    <input type=\"hidden\" name=\"action\" value=\"kqShow\" />\r\n\t\t    <input type=\"hidden\" id=\"export\" name=\"export\">\r\n\t\t    <input type=\"hidden\" name=\"userId\" value=\"");
      out.print(userId );
      out.write("\" id=\"userId\" >\r\n\t\t    <input type=\"hidden\" name=\"type\" id=\"type\" value=\"\" />\r\n\t\t\t<tr>\r\n\t\t\t\t<td width=\"10px\">&nbsp;</td>\r\n\t\t\t\t<td width=\"40px\" nowrap>时间：</td>\r\n\t\t\t\t<td width=\"200px\"><script language=\"javascript\">createDatePicker(\"startDate\",");
      out.print(startDate.replace("-", ",") );
      out.write(");</script>&nbsp;至&nbsp;</td>\r\n\t\t\t\t<td width=\"200px\"><script language=\"javascript\">createDatePicker(\"endDate\",");
      out.print(endDate.replace("-", ",") );
      out.write(");</script></td>\r\n\t\t\t\t");
if(!rang.equals("")){  
      out.write("\r\n\t\t\t\t<td>查询人：<input type=\"text\" name=\"userName\" value=\"");
      out.print(userName );
      out.write("\" onclick=\"selectEmp();\" readonly=\"readonly\" \r\n\t\t\t\t\t\t\tstyle=\"width:200px\" class=\"inputText\" id=\"userName\" title=\"请点击选择\"></td>\r\n\t\t        <td>查询部门：<input type=\"text\" name=\"orgName\" value=\"");
      out.print(orgName );
      out.write("\" onclick=\"selectOrg();\" readonly=\"readonly\" \r\n\t\t\t\t\t\t\tstyle=\"width:200px\" class=\"inputText\" id=\"orgName\" title=\"请点击选择\">\r\n\t\t            <input type=\"hidden\" name=\"orgId\" value=\"");
      out.print(orgId );
      out.write("\" id=\"orgId\"></td>");
}else{ 
      out.write("\r\n\t\t            <td width=\"100px\">&nbsp; <input type=\"hidden\" name=\"userId\" value=\"");
      out.print(userId );
      out.write("\" id=\"userId\" ></td><td>&nbsp;</td>\r\n\t\t        ");
}
      out.write("\r\n\t\t     </tr>\r\n\t\t     <tr>\r\n\t\t\t     <td width=\"10px\">&nbsp;</td>\r\n\t\t\t     <td width=\"40px\" nowrap>类型：</td>\r\n\t\t\t     <td width=\"200px\">\r\n\t\t\t     <input type=\"checkbox\" name=\"kqType1\" value=\"\" ");
      out.print(kqType.equals("")?"checked":"" );
      out.write(" />全部\r\n\t\t\t     <input type=\"checkbox\" name=\"kqType1\" value=\"迟到\" ");
      out.print(kqType.contains("迟到")?"checked":"" );
      out.write("/>迟到\r\n\t\t\t     <input type=\"checkbox\" name=\"kqType1\" value=\"早退\" ");
      out.print(kqType.contains("早退")?"checked":"" );
      out.write(" />早退\r\n\t\t\t     <input type=\"checkbox\" name=\"kqType1\" value=\"缺勤\" ");
      out.print(kqType.contains("缺勤")?"checked":"" );
      out.write(" />缺勤</td>\r\n\t\t\t\t<td align=\"right\" colspan=\"3\"  nowrap>\r\n\t\t\t\t\t<input type=\"button\" class=\"btnButton2font\" value=\"查询\" onclick=\"exportExcel(0);\" />\r\n            \t\t<input type=\"button\" class=\"btnButton2font\" value=\"导出\" onclick=\"exportExcel(1);\" />\r\n            \t\t<input type=\"button\" class=\"btnButton2font\" value=\"个人界面\" onclick=\"selfPage();\" />\r\n\t\t\t\t</td>\r\n\t\t      </tr>\r\n\t\t</table>\r\n\t\t</form>\r\n\t\t</td></tr>\r\n\t\t<tr><td colspan=\"2\">\r\n\t\t\r\n\t\t\t<table width=\"100%\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"listTable\" >\r\n\t\t\t\t<tr>\r\n\t\t\t\t    <td class=\"listTableHead\" width=\"12%\">部门</td>\r\n\t\t\t\t    <td class=\"listTableHead\" width=\"10%\">人员编号</td>\r\n\t\t\t\t    <td class=\"listTableHead\" width=\"8%\">姓名</td>\r\n\t\t\t\t    \r\n\t\t\t\t    <td class=\"listTableHead\" width=\"10%\">考勤日期</td>\r\n\t\t\t\t    <td class=\"listTableHead\" width=\"7%\">班次</td>\r\n\t\t\t\t    <td class=\"listTableHead\" width=\"7%\">上班</td>\r\n\t\t\t\t    <td class=\"listTableHead\" width=\"7%\">下班</td>\r\n\t\t\t\t    <td class=\"listTableHead\" width=\"3%\">迟到</td>\r\n\t\t\t\t    <td class=\"listTableHead\" width=\"3%\">早退</td>\r\n");
      out.write("\t\t\t\t    <td class=\"listTableHead\" width=\"3%\">缺勤</td>\r\n\t\t\t\t    <td class=\"listTableHead\" width=\"3%\">请假</td>\r\n\t\t\t\t    <td class=\"listTableHead\" width=\"3%\">补签</td>\r\n\t\t\t\t    <td class=\"listTableHead\">补签备注</td>\r\n\t\t\t    </tr>\r\n\t\t\t    <!-- 迟到：FF9900  早退：FFFF00  缺勤：FF0000 请假：339966  补签：CC99FF  公休：99CCFF -->\r\n\t\t\t    ");
String width = "width:50px;";
			    for(int i=0;i<kqDataList.size();i++){
			    	boolean s = true;
			    	boolean f = true;
			    	String[] kqData = kqDataList.get(i);
			    	if(nowDate.equals(kqData[3])){
						s = false;
						//System.out.println(firstTime+"   "+hm);
						if(Integer.valueOf(firstTime)>Integer.valueOf(hm)){
							f = false;
						}
						kqData[9] = (Integer.valueOf(kqData[9].equals("")?"0":kqData[9])-1)+"";
						if("0".equals(kqData[9]) || "-1".equals(kqData[9])){
							kqData[9] = "";
						}
					}
			    	String startC = "";
			    	//2：迟到，3：补签，4：未打卡，5：请假不打卡，6：假期公休   F89800
			    	if("2".equals(kqData[13])){
			    		startC = "style='background-color:#FF9900;"+width+"'";
			    	}else if("3".equals(kqData[13])){
			    		startC = "style='background-color:#CC99FF;"+width+"'";
			    	}else if("4".equals(kqData[13])){
			    		startC = "style='background-color:#FF0000;"+width+"'";
			    	}else if("5".equals(kqData[13])){
			    		startC = "style='background-color:#339966;"+width+"'";
			    	}else if("6".equals(kqData[13])){
			    		startC = "style='background-color:#99CCFF;"+width+"'";
			    	}
			    	String endC = ""; 
					if("2".equals(kqData[14])){
						endC = "style='background-color:#FFFF00;"+width+"'";
			    	}else if("3".equals(kqData[14])){
			    		endC = "style='background-color:#CC99FF;"+width+"'";
			    	}else if("4".equals(kqData[14])){
			    		endC = "style='background-color:#FF0000;"+width+"'";
			    	}else if("5".equals(kqData[14])){
			    		endC = "style='background-color:#339966;"+width+"'";
			    	}else if("6".equals(kqData[14])){
			    		endC = "style='background-color:#99CCFF;"+width+"'";
			    	}
			    	String listClass="listTableLine1";
					if(i%2 != 0){
						listClass="listTableLine2";
					}
      out.write("\r\n\t\t\t\t    <tr>\r\n\t\t\t\t\t    <td class=\"");
      out.print(listClass);
      out.write("\" align=\"left\">");
      out.print(kqData[0] );
      out.write("&nbsp;</td>\r\n\t\t\t\t\t    <td class=\"");
      out.print(listClass);
      out.write("\" align=\"left\">");
      out.print(kqData[1] );
      out.write("&nbsp;</td>\r\n\t\t\t\t\t    <td class=\"");
      out.print(listClass);
      out.write("\" align=\"left\">");
      out.print(kqData[2] );
      out.write("&nbsp;</td>\r\n\t\t\t\t\t    \r\n\t\t\t\t\t    <td class=\"");
      out.print(listClass);
      out.write("\" align=\"left\">");
      out.print(kqData[3] );
      out.write("&nbsp;</td>\r\n\t\t\t\t\t    <td class=\"");
      out.print(listClass);
      out.write("\" align=\"left\">");
      out.print(kqData[4] );
      out.write("&nbsp;</td>\r\n\t\t\t\t\t    <td class=\"");
      out.print(listClass);
      out.write("\" align=\"left\" ");
      out.print(f?startC:"" );
      out.write('>');
      out.print(f?kqData[5]:"" );
      out.write("&nbsp;</td>\r\n\t\t\t\t\t    <td class=\"");
      out.print(listClass);
      out.write("\" align=\"left\" ");
      out.print(s?endC:"" );
      out.write('>');
      out.print(s?kqData[6]:"" );
      out.write("&nbsp;</td>\r\n\t\t\t\t\t    <td class=\"");
      out.print(listClass);
      out.write("\" align=\"left\">");
      out.print(kqData[7] );
      out.write("<input type=\"hidden\" name=\"chidao\" value=\"");
      out.print(kqData[7] );
      out.write("\" />&nbsp;</td>\r\n\t\t\t\t\t    <td class=\"");
      out.print(listClass);
      out.write("\" align=\"left\">");
      out.print(kqData[8] );
      out.write("<input type=\"hidden\" name=\"zaotui\" value=\"");
      out.print(kqData[8] );
      out.write("\" />&nbsp;</td>\r\n\t\t\t\t\t    <td class=\"");
      out.print(listClass);
      out.write("\" align=\"left\">");
      out.print(f?kqData[9]:"" );
      out.write("<input type=\"hidden\" name=\"queqin\" value=\"");
      out.print(f?kqData[9]:"0" );
      out.write("\" />&nbsp;</td>\r\n\t\t\t\t\t    <td class=\"");
      out.print(listClass);
      out.write("\" align=\"left\">");
      out.print(kqData[10] );
      out.write("<input type=\"hidden\" name=\"qingjia\" value=\"");
      out.print(kqData[10] );
      out.write("\" />&nbsp;</td>\r\n\t\t\t\t\t    <td class=\"");
      out.print(listClass);
      out.write("\" align=\"left\">");
      out.print(kqData[11] );
      out.write("<input type=\"hidden\" name=\"buqian\" value=\"");
      out.print(kqData[11] );
      out.write("\" />&nbsp;</td>\r\n\t\t\t\t\t    <td class=\"");
      out.print(listClass);
      out.write("\" align=\"left\">");
      out.print(kqData[12]==null||"null".equals(kqData[12])?"":kqData[12] );
      out.write("&nbsp;</td>\r\n\t\t\t\t    </tr>\r\n\t\t\t    ");
} 
      out.write("\r\n\t\t\t    <tr>\r\n\t\t\t\t    <td class=\"listTableLine1\" align=\"center\" colspan=\"3\">合计：&nbsp;</td>\r\n\t\t\t\t    \r\n\t\t\t\t    <td class=\"listTableLine1\" align=\"left\">");
      out.print(startDate );
      out.write("&nbsp;</td>\r\n\t\t\t\t    <td class=\"listTableLine1\" align=\"left\">");
      out.print(endDate );
      out.write("&nbsp;</td>\r\n\t\t\t\t    <td class=\"listTableLine1\" align=\"left\">&nbsp;</td>\r\n\t\t\t\t    <td class=\"listTableLine1\" align=\"left\">&nbsp;</td>\r\n\t\t\t\t    <td class=\"listTableLine1\" align=\"left\"><span id=\"chidaoAll\"></span>&nbsp;</td>\r\n\t\t\t\t    <td class=\"listTableLine1\" align=\"left\"><span id=\"zaotuiAll\"></span>&nbsp;</td>\r\n\t\t\t\t    <td class=\"listTableLine1\" align=\"left\"><span id=\"queqinAll\"></span>&nbsp;</td>\r\n\t\t\t\t    <td class=\"listTableLine1\" align=\"left\"><span id=\"qingjiaAll\"></span>&nbsp;</td>\r\n\t\t\t\t    <td class=\"listTableLine1\" align=\"left\"><span id=\"buqianAll\"></span>&nbsp;</td>\r\n\t\t\t\t    <td class=\"listTableLine1\" align=\"left\">&nbsp;</td>\r\n\t\t\t    </tr>\r\n\t\t\t</table>\r\n\t\t\t</td></tr>\r\n\t\t\t<tr><td><table><tr><td style=\"background-color:#FF9900;width:100px;\" align=\"center\">迟到/早退</td>\r\n\t\t<td style=\"background-color:#CC99FF;width:50px;\" align=\"center\">补签</td>\r\n\t\t<td style=\"background-color:#FF0000;width:50px;\" align=\"center\">缺勤</td>\r\n\t\t<td style=\"background-color:#339966;width:50px;\" align=\"center\">请假</td>\r\n\t\t<td style=\"background-color:#99CCFF;width:50px;\" align=\"center\">公休</td></tr></table></td>\r\n");
      out.write("\t\t<td>");
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "/public/page/pageUtil.jsp", out, false);
      out.write("</td></tr>\r\n\t\t</table>\r\n\t\t\r\n\t</body>\r\n\t\t<script type=\"text/javascript\">\r\n\tfunction selectOrg(){\r\n\t\topenEndow('orgId','orgName',document.getElementById(\"orgId\").value,document.getElementById(\"orgName\").value,\r\n\t\t\t\t'org','no','org','");
      out.print(rang );
      out.write("');\r\n\t}\r\n\tfunction selectEmp(){\r\n\t\topenEndow('userId','userName',document.getElementById(\"userId\").value,document.getElementById(\"userName\").value,\r\n\t\t\t\t'user','no','usergroup','");
      out.print(rang );
      out.write("');\r\n\t}\r\n\tfunction init(){\r\n\t\tvar chidao = document.getElementsByName(\"chidao\");\r\n\t\tvar zaotui = document.getElementsByName(\"zaotui\");\r\n\t\tvar queqin = document.getElementsByName(\"queqin\");\r\n\t\tvar qingjia = document.getElementsByName(\"qingjia\");\r\n\t\tvar buqian = document.getElementsByName(\"buqian\");\r\n\t\t\r\n\t\t\r\n\t\tdocument.getElementById(\"chidaoAll\").innerHTML = getNum(chidao);\r\n\t\tdocument.getElementById(\"zaotuiAll\").innerHTML = getNum(zaotui);\r\n\t\tdocument.getElementById(\"queqinAll\").innerHTML = getNum(queqin);\r\n\t\tdocument.getElementById(\"qingjiaAll\").innerHTML = getNum(qingjia);\r\n\t\tdocument.getElementById(\"buqianAll\").innerHTML = getNum(buqian);\r\n\t\t\r\n\t}\r\n\tfunction getNum(obj){\r\n\t\tvar objN = 0;\r\n\t\tfor(var i=0;i<obj.length;i++){\r\n\t\t\tif(obj[i].value!=\"\" && obj[i].value!=\"undefined\"){\r\n\t\t\t\tobjN += parseInt(obj[i].value);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn objN;\r\n\t}\r\n\tfunction exportExcel(flag){\r\n\t\tif(document.getElementById(\"userName\")!=null \r\n\t\t\t\t&& (document.getElementById(\"userName\").value==\"\" || document.getElementById(\"userName\").value==\"请点击选择\") \r\n");
      out.write("\t\t\t\t&& document.getElementById(\"orgName\")!=null\r\n\t\t\t\t&& (document.getElementById(\"orgName\").value==\"\" || document.getElementById(\"orgName\").value==\"请点击选择\")){\r\n\t\t\tdocument.getElementById(\"userId\").value=\"");
      out.print(session.getAttribute("userId")+"" );
      out.write("\";\r\n\t\t}\r\n\t\tif(document.getElementById(\"userName\")!=null \r\n\t\t\t\t&& (document.getElementById(\"userName\").value==\"\" || document.getElementById(\"userName\").value==\"请点击选择\") \r\n\t\t\t\t&& document.getElementById(\"orgName\")!=null\r\n\t\t\t\t&& (document.getElementById(\"orgName\").value!=\"\" && document.getElementById(\"orgName\").value!=\"请点击选择\")){\r\n\t\t\tdocument.getElementById(\"userId\").value=\"\";\r\n\t\t}\r\n\t\tif(document.getElementById(\"orgName\")!=null \r\n\t\t\t\t&& (document.getElementById(\"orgName\").value==\"\" || document.getElementById(\"orgName\").value==\"请点击选择\")){\r\n\t\t\tdocument.getElementById(\"orgId\").value=\"\";\r\n\t\t}\r\n\t\tdocument.getElementById(\"type\").value=kqTypeChange();\r\n\t\tdocument.getElementById(\"export\").value=flag;\r\n\t\tdocument.getElementById(\"searchForm\").submit();\r\n\t}\r\n\tfunction kqTypeChange(){\r\n\t\tvar type=\"\";\r\n\t\tvar kqType1 = document.getElementsByName(\"kqType1\");\r\n\t\tfor(var i=0;i<kqType1.length;i++){\r\n\t\t\tif(kqType1[i].checked){\r\n\t\t\t\ttype+=kqType1[i].value+\",\";\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(\",\"==type){\r\n\t\t\ttype=\"\";\r\n\t\t}\r\n\t\treturn type;\r\n\t}\r\n\tfunction selfPage(){\r\n");
      out.write("\t\tlocation.href=\"/jsoa/kqShow.do?action=kqShow&userId=");
      out.print(session.getAttribute("userId") );
      out.write("\";\r\n\t}\r\n\t</script>\r\n</html>\r\n<script src=\"/jsoa/js/openEndow.js\"></script>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
