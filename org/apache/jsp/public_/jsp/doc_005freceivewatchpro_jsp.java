/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: JspC/ApacheTomcat8
 * Generated at: 2023-01-06 09:57:44 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.public_.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import com.ibm.icu.text.SimpleDateFormat;
import com.js.util.util.PicSingleton;
import java.math.BigDecimal;
import com.js.util.util.Exchange;
import com.js.oa.webmail.util.WebMailAccManager;
import com.js.lang.Resource;
import java.util.List;
import com.jsupload.upload.SmartUpload;
import com.js.util.config.SystemCommon;

public final class doc_005freceivewatchpro_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(6);
    _jspx_dependants.put("/WEB-INF/tag-lib/struts-nested.tld", Long.valueOf(1499751390000L));
    _jspx_dependants.put("/WEB-INF/tag-lib/struts-tiles.tld", Long.valueOf(1499751390000L));
    _jspx_dependants.put("/WEB-INF/tag-lib/struts-logic.tld", Long.valueOf(1499751390000L));
    _jspx_dependants.put("/WEB-INF/tag-lib/struts-html.tld", Long.valueOf(1499751390000L));
    _jspx_dependants.put("/WEB-INF/tag-lib/struts-template.tld", Long.valueOf(1499751390000L));
    _jspx_dependants.put("/WEB-INF/tag-lib/struts-bean.tld", Long.valueOf(1499751390000L));
  }

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = new java.util.HashSet<>();
    _jspx_imports_classes.add("java.math.BigDecimal");
    _jspx_imports_classes.add("com.js.lang.Resource");
    _jspx_imports_classes.add("java.util.List");
    _jspx_imports_classes.add("com.jsupload.upload.SmartUpload");
    _jspx_imports_classes.add("com.js.util.config.SystemCommon");
    _jspx_imports_classes.add("com.ibm.icu.text.SimpleDateFormat");
    _jspx_imports_classes.add("com.js.oa.webmail.util.WebMailAccManager");
    _jspx_imports_classes.add("com.js.util.util.PicSingleton");
    _jspx_imports_classes.add("com.js.util.util.Exchange");
  }

  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fhtml_005fhtml;

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
    _005fjspx_005ftagPool_005fhtml_005fhtml = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
  }

  public void _jspDestroy() {
    _005fjspx_005ftagPool_005fhtml_005fhtml.release();
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    final java.lang.String _jspx_method = request.getMethod();
    if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method) && !javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET, POST or HEAD. Jasper also permits OPTIONS");
      return;
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=GBK");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n");

java.util.Date now = new java.util.Date();
int i,index=0;
if(request.getAttribute("pager.offset")!=null){
    index=Integer.parseInt(request.getAttribute("pager.offset").toString());
}else if(request.getParameter("pager.offset")!=null){
    index=Integer.parseInt(request.getParameter("pager.offset"));
}
	
int offset1=index;
String edit="";
String saveName="",fileName = "",proce="";
String _queryString=request.getQueryString();
String queryString="&"+com.js.util.util.BASE64.BASE64DecoderNoBR(_queryString);	
if(queryString.indexOf("&edit")>-1){
		edit = "1";
}

System.out.println("query:"+queryString);


      out.write("\r\n\r\n");
      //  html:html
      org.apache.struts.taglib.html.HtmlTag _jspx_th_html_005fhtml_005f0 = (org.apache.struts.taglib.html.HtmlTag) _005fjspx_005ftagPool_005fhtml_005fhtml.get(org.apache.struts.taglib.html.HtmlTag.class);
      boolean _jspx_th_html_005fhtml_005f0_reused = false;
      try {
        _jspx_th_html_005fhtml_005f0.setPageContext(_jspx_page_context);
        _jspx_th_html_005fhtml_005f0.setParent(null);
        int _jspx_eval_html_005fhtml_005f0 = _jspx_th_html_005fhtml_005f0.doStartTag();
        if (_jspx_eval_html_005fhtml_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
          do {
            out.write("\r\n<head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=GBK\">\r\n<link href=\"/jsoa/skin/");
            out.print(session.getAttribute("skin"));
            out.write("/style-");
            out.print(session.getAttribute("browserVersion"));
            out.write(".css\" rel=\"stylesheet\" type=\"text/css\" />\r\n<link rel=stylesheet type=\"text/css\" href=\"/jsoa/public/date_picker/DateObject1.css\">\r\n<SCRIPT language=javascript src=\"/jsoa/public/date_picker/DateObject.js\"></SCRIPT>\r\n<SCRIPT language=javascript src=\"/jsoa/public/date_picker/DatePicker.js\"></SCRIPT>\r\n<SCRIPT language=javascript src=\"/jsoa/public/date_picker/editlib.js\"></SCRIPT>\r\n<SCRIPT language=javascript src=\"/jsoa/public/date_picker/tree.js\"></SCRIPT>\r\n<script language=\"javascript\" src=\"/jsoa/js/openEndow.js\"></script>\r\n<script  src=\"/jsoa/js/checkText.js\"  language=\"javascript\" ></script>\r\n<script  src=\"/jsoa/js/checkQuery.js\"  language=\"javascript\" ></script>\r\n<script src=\"/jsoa/js/imenu.js\"></script>\r\n<script type=\"text/javascript\" src=\"/jsoa/js/jquery-1.4.2.min.js\"></script>\r\n<title>附件查看</title>\r\n</head>\r\n<body  class=\"MainFrameBox\">\r\n<input type=\"hidden\" id=\"isCanModify\" value='");
            out.print(edit);
            out.write("'>\r\n\r\n<table width=\"100%\" height=\"25\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\"  class=\"inlineBottomLine\">\r\n  <tr>    \r\n\t <td align=\"right\">\r\n\t ");

	 if("1".equals(edit)){
	 
            out.write("\r\n\t \t<input type=\"button\" class=\"btnButton4font\" onClick=\"upload();\" value=\"上传\" /n>\r\n\t ");

	 }
	 
            out.write("\r\n\t <input type=\"button\" class=\"btnButton4font\" onClick=\"uploadBatch();\" value=\"批量下载\" /n>\r\n\t </td>\r\n\t\r\n  </tr>\r\n</table>\r\n\r\n\r\n<table  id=\"t_id\" width=\"100%\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"listTable\">\r\n\t<DIV id=\"mytips\" style=\"BORDER-RIGHT: gray 1px solid; BORDER-TOP: gray 1px solid; DISPLAY: none; FONT-SIZE: 9pt; FILTER: progid: DXImageTransform.Microsoft.Shadow(color=#999999,direction=135,strength=3); BORDER-LEFT: gray 1px solid; WIDTH: 150px; COLOR: red; BORDER-BOTTOM: gray 1px solid; POSITION: absolute; HEIGHT: 16px; BACKGROUND-COLOR: #ffffff\">\r\n\t\t\t<p>&nbsp;</p>\r\n\t\t\t<p>&nbsp;</p>\r\n\t\t</DIV>\r\n  <FORM name=form2 action=\"\" method=post>\r\n  <input type=\"hidden\" name=\"useracc\" value=\"\">\r\n  <input type=\"hidden\" name=\"currenid\" value=\"\">\r\n\r\n  <input type=\"hidden\" name=\"copyitem\" value=\"\">\r\n  <input type=\"hidden\" name=\"copyorcut\" value=\"\">\r\n  <input type=\"hidden\" name=\"upuse\" value=\"\">\r\n  <input type=\"hidden\" name=\"allAttachSize\" value=\"0\">\r\n  <input type=\"hidden\" name=\"fileidstring\" value=\"\">\r\n\r\n\r\n");
            out.write("  <tr id='tr_head'>\r\n    <td width=\"40\" class=\"listTableHead\" nowrap><input type=\"checkbox\" id=\"selectAll\" onclick=\"checkAll()\"></td>\r\n    <td class=\"listTableHead\"  width=\"8%\">文件编号</td>\r\n    <td class=\"listTableHead\" >名称</td>\r\n    <td class=\"listTableHead\" width=\"8%\">操作</td>\r\n  </tr>\r\n  ");
  
  
  String listClass="listTableLine1";
  if(index%2 != 0){
		listClass="listTableLine2";
   }else{
		 listClass="listTableLine1";
  }
  
  int idx=0;
  String temp;
  String FileName="",name="",path="";
  String[] fileNames=new String[10],names=new String[10];
  //查找FileName
  	index=queryString.indexOf("&FileName");
  	if(idx>=0){
  		temp=queryString.substring(idx+10);
  		if(temp.indexOf("&")>=0){
  			FileName=temp.substring(0,temp.indexOf("&"));
  		}else{
  			FileName=temp;
  		}
  		if(FileName.substring(0,1).equals("[")&&FileName.substring(FileName.length()-1).equals("]")){
  			FileName=FileName.substring(1,FileName.length()-1);
  		}
        fileNames=FileName.split(",");
  	}
  	
  //查找name
  	idx=queryString.indexOf("&name");
  	if(idx>=0){
  		temp=queryString.substring(idx+6);
  		if(temp.indexOf("&")>=0){
  			name=temp.substring(0,temp.indexOf("&"));
  		}else{
  			name=temp;
  		}
  		if(name.substring(0,1).equals("[")&&name.substring(name.length()-1).equals("]")){
  			name=name.substring(1,name.length()-1);
  		}
  		names=name.split(",");
  	}
  	
  //查找path
  	idx=queryString.indexOf("&path");
  	if(idx>=0){
  		temp=queryString.substring(idx+6);
  		if(temp.indexOf("&")>=0){
  			path=temp.substring(0,temp.indexOf("&"));
  		}else{
  			path=temp;
  		}
  	}
  	
  //查找saveName
  	idx=queryString.indexOf("&saveName");
  	if(idx>=0){
  		temp=queryString.substring(idx+10);
  		if(temp.indexOf("&")>=0){
  			saveName=temp.substring(0,temp.indexOf("&"));
  		}else{
  			saveName=temp;
  		}
  	}
  	
  //查找fileName
  	idx=queryString.indexOf("&fileName");
  	if(idx>=0){
  		temp=queryString.substring(idx+10);
  		if(temp.indexOf("&")>=0){
  			fileName=temp.substring(0,temp.indexOf("&"));
  		}else{
  			fileName=temp;
  		}
  	}
  	
  	 //查找proce
  	idx=queryString.indexOf("&proce");
  	if(idx>=0){
  		temp=queryString.substring(idx+7);
  		if(temp.indexOf("&")>=0){
  			proce=temp.substring(0,temp.indexOf("&"));
  		}else{
  			proce=temp;
  		}
  	}
 
  for(int j=0;j<fileNames.length;j++){
	  String nameNoIndex = names[j];
	  String fileBase64 = com.js.util.util.BASE64.BASE64EncoderNoBR("FileName="+fileNames[j].trim()+"&name="+names[j].trim()+"&path="+path+(("1".equals(edit))?"&edit=1":""));
  
            out.write("\r\n    <tr>\r\n\t\t  <td class=\"");
            out.print(listClass);
            out.write("\" >\r\n\t\t\t  &nbsp;<input type=\"checkbox\" name=\"checkSingle\">\r\n\t\t  </td>\r\n\t\t  <td id =\"fileIndex\"class=\"");
            out.print(listClass);
            out.write("\" >&nbsp;");
            out.print(index+1);
            out.write("</td>\r\n\t\t  <td id=\"fileName\" class=\"");
            out.print(listClass);
            out.write("\" >&nbsp;\r\n\t\t  ");
if("ynnt".equals(SystemCommon.getCustomerName())){
            out.write("\r\n\t\t\t  <span style=\"cursor:pointer;\" onclick=\"downloadwindow('/jsoa/download.jsp?");
            out.print(com.js.util.util.BASE64.BASE64EncoderNoBR("FileName="+fileNames[j].trim()+"&name="+names[j].trim()+"&path="+path+(("1".equals(edit))?"&edit=1":"")));
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(com.js.util.config.SystemCommon.getFileShowUse()==1?"showPage":"downloadIframe" );
            out.write("')\">");
            out.print( nameNoIndex);
            out.write("</span>\r\n\t\t  ");
}else{
            out.write("\r\n\t\t\t  <span style=\"cursor:pointer;\" onclick=\"JSMainWinOpen4('/jsoa/download.jsp?");
            out.print(com.js.util.util.BASE64.BASE64EncoderNoBR("FileName="+fileNames[j].trim()+"&name="+names[j].trim()+"&path="+path+(("1".equals(edit))?"&edit=1":"")));
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(com.js.util.config.SystemCommon.getFileShowUse()==1?"showPage":"downloadIframe" );
            out.write("','','1100','680')\">");
            out.print( nameNoIndex);
            out.write("</span>\r\n\t\t  ");
}
            out.write("\r\n\t\t  </td>\r\n\t\t  <td id=\"saveName\" style=\"display:none\" class=\"");
            out.print(listClass);
            out.write("\" >&nbsp;");
            out.print(fileNames[j]);
            out.write("</td>\r\n\t\t  <td id=\"saveNameNase64\" style=\"display:none\" class=\"");
            out.print(listClass);
            out.write('"');
            out.write(' ');
            out.write('>');
            out.print(fileBase64);
            out.write("</td>\r\n\t\t  <td class=\"");
            out.print(listClass);
            out.write("\" >&nbsp;\r\n\t\t  ");

		  	if("1".equals(edit)){
		  
            out.write("\r\n\t\t  <img src=\"/jsoa/images/del.gif\" style=\"cursor:pointer\" onclick=\"delaccessory(this)\">\r\n          ");
 
		  	}
          
            out.write("\r\n          </td>\r\n\t</tr>\r\n\t");

	index++;
    }
	
            out.write("\r\n   </FORM>\r\n</table>\r\n<table width=\"100%\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"pagebar\">\r\n <tr>\r\n    <td>\r\n\t \r\n\t  </td>\r\n\t</tr>\r\n</table>\r\n</td>\r\n</tr>\r\n</table>\r\n<iframe id=\"uploadIframe\" name=\"myIframe\" frameborder=\"0\" scrolling=\"no\" width=\"100%\" height=\"450\" style=\"display:none\"></iframe>\r\n<input type=\"hidden\" id=\"isProcess\"  value=\"");
            out.print(proce);
            out.write("\">\r\n\r\n</body>\r\n");
            int evalDoAfterBody = _jspx_th_html_005fhtml_005f0.doAfterBody();
            if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
              break;
          } while (true);
        }
        if (_jspx_th_html_005fhtml_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
          return;
        }
        _005fjspx_005ftagPool_005fhtml_005fhtml.reuse(_jspx_th_html_005fhtml_005f0);
        _jspx_th_html_005fhtml_005f0_reused = true;
      } finally {
        org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_html_005fhtml_005f0, _jsp_getInstanceManager(), _jspx_th_html_005fhtml_005f0_reused);
      }
      out.write("\r\n<script language=\"javascript\">\r\nwindow.onbeforeunload = function(event) {\r\n\tvar id = \"#realFileForSave_");
      out.print(saveName);
      out.write("\"\r\n\tvar openrElement = $(id, window.opener.document);\r\n\t$(openrElement.children(\"input\").get(0)).val();\r\n\tvar fileNames = selectAllFileNameElement();\r\n\tvar saveNames = selectAllSaveNameElement();\r\n\t$(openrElement.children(\"input\").get(0)).val(saveNames);\r\n\t$(openrElement.children(\"input\").get(1)).val(fileNames);\r\n\t$(\"#sp_num");
      out.print(saveName);
      out.write("\", window.opener.document).text($(\"#t_id tr\").size()-1);\r\n\tif($(\"#isProcess\").val()==1){\r\n\t\tvar ids = \"#");
      out.print(saveName);
      out.write("\";\r\n\t\tvar idf = \"#");
      out.print(fileName);
      out.write("\";\r\n\t\t$(ids, window.opener.parent.document).val(selectAllSaveNameElement());\r\n\t\t$(idf, window.opener.parent.document).val(selectAllFileNameElement());\r\n\t}\r\n}\r\nfunction delaccessory(obj){\r\n\tvar removeNode = $(obj).parent().parent();\r\n\tvar rowNum = removeNode.index();\r\n\tvar nextNodes = removeNode.nextAll();\r\n\tfor(var i=0;i<nextNodes.length;i++){\r\n\t\t$(nextNodes[i]).find(\"#fileIndex\").text(rowNum+i);\r\n\t}\r\n\tremoveNode.remove();\r\n\tvar openrElement = $(\"#realFileForSave\", window.opener.document);\r\n\t$(openrElement.children(\"input\").get(0)).val();\r\n\tvar fileNames = selectAllFileNameElement();\r\n\tvar saveNames = selectAllSaveNameElement();\r\n\t$(openrElement.children(\"input\").get(0)).val(saveNames);\r\n\t$(openrElement.children(\"input\").get(1)).val(fileNames);\r\n}\r\n\r\nfunction selectAllFileNameElement(){\r\n\tvar res = '';\r\n\tvar nextNodes = $(\"#t_id tr\");\r\n\tfor(var i=1;i<nextNodes.length;i++){\r\n\t\tvar rowNum = $(nextNodes[i]).index();\r\n\t\tif($(\"#isProcess\").val()==1){\r\n\t\t\tres = res+';'+$.trim($(nextNodes[i]).find(\"#fileName\").text())+';';\r\n");
      out.write("\t\t}else{\r\n\t\t\tres = res+$.trim($(nextNodes[i]).find(\"#fileName\").text())+'|';\r\n\t\t\tif(i==nextNodes.length-1){\r\n\t       \t\t res = res.substring(0,res.length-1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn res;\r\n}\r\nfunction selectAllSaveNameElement(){\r\n\tvar res = '';\r\n\tvar nextNodes = $(\"#t_id tr\");\r\n\tfor(var i=1;i<nextNodes.length;i++){\r\n\t\tif($(\"#isProcess\").val()==1){\r\n\t\t\tres = res + ';'+$.trim($(nextNodes[i]).find(\"#saveName\").text())+';';\r\n\t\t}else{\r\n\t\t\tres = res + $.trim($(nextNodes[i]).find(\"#saveName\").text())+'|';\r\n\t\t\tif(i==nextNodes.length-1){\r\n\t           res = res.substring(0,res.length-1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn res;\r\n}\r\n\r\nfunction upload(){\r\n\t$(\"#uploadIframe\").css('display','block');\r\n\tvar path = $(\"#uploadPath_");
      out.print(saveName);
      out.write("\", window.opener.document).val();\r\n\tvar fileName = $(\"#uploadFileName_");
      out.print(saveName);
      out.write("\", window.opener.document).val();\r\n\tvar saveName = $(\"#uploadSaveName_");
      out.print(saveName);
      out.write("\", window.opener.document).val();\r\n\tvar tableName = $(\"#uploadTableName_");
      out.print(saveName);
      out.write("\", window.opener.document).val();\r\n\tvar fileSize = $(\"#uploadFileSize_");
      out.print(saveName);
      out.write("\", window.opener.document).val();\r\n\tvar fileNum = $(\"#uploadFileNum_");
      out.print(saveName);
      out.write("\", window.opener.document).val();\r\n\tvar fileType = $(\"#uploadFileType_");
      out.print(saveName);
      out.write("\", window.opener.document).val();\r\n\tvar fileMinWidth = $(\"#uploadFileMinWidth_");
      out.print(saveName);
      out.write("\", window.opener.document).val();\r\n\tvar fileMinHeight = $(\"#uploadFileMinHeight_");
      out.print(saveName);
      out.write("\", window.opener.document).val();\r\n\tvar fileMaxWidth = $(\"#uploadFileMaxWidtht_");
      out.print(saveName);
      out.write("\", window.opener.document).val();\r\n\tvar fileMaxHeight =$(\"#uploadFileMaxHeight_");
      out.print(saveName);
      out.write("\", window.opener.document).val();\r\n\t$(\"#uploadIframe\").attr(\"src\",\"/jsoa/public/jsp/doc_smartUploadNew.jsp?path=\"+path+\"&fileName=\"+fileName+\"&saveName=\"+saveName+\"&tableName=\"+tableName+\"&fileMaxSize=\"+fileSize+\"&fileMaxNum=\"+fileNum+\"&fileType=\"+fileType+\"&fileMinHeight=\"+fileMinHeight+\"&fileMinWidth=\"+fileMinWidth+\"&fileMaxHeight=\"+fileMaxHeight+\"&fileMaxWidth=\"+fileMaxWidth);\t\r\n}\r\n\r\nfunction uploadBatch(){\r\n\tvar checkNum = 0;\r\n\tvar downSaveNames =  new Array();\r\n\t$(\"input[name='checkSingle']\").each(function(){\r\n\t\t if($(this).attr(\"checked\")==true){\r\n\t\t\t downSaveNames[checkNum] = $(this).parent().parent().find(\"#saveNameNase64\").text();\r\n\t\t\t checkNum = checkNum+1;\r\n\t\t\t //alert($(this).parent().parent().find(\"#fileName\").text());\r\n\t\t }\r\n\t});\r\n\t\r\n\tif(checkNum<1){\r\n\t\talert(\"请选择至少1个文件下载！\");\r\n\t}else{\r\n\t\tvar http_request = false;\r\n\t\t   \r\n\t    if(window.XMLHttpRequest) {\r\n\t        http_request = new XMLHttpRequest();\r\n\t        if (http_request.overrideMimeType) {\r\n\t            http_request.overrideMimeType('text/xml');\r\n");
      out.write("\t        }\r\n\t    } else if (window.ActiveXObject) { \r\n\t        try {\r\n\t            http_request = new ActiveXObject(\"Msxml2.XMLHTTP\");\r\n\t        } catch (e) {\r\n\t            try {\r\n\t                http_request = new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n\t            } catch (e) {}\r\n\t        }\r\n\t    }\r\n\t    if (!http_request) { \r\n\t        window.alert(\"不能创建XMLHttpRequest对象实例.\");\r\n\t        return false;\r\n\t    }else{     \r\n\t        http_request.open(\"POST\", \"/jsoa/public/jsp/saveUrlData.jsp\", false);/*此处需同步执行*/\r\n\t        http_request.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\");\r\n\t        http_request.send(\"putURL=\"+downSaveNames);\r\n\t    }\r\n\t    if (http_request.readyState == 4) { \r\n\t        if (http_request.status == 200) { \r\n\t        \t//JSMainWinOpen4(\"/jsoa/public/jsp/doc_receivewatch.jsp\",'','','1100','680');\t        \t\r\n\t        \twindow.location.href=\"/jsoa/downloadBatchNew.jsp\";\r\n\t        } else { /*页面不正常*/\r\n\t            alert(\"您所请求的页面有异常。\");\r\n\t        }\r\n\t    }\r\n\t    \r\n\t\t//window.location.href=\"/jsoa/downloadBatchNew.jsp?downloadFiles=\"+downSaveNames;\r\n");
      out.write("\t}\r\n}\r\n\r\nfunction checkAll(){\r\n\t$(\"input[name='checkSingle']\").each(function(){\r\n\t\t$(this).attr(\"checked\",$(\"#selectAll\").attr(\"checked\"));\r\n\t});\r\n}\r\n</script>\r\n<script src=\"/jsoa/js/util.js\"></script>\r\n<script src=\"/jsoa/js/imenu.js\"></script>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
