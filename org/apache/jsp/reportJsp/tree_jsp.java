/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: JspC/ApacheTomcat8
 * Generated at: 2023-01-06 09:54:29 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.reportJsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.io.*;
import java.text.*;
import java.net.*;

public final class tree_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {


 void printReportMenu(File root,String parentMenuID,JspWriter out,String contextPath,String reportFileHome,int rootMenu_length)
 throws IOException
{
	StringBuffer spaceHtml=new StringBuffer();
	for(int i=-1;i<(parentMenuID.length()-rootMenu_length)/3;i++)
	{
		spaceHtml.append("<img  src='"+contextPath+"/img/tree/space.gif'>");
	}
	File[] fileList=root.listFiles();
	//对文件名按字母顺序排序
	int l=fileList.length;
	for(int i=1;i<l;i++){
		File tmp=fileList[i-1];
		int tmpi=i-1;
		for(int j=i;j<l;j++){
			if(tmp.getName().compareTo(fileList[j].getName())>0){
				tmp=fileList[j];
				tmpi=j;
			}
		}
		if(tmpi!=i-1){
			fileList[tmpi]=fileList[i-1];
			fileList[i-1]=tmp;
		}

	}
	for(int i=0;i<fileList.length;i++)
	{
		DecimalFormat df = new DecimalFormat( "000" );
		String menuID=parentMenuID+df.format(i);
		File tmpFile=fileList[i];
		if(tmpFile.isDirectory()&&!tmpFile.isHidden())
		{
			out.println("<DIV align='left' id='"+menuID+"Parent' >");
			out.println("<table border='0'  cellpadding='0' cellspacing='0'><tr height='10'><td height='10' nowrap align='left'>");
			out.println(spaceHtml.toString());
			out.println("<img style='font-size:12px; font-family:宋体; color:black;cursor:hand' onclick=expandIt('"+menuID+"') id='"+menuID+"IMG' src='"+contextPath+"/img/tree/menu_closed.png' style='vertical-align:-3px;'>");
			out.println("<span  style='font-size:12px; font-family:宋体; color:black;cursor:hand' onclick=expandIt('"+menuID+"')>"+tmpFile.getName()+"</span>");
			out.println("</td></tr></table>");

			out.println("<DIV align='left' id='"+menuID+"Child' style='display:none'>");
			printReportMenu(tmpFile,menuID,out,contextPath,reportFileHome,rootMenu_length);
			out.println("</DIV>");
			out.println("</DIV>");
		}
	}

	for(int i=0;i<fileList.length;i++)
	{
		DecimalFormat df = new DecimalFormat( "000" );
		String menuID=parentMenuID+df.format(i);
		File tmpFile=fileList[i];
		 if(tmpFile.isFile()&&tmpFile.getName().endsWith(".raq")&&!tmpFile.isHidden())
		{
			String report=tmpFile.getAbsolutePath().substring(reportFileHome.length()).replace('\\','/');

			String reportName=tmpFile.getName().substring(0,(tmpFile.getName().length()-4));
			//report=URLEncoder.encode(report);
			out.println("<DIV align='left' id='"+menuID+"Content' >");
			out.println("<table border='0'  cellpadding='0' cellspacing='0'><tr height='10'><td height='10' nowrap align='left'>");
			out.println(spaceHtml.toString());
			out.println("<img id='"+menuID+"IMG' src='"+contextPath+"/img/tree/report.png' style='vertical-align:-3px;'>");

			out.println("<span nowrap  id='"+menuID+"RPT' selected=false style='font-size:12px; font-family:宋体; color:black;cursor:hand' onclick=showReport('"+menuID+"') reportFile='"+report+"'>"+reportName+"</span>");
			//out.println("<a href='"+contextPath+"/showReport.jsp?report="+report+"' target='runqian'>"+reportName+"</a>");
			out.println("</td></tr></table>");
			out.println("</DIV>");
		}
		if(tmpFile.isFile()&&tmpFile.getName().endsWith(".rpg")&&!tmpFile.isHidden())
		{
			String report=tmpFile.getAbsolutePath().substring(reportFileHome.length()).replace('\\','/');

			String reportName=tmpFile.getName().substring(0,(tmpFile.getName().length()-4));
			//report=URLEncoder.encode(report);
			out.println("<DIV align='left' id='"+menuID+"Content' >");
			out.println("<table border='0'  cellpadding='0' cellspacing='0'><tr height='10'><td height='10' nowrap align='left'>");
			out.println(spaceHtml.toString());
			out.println("<img id='"+menuID+"IMG' src='"+contextPath+"/img/tree/report.png' style='vertical-align:-3px;'>");

			out.println("<span nowrap  id='"+menuID+"RPT' selected=false style='font-size:12px; font-family:宋体; color:black;cursor:hand' onclick=showReportGroup('"+menuID+"') reportFile='"+report+"'>"+reportName+"</span>");
			//out.println("<a href='"+contextPath+"/showReport.jsp?report="+report+"' target='runqian'>"+reportName+"</a>");
			out.println("</td></tr></table>");
			out.println("</DIV>");
		}
	}
}
 void printJspMenu(File root,String parentMenuID,JspWriter out,String contextPath,String reportFileHome,int rootMenu_length)
 throws IOException
{

	StringBuffer spaceHtml=new StringBuffer();
	for(int i=-1;i<(parentMenuID.length()-rootMenu_length)/3;i++)
	{
		spaceHtml.append("<img  src='"+contextPath+"/img/tree/space.gif'>");
	}
	File[] fileList=root.listFiles();
	//对文件名按字母顺序排序
	int l=fileList.length;
	for(int i=1;i<l;i++){
		File tmp=fileList[i-1];
		int tmpi=i-1;
		for(int j=i;j<l;j++){
			if(tmp.getName().compareTo(fileList[j].getName())>0){
				tmp=fileList[j];
				tmpi=j;
			}
		}
		if(tmpi!=i-1){
			fileList[tmpi]=fileList[i-1];
			fileList[i-1]=tmp;
		}

	}
	for(int i=0;i<fileList.length;i++)
	{
		DecimalFormat df = new DecimalFormat( "000" );
		String menuID=parentMenuID+df.format(i);
		File tmpFile=fileList[i];
		if(tmpFile.isDirectory()&&!tmpFile.isHidden())
		{
			out.println("<DIV align='left' id='"+menuID+"Parent' >");
			out.println(spaceHtml.toString());
			out.println("<img style='font-size:12px; font-family:宋体; color:black;cursor:hand' onclick=expandIt('"+menuID+"') id='"+menuID+"IMG' src='"+contextPath+"/img/tree/menu_closed.png' style='vertical-align:-3px;'>");
			out.println("<span  style='font-size:12px; font-family:宋体; color:black;cursor:hand' onclick=expandIt('"+menuID+"')>"+tmpFile.getName()+"</span>");
			out.println("<DIV align='left' id='"+menuID+"Child' style='display:none'>");
			printJspMenu(tmpFile,menuID,out,contextPath,reportFileHome,rootMenu_length);
			out.println("</DIV>");
			out.println("</DIV>");
		}
	}

	for(int i=0;i<fileList.length;i++)
	{
		DecimalFormat df = new DecimalFormat( "000" );
		String menuID=parentMenuID+df.format(i);
		File tmpFile=fileList[i];
		 if(tmpFile.isFile()&&!tmpFile.isHidden())
		{
			//System.out.println(tmpFile.getName());
			String report=tmpFile.getAbsolutePath().substring(reportFileHome.length()).replace('\\','/');
			//report=URLEncoder.encode(report);
			if(!tmpFile.getName().endsWith(".jsp"))
			continue;
			String reportName=tmpFile.getName().substring(0,(tmpFile.getName().length()-4));

			out.println("<DIV align='left' id='"+menuID+"Content' >");
			out.println("<table border='0'  cellpadding='0' cellspacing='0'><tr height='10'><td height='10' nowrap align='left'>");
			out.println(spaceHtml.toString());
			out.println("<img id='"+menuID+"IMG' src='"+contextPath+"/img/tree/report.png' style='vertical-align:-3px;'>");

			out.println("<span nowrap  id='"+menuID+"RPT' selected=false style='font-size:12px; font-family:宋体; color:black;cursor:hand' onclick=showJsp('"+menuID+"') reportFile='"+report+"'>"+reportName+"</span>");
			//out.println("<a href='"+contextPath+"/showReport.jsp?report="+report+"' target='runqian'>"+reportName+"</a>");
			out.println("</td></tr></table>");
			out.println("</DIV>");
		}
	}
}

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("java.text");
    _jspx_imports_packages.add("java.net");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("java.io");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = null;
  }

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    final java.lang.String _jspx_method = request.getMethod();
    if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method) && !javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET, POST or HEAD. Jasper also permits OPTIONS");
      return;
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html;charset=gb2312");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n\r\n\r\n");

      String reportFileHome="/reportFiles";
	   reportFileHome = application.getRealPath(reportFileHome);
	   String jspRootPath = application.getRealPath("/jsp");
	   File reportRoot = new File(reportFileHome);
	   File jspRoot = new File(jspRootPath);

	   String startMenuID = "MENU000";
	   String startJspMenuID = "JSPM000";
	   String appmap = request.getContextPath();

      out.write("\r\n<html>\r\n<head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=gb2312\">\r\n<title>目录树</title>\r\n<link href=\"css/main.css\" rel=\"stylesheet\" type=\"text/css\">\r\n<body topMargin=0 leftMargin=0 rightMargin=0 bottomMargin=0 style=\"padding:5px 0px 0px 13px; background: #ECF5FF\">\r\n\r\n\r\n\r\n<table id=titleTable width=100% cellspacing=0 cellpadding=0><!--<tr>\r\n\t<td height=\"22\" valign=\"middle\" background=\"../images/ta51top2.jpg\" style=\"font-size:13px\" nowrap></td>\r\n</tr>-->\r\n<tr height=6><td></td></tr>\r\n</table>\r\n");
      out.write('\r');
      out.write('\n');


			out.println("<DIV align='left' id='"+startMenuID+"Parent' >");
			out.println("<img style='font-size:12px; font-family:宋体; color:black;cursor:hand' onclick=expandIt('"+startMenuID+"') id='"+startMenuID+"IMG' src='"+request.getContextPath()+"/img/tree/menu_closed.png' style='vertical-align:-3px;'>");
			out.println("<span  style='font-size:12px; font-family:宋体; color:black;cursor:hand' onclick=expandIt('"+startMenuID+"')>报表例子</span>");
			out.println("<DIV align='left' id='"+startMenuID+"Child' style='display:none'>");
                 printReportMenu(reportRoot,startMenuID,out,request.getContextPath(),reportFileHome,startMenuID.length());
			out.println("</DIV>");
			out.println("</DIV>");


			out.println("<DIV align='left' id='"+startJspMenuID+"Parent' >");
			out.println("<img style='font-size:12px; font-family:宋体; color:black;cursor:hand' onclick=expandIt('"+startJspMenuID+"') id='"+startJspMenuID+"IMG' src='"+request.getContextPath()+"/img/tree/menu_closed.png' style='vertical-align:-3px;'>");
			out.println("<span  style='font-size:12px; font-family:宋体; color:black;cursor:hand' onclick=expandIt('"+startJspMenuID+"')>JSP演示例子</span>");
			out.println("<DIV align='left' id='"+startJspMenuID+"Child' style='display:none'>");
             printJspMenu(jspRoot,startJspMenuID,out,request.getContextPath(),jspRootPath,startJspMenuID.length());
			out.println("</DIV>");
			out.println("</DIV>");



      out.write("\r\n</body>\r\n</html>\r\n\r\n<script language=\"javascript\">\r\nvar selectedRPTID;\r\nvar numTotal=0;\r\nNS4 = (document.layers) ? 1 : 0;\r\nIE4 = (document.all) ? 1 : 0;\r\nver4 = (NS4 || IE4) ? 1 : 0;\r\nif (ver4) {\r\n        with (document) {\r\n                write(\"<STYLE TYPE='text/css'>\");\r\n                if (NS4) {\r\n                        write(\".parent {position:absolute; visibility:visible}\");\r\n                        write(\".child {position:absolute; visibility:visible}\");\r\n                        write(\".regular {position:absolute; visibility:visible}\") ;\r\n                } else {\r\n                        write(\".child {display:none}\")\r\n                }\r\n                write(\"</STYLE>\");\r\n        }\r\n}\r\n\r\nfunction expandIt(blkObjName) {\r\n\tvar selectDivObj1;\r\n\tselectDivObj = eval(blkObjName + \"Child\");\r\n\tselectImgObj = eval(blkObjName + \"IMG\");\r\n\t//如果被选中的的区域的子区域处于隐藏状态，则显示之\r\n\tif(selectDivObj.style.display==\"none\")\r\n\t{\r\n\t  for(n=blkObjName.length;n>4;n-=3)\r\n\t  {\r\n\t    idstr=blkObjName.substring(0,n);\r\n\t    divobj = eval(idstr + \"Child\");\r\n");
      out.write("\t    divobj.style.display = \"block\";\r\n\t    imgobj = eval(idstr + \"IMG\");\r\n\t    imgobj.src=\"");
      out.print(request.getContextPath());
      out.write("/img/tree/menu_open.png\";\r\n\t  }\r\n\t}\r\n\t//否则隐藏之,显示上一级\r\n\telse\r\n\t{\r\n\t  for(n=blkObjName.length-3;n>4;n-=3)\r\n\t  {\r\n\t    idstr=blkObjName.substring(0,n);\r\n\t    divobj = eval(idstr + \"Child\");\r\n\t    divobj.style.display = \"block\";\r\n\t    imgobj = eval(idstr + \"IMG\");\r\n\t    imgobj.src=\"");
      out.print(request.getContextPath());
      out.write("/img/tree/menu_open.png\";\r\n\t  }\r\n\t   selectDivObj.style.display = \"none\";\r\n\t   selectImgObj.src=\"");
      out.print(request.getContextPath());
      out.write("/img/tree/menu_closed.png\";\r\n\t}\r\n}\r\n\r\nfunction arrange() {\r\n\tnextY=document.layers[firstInd].pageY + document.layers[firstInd].document.height;\r\n\tfor (i=firstInd+1; i<document.layers.length; i++) {\r\n\t   whichEl = document.layers[i];\r\n\t   if (whichEl.visibility != \"hide\") {\r\n\t        whichEl.pageY = nextY;\r\n\t        nextY += whichEl.document.height;\r\n\t   }\r\n\t}\r\n}\r\nfunction showReport(menuID)\r\n{\r\n\r\n\r\n\tif(selectedRPTID)\r\n\t{\r\n\t\tlastRPTObj=eval(selectedRPTID + \"RPT\");\r\n\t\tlastIMGObj=eval(selectedRPTID + \"IMG\");\r\n\t\t//alert(\"selectedRPTID===\"+selectedRPTID)\r\n\t\tlastRPTObj.style.color=\"#84BCEA\";\r\n\t}\r\n\tselectedRPTID=menuID;\r\n\tselectRPTObj = eval(menuID + \"RPT\");\r\n\tselectImgObj = eval(menuID + \"IMG\");\r\n\tselectRPTObj.style.color=\"#FF0000\";\r\n    parent.contentArea.location.href=\"");
      out.print(request.getContextPath());
      out.write("/reportJsp/showReport.jsp?raq=\"+selectRPTObj.reportFile;\r\n}\r\nfunction showReportGroup(menuID)\r\n{\r\n\r\n\r\n\tif(selectedRPTID)\r\n\t{\r\n\t\tlastRPTObj=eval(selectedRPTID + \"RPT\");\r\n\t\tlastIMGObj=eval(selectedRPTID + \"IMG\");\r\n\t\t//alert(\"selectedRPTID===\"+selectedRPTID)\r\n\t\tlastRPTObj.style.color=\"#84BCEA\";\r\n\t}\r\n\tselectedRPTID=menuID;\r\n\tselectRPTObj = eval(menuID + \"RPT\");\r\n\tselectImgObj = eval(menuID + \"IMG\");\r\n\tselectRPTObj.style.color=\"#FF0000\";\r\n    parent.contentArea.location.href=\"");
      out.print(request.getContextPath());
      out.write("/reportJsp/showReportGroup.jsp?rpg=\"+selectRPTObj.reportFile;\r\n}\r\nfunction showJsp(menuID)\r\n{\r\n\tif(selectedRPTID)\r\n\t{\r\n\t\tlastRPTObj=eval(selectedRPTID + \"RPT\");\r\n\t\tlastIMGObj=eval(selectedRPTID + \"IMG\");\r\n\t\t//alert(\"selectedRPTID===\"+selectedRPTID)\r\n\t\tlastRPTObj.style.color=\"#84BCEA\";\r\n\t}\r\n\tselectedRPTID=menuID;\r\n\tselectRPTObj = eval(menuID + \"RPT\");\r\n\tselectImgObj = eval(menuID + \"IMG\");\r\n\tselectRPTObj.style.color=\"#FF0000\";\r\n    parent.contentArea.location.href=\"");
      out.print(request.getContextPath());
      out.write("/jsp\"+selectRPTObj.reportFile;\r\n}\r\n</script>\r\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
